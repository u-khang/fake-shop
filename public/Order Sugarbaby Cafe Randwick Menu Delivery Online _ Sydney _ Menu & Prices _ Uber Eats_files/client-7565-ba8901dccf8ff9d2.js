"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[7565],{7565:(e,i,t)=>{t.d(i,{Z:()=>he});var o=t(43193),a=t(91631),n=t(62149),r=t(91931),l=t(36151),s=t(81149),d=t(46933),c=t(4864),p=t(25750),u=t(22395),m=t(62091),g=t(24217),h=t(10400),b=t(89400),$=t(31913),x=t(87763),f=t(71110),y=t(73448),I=t(2403),Z=t(6479),v=t(90644),A=t(63036),z=t(8639),U=t(11849),T=t(4868),w=t("__fusion__969"),B=t(57578),C=t(79250),_=t(87444),D=t(74031),S=t(33990);const k=(0,r.zo)("div",(e=>{let{$theme:i,$hasImage:t,$borderColor:o,$cornerRadius:a}=e;const n=(0,z.Lq)(o),r=(0,A.lU)(a);return{display:"flex",position:"relative",height:t?"fit-content":"auto",flexDirection:t?"row-reverse":"row",...n&&{border:`1px solid ${i.colors[n]}`,borderRadius:`${r}px`}}})),P=(0,r.zo)("div",(e=>{let{$theme:i,$borderColor:t,$cornerRadius:o}=e;const a=(0,z.Lq)(t),n=(0,A.lU)(o);return{display:"flex",flexDirection:"column",position:"relative",height:"auto",minHeight:"180px",...a&&{border:`1px solid ${i.colors[a]}`,borderRadius:`${n}px`}}})),R=(0,r.zo)("div",(e=>{let{$theme:i,$isBorderPresent:t}=e;return{display:"flex",flexDirection:"column",paddingTop:"4px",overflow:"hidden",...t&&{padding:`${i.sizing.scale100} ${i.sizing.scale300} ${i.sizing.scale300} ${i.sizing.scale300}`}}})),O=(0,r.zo)("div",(e=>{let{$theme:i,$isBorderPresent:t}=e;return{display:"flex",flexDirection:"column",flexGrow:1,width:"100%",...t&&{padding:i.sizing.scale300}}})),L=(0,r.zo)("div",(e=>{let{$theme:i}=e;return{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word",paddingTop:i.sizing.scale100}})),E=(0,r.zo)("div",(e=>{let{$theme:i}=e;return{paddingTop:i.sizing.scale300,display:"flex"}})),F=(0,r.zo)("div",(e=>{let{$theme:i,$imageDimensions:t,$catalogConfigImageDimensions:o}=e;return{...t?.width&&t?.height?{width:`${t.width}px`,height:`${t.height}px`}:o?.height&&o?.aspectRatio?{aspectRatio:`${o.aspectRatio}`,height:`${o.height}px`}:{height:"112px",aspectRatio:"1"},display:"flex",flexShrink:0,position:"relative",marginLeft:i.sizing.scale300}})),W=(0,r.zo)("div",(e=>{let{$imageDimensions:i,$catalogConfigImageDimensions:t}=e;return{...i?.width&&i?.height?{width:`${i.width}px`,height:`${i.height}px`}:t?.height&&t?.aspectRatio?{aspectRatio:`${t.aspectRatio}`,height:`${t.height}px`}:{alignItems:"center",maxHeight:"132px",":before":{display:"block",content:'""',paddingTop:"100%"}},display:"flex",flexShrink:0,position:"relative"}})),q=(0,r.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),G=(0,r.zo)(m.Z,(e=>{let{$isAvailable:i,$objectFit:t,$cornerRadius:o,$isCompleteBorderRadius:a,$isFullWidth:n}=e,r=o;a&&(r=v.p.SPACING_UNIT_1X);const l=(0,A.lU)(r);return{opacity:i?1:.5,position:"absolute",maxHeight:"132px",transform:"translate(-50%, -50%)",top:"50%",left:"50%",width:"100%",height:"100%",objectFit:t,borderRadius:a?`${l}px`:n?`0px ${l}px ${l}px 0px`:`${l}px ${l}px 0px 0px`}})),M=(0,r.zo)(b.Z,(e=>{let{$paddingTop:i}=e;return{paddingTop:i}})),N=(0,r.zo)(w.default,(e=>{let{$marginBottom:i}=e;return{marginBottom:i}})),H=(0,r.zo)("div",(e=>{let{$theme:i,$isAvailable:t}=e;return{...i.typography.ParagraphSmall,...t?{}:{color:i.colors.contentTertiary}}})),X=(0,r.zo)("div",(e=>{let{$theme:i}=e;return{...i.typography.LabelXSmall,height:"24px",color:i.colors.buttonSecondaryText,background:i.colors.buttonSecondaryFill,boxSizing:"border-box",padding:`${i.sizing.scale100} ${i.sizing.scale300}`,marginTop:i.sizing.scale100,borderRadius:i.borders.radius400,width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"flex",alignItems:"center"}})),V=(0,r.zo)("div",(e=>{let{$theme:i,$isFullWidth:t,$quickAddPosition:o}=e;return{...i.typography.LabelXSmall,height:i.sizing.scale800,background:i.colors.signpost,color:i.colors.onSignpost,boxSizing:"border-box",padding:`${i.sizing.scale100} ${i.sizing.scale200}`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...o===h.oN.BOTTOM_TRAILING?{maxWidth:"90%"}:{maxWidth:"50%"},...t?{marginTop:i.sizing.scale100,width:"fit-content",borderRadius:i.sizing.scale500}:{top:i.sizing.scale300,position:"absolute",borderRadius:`0 ${i.sizing.scale500} ${i.sizing.scale500} 0`}}})),Y=(0,r.zo)("div",(e=>{let{$theme:i}=e;return{paddingTop:i.sizing.scale0,display:"flex",alignItems:"flex-start",flexWrap:"wrap"}})),Q=(0,r.zo)("div",(e=>{let{$theme:i}=e;return{paddingTop:i.sizing.scale100,display:"flex",alignItems:"flex-start",flexWrap:"wrap"}})),j="LabelMedium",K="ParagraphSmall",J=(0,r.zo)("div",(e=>{let{$theme:i,$promoBadgePosition:t}=e;return{whiteSpace:"nowrap",display:"flex",alignItems:"flex-start",...t===T.u.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:i.sizing.scale100,left:i.sizing.scale100}:{marginTop:i.sizing.scale100}}})),ee=(0,r.zo)("div",(e=>{let{$theme:i}=e;return i.typography.LabelMedium})),ie=(0,f.pZ)(t(19702)),te=e=>{let{children:i,item:t,quickAdd:o,isFullWidth:a,isGrocery:n=!1,storeUuid:m,itemStyles:h,hasLazyloadOverflowContainer:f,scrollContainerValue:v,quickAddPosition:A,imageDimensions:z}=e;const[,w]=(0,r.hQ)(),te=[t.isSoldOut?(0,S.tZ)(d.v,{id:"components.BadgeSoldOut.message"}):null].filter(Boolean),oe=(0,c.ZP)(t.uuid||""),ae=Boolean(t.imageUrl),ne=a?k:P,re=a?F:W,le=a?O:R,se=t.imageUrl||ie,de=ae||!a,ce=Boolean(t.promoInfo?.promoBadge),{promotionComponentRef:pe}=(0,I.P)({catalogItem:t,storeUuid:m}),{adsViewableImpressionRef:ue}=(0,Z.Z)({itemAd:t.itemAd}),{itemRatingTreatmentName:me}=(0,C.F)(),ge=(0,_.Z)("cpg_ads_storefront_sponsored_items_enabled"),he=(0,l.useMemo)((()=>(0,B.xZ)(t,me)),[t,me]),be=t.isAvailable??!0;return(0,S.BX)(ne,{ref:ue,$hasImage:ae,$borderColor:h?.borderColor,$cornerRadius:h?.cornerRadius,children:[de?(0,S.tZ)(S.HY,{children:(0,S.BX)(re,{$catalogConfigImageDimensions:z,children:[(0,S.tZ)(s.ZP,{height:"100%",...f?{overflow:!0,offset:[1200,300]}:null,once:!0,scrollContainer:v,children:(0,S.tZ)(y.Z,{condition:ae,wrapper:e=>(0,S.tZ)(g.Z,{src:se,children:e}),children:(0,S.tZ)(G,{$objectFit:n?"contain":"cover",$isAvailable:be,$cornerRadius:h?.cornerRadius,$isCompleteBorderRadius:!h?.cornerRadius,$isFullWidth:a,src:se||"",alt:t.title||"","aria-hidden":!0})})}),(0,S.tZ)(q,{}),i,ce&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition===T.u.OVER_IMAGE_TOP_LEADING?(0,S.tZ)(J,{$promoBadgePosition:T.u.OVER_IMAGE_TOP_LEADING,children:(0,S.tZ)(U.Z,{viewModel:t.promoInfo?.promoBadge})}):!a&&t.endorsement?.textBorder?(0,S.tZ)(V,{$isFullWidth:!1,$quickAddPosition:A,children:t.endorsement.text}):null]})}):null,(0,S.BX)(le,{ref:pe,$isBorderPresent:Boolean(h?.borderColor),children:[(0,S.tZ)(x.Z,{clamp:3,children:a&&o?(0,S.tZ)(b.Z,{badge:t.titleBadge,baseFont:j}):t.headingPrimary?(0,S.tZ)($.ZP,{text:t.headingPrimary}):t.titleBadge?(0,S.tZ)(b.Z,{badge:t.titleBadge,baseFont:j}):t.title?(0,S.tZ)(ee,{children:t.title}):null}),t.labelPrimary?(0,S.tZ)(Y,{children:(0,S.tZ)(x.Z,{clamp:3,children:(0,S.tZ)($.ZP,{text:t.labelPrimary})})}):t.priceTagline?(0,S.tZ)(S.HY,{children:(0,S.tZ)(M,{$paddingTop:"4px",badge:t.priceTagline,baseFont:K})}):null,t.promoInfo&&t.promoInfo?.promoBadge&&t.promoInfo?.badgePosition===T.u.OFF_IMAGE_BELOW_TEXT?(0,S.tZ)(J,{$promoBadgePosition:T.u.OFF_IMAGE_BELOW_TEXT,children:(0,S.tZ)(U.Z,{viewModel:t.promoInfo.promoBadge})}):null,t.promoInfo&&!t.promoInfo?.promoBadge?(0,S.tZ)(Q,{children:(0,S.tZ)($.ZP,{text:t.promoInfo?.promoInfoLabel})}):null,t.labelTertiary&&ge?(0,S.tZ)(Q,{children:(0,S.tZ)($.ZP,{text:t.labelTertiary})}):null,t.itemDescriptionBadge&&a?(0,S.tZ)(S.HY,{children:(0,S.tZ)(L,{children:(0,S.tZ)(b.Z,{badge:t.itemDescriptionBadge,baseFont:K})})}):null,te.length?(0,S.tZ)(E,{children:(0,S.tZ)(p.Z,{separator:()=>(0,S.tZ)(u.Z,{...be?{}:{color:w.colors.contentTertiary}}),children:te.map(((e,i)=>(0,S.tZ)(H,{$isAvailable:be,children:e},`detail-${i}`)))})}):null,a&&t.endorsement&&t.endorsement?.textBorder?(0,S.tZ)(V,{$isFullWidth:!0,children:t.endorsement.text}):t.endorsement&&!t.endorsement.textBorder&&he?(0,S.BX)(X,{children:["confidence_builders_eater_endorsed"===t.endorsementAnalyticsTag?(0,S.tZ)(S.HY,{children:(0,S.tZ)(N,{$marginBottom:"4px"})}):null,he]}):null]}),oe>0&&!o?(0,S.tZ)(D.Z,{count:oe}):null]})};var oe=t(29495),ae=t(47986),ne=t(47091),re=t(33535),le=t(78979),se=t(16797),de=t(24316),ce=t(49723);const pe=(0,r.zo)("div",(e=>{let{$theme:i,$spanCount:t}=e;return{minWidth:0,gridColumn:`span ${t}`,[ne.k]:{width:"calc(50% - 16px)",margin:`0px ${i.sizing.scale600}`}}})),ue=(0,r.zo)("div",{textDecoration:"none",position:"relative"}),me=(0,r.zo)("div",(e=>{let{$theme:i,$quickAddPosition:t}=e;return{position:"absolute",right:i.sizing.scale300,display:"flex",alignItems:"center",flexDirection:"row",...t===h.oN.BOTTOM_TRAILING?{bottom:i.sizing.scale300}:{top:i.sizing.scale300}}})),ge=e=>{let{storeUuid:i,subsectionUuid:t,sectionUuid:r,item:l,cartItemCount:s,syncItemQuantity:d,index:c,quickAddCount:p,quickAddDisabled:u,gridColumns:m,catalogSectionType:g,catalogSectionAnalyticsData:b,isOpen:$,isGrocery:x,itemUrl:f,emitPickedForYouSectionItemEvent:y,itemStyles:I,onCatalogItemClickEvent:Z,quickAddSource:v,hasLazyloadOverflowContainer:A,maxSpanCount:z,scrollContainerValue:U,onLowAvailabilityAlternateItemClick:T,surface:w,shouldHideQuickAdd:B=!1,resultIndex:C,primaryBundledStoreUuid:_,imageDimensions:D,cartItemDecimalCount:k}=e;const P=(0,n.TH)(),R=(0,a.UO)(),{resetReplacementPreferencesAndNotes:O}=(0,ce.Z)(),L=(0,a.k6)(),{primaryDraftOrderUUID:E}=(0,ae.RAN)(P,["primaryDraftOrderUUID"]),{currentStoreDraftOrderUUID:F}=(0,de.Z)(),W=E||(F||void 0),q=(0,re.ZP)(),G="LIST"===l.displayType&&m===l.spanCount,M=l.quickAddConfig,N=M?.position,H=(0,le.Z)()&&!B&&$&&Boolean(l.isAvailable??!0),X={storeCatalog:{storeUuid:i,sectionUuid:r,subsectionUuid:t,itemUuid:l.uuid||"",endorsementAnalyticsTag:l.endorsementAnalyticsTag||"",itemPosition:l.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0,itemDisplayType:l.displayType||"",catalogSectionType:g,sourceType:w,catalogSectionAnalyticsData:b,promoUuid:l.promoInfo?.promotionUUID,analyticsLabel:l.analyticsLabel||""}},V=l?.itemAvailabilityState===h.F8.LIKELY_UNAVAILABLE,Y=o.useMemo((()=>({catalogSection:b})),[b]);return o.useEffect((()=>{V&&q("eats:item_availability_store_carousel_low_availability_impression",{itemAvailabilityStoreAndItem:{lowAvailabilityItemUuid:l?.uuid||"",catalogSectionUuid:r||""}})}),[q,V,l.uuid,r]),(0,S.tZ)(pe,{$spanCount:z||l.spanCount||1,children:(0,S.tZ)(ue,{"data-test":`store-item-${l.uuid}`,tabIndex:0,onClick:()=>{O(),q("eats:store_catalog_item_tap",X),l.itemAd&&q("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:se.J.CLICK,adImpressionUUID:l.itemAd.impressionId||"",adData:l.itemAd.adData||"",bidderUUID:null===i?void 0:i}}),y?.(X),Z?.({storeUuid:i,itemUuid:l.uuid||"",position:C||0}),T?.({alternateItemUuid:l.uuid||"",storeUuid:i}),f?L.push(f):L.push((0,ae.yz4)({location:P,args:{...(0,ae.WxO)(R),sectionUuid:r,subsectionUuid:t,itemUuid:l.uuid||"",..._&&{primaryBundledStoreUuid:_,primaryDraftOrderUUID:W}}}))},children:(0,S.tZ)(te,{isFullWidth:G,item:l,quickAdd:H,isGrocery:x,storeUuid:i,itemStyles:I,hasLazyloadOverflowContainer:A,scrollContainerValue:U,quickAddPosition:N,imageDimensions:D,children:H?(0,S.tZ)(me,{$quickAddPosition:N,children:(0,S.tZ)(oe.Z,{isInteractionEnabled:M?.isInteractionEnabled??!0,storeUUID:i,sectionUUID:r,subsectionUUID:t,item:l,cartItemCount:s,syncItemQuantity:d,quickAddCount:p,disabled:u,itemUrl:f,quickAddSource:v,itemAvailabilityState:l?.itemAvailabilityState,sourceType:w,analytics:Y,cartItemDecimalCount:k,resultIndex:C})}):null})})})},he=o.memo(ge)}}]);