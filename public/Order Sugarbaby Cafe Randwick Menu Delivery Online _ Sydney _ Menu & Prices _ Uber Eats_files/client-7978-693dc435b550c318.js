"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[7978],{40416:(e,i,t)=>{t.d(i,{Z:()=>u});var o=t(36151),r=t(58984),a=t(15070),n=t(16638),l=t(75514),d=t(76150),s=t(34626),c=t(1058);function u(){const e=(0,r.I0)(),{user:i}=(0,s.Z)(),{openSidebarCart:t}=(0,d.Lb)(),{isEnabled:u,treatment:m}=(0,c.Z)(),p=(0,a.v)((e=>e.scrollRestore));return{restoreScroll:(0,o.useCallback)((()=>{if(p.shouldRestore&&(l.Z?.scrollTo({top:p.value}),e((0,n.PS)()),!i.data?.isLoggedIn&&u&&"cart_animation"===m)){const e=()=>{l.Z?.scrollY===p.value&&(l.Z.removeEventListener("scroll",e),setTimeout((()=>{t()}),500))};l.Z&&l.Z.addEventListener("scroll",e)}}),[p.shouldRestore,p.value,e,i.data?.isLoggedIn,t,u,m]),setRestoreScrollPosition:i=>{e((0,n.L7)(i))}}}},77361:(e,i,t)=>{t.d(i,{Z:()=>h});var o=t(46933),r=t(91931),a=t(47986),n=t(52246),l=t(62149),d=t(7646),s=t(33535),c=t(16797),u=t(24316),m=t(85907),p=t(33990);const g=(0,r.w1)(d.Bi,(e=>{let{$theme:i,$isHovering:t}=e;return{transition:"opacity 0.3s ease-in-out",opacity:t?1:0,background:i.colors.backgroundPrimary,":hover":{background:i.colors.backgroundSecondary},color:i.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",pointerEvents:"auto",border:`1px solid ${i.colors.borderOpaque}`,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),h=e=>{const i=(0,l.TH)(),{currentStoreDraftOrderUUID:t}=(0,u.Z)(),{primaryDraftOrderUUID:r}=(0,a.RAN)(i,["primaryDraftOrderUUID"]),d=r||(t||void 0),h=(0,s.ZP)();return(0,p.tZ)(g,{$as:n.rU,onClick:i=>{h("eats:quick_view_pill_click",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}}),e.item.itemAd&&h("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:c.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:e.storeUuid}}),i.stopPropagation()},to:(0,a.f_e)(i,{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:d,entryPoint:(0,m.F)(e.surface)}}),$isHovering:e.isHovering,children:(0,p.tZ)(o.v,{id:"catalog_item.quick_view"})})}},28942:(e,i,t)=>{t.d(i,{Z:()=>j});var o=t(36151),r=t(43193),a=t(81149),n=t(91931),l=t(62091),d=t(24217),s=t(71110),c=t(67206),u=t(89400),m=t(31913),p=t(87763),g=t(77361),h=t(2403),y=t(6479),b=t(90644),U=t(63036),f=t(47986),Z=t(62149),v=t(10400),x=t(11849),I=t(4868),S=t("__fusion__969"),A=t(36278),$=t(57578),P=t(79250),_=t(87444),D=t(79640),w=t(32762),C=t(56174),E=t(7432),k=t(33990);const T=188,O=(0,n.zo)("div",(()=>({width:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"}))),B=(0,n.zo)("div",(e=>{let{$quickAddPosition:i}=e;return{position:"absolute",...i===v.oN.BOTTOM_TRAILING?{right:"8px",top:"8px"}:{left:"50%",transform:"translate(-50%, 0)",bottom:"8px"}}})),R=(0,n.zo)("div",(e=>{let{$theme:i,$imageDimensions:t,$catalogConfigImageDimensions:o,$isStoreOfdRedesignXpEnabled:r}=e;return{height:`${t?.height?t.height:o?o.height:T}px`,width:t?.width?`${t.width}px`:"100%",flexShrink:0,position:"relative",...r?{borderRadius:i.borders.radius400}:null}})),L=(0,n.zo)("div",(e=>{let{$cornerRadius:i}=e;return{borderRadius:`${i}px`,position:"relative",height:"100%",overflow:"hidden"}})),z=(0,n.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),X=(0,n.zo)(l.Z,(e=>{let{$isAvailable:i,$isHovering:t,$objectFit:o,$height:r,$loaded:a}=e;return{opacity:a?i?1:.5:0,height:`${r}px`,width:"100%",objectFit:o,flexShrink:0,transition:"transform 0.5s ease-in-out",transform:t?"scale(1.1)":"scale(1)"}})),F=(0,n.zo)("div",(e=>{let{$theme:i}=e;return{...i.typography.LabelXSmall,height:"24px",color:i.colors.buttonSecondaryText,background:i.colors.buttonSecondaryFill,boxSizing:"border-box",padding:"4px 8px",marginTop:"4px",borderRadius:"12px",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"flex",alignItems:"center"}})),N=(0,n.zo)("div",(e=>{let{$theme:i,$isStoreOfdRedesignXpEnabled:t}=e;return{...i.typography.LabelXSmall,position:"absolute",background:i.colors.signpost,color:i.colors.onSignpost,boxSizing:"border-box",height:i.sizing.scale800,top:i.sizing.scale300,borderRadius:`0 ${i.sizing.scale500} ${i.sizing.scale500} 0`,padding:`${i.sizing.scale100} ${i.sizing.scale500}`,textOverflow:"ellipsis",maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden"}})),q=(0,n.zo)("div",(e=>{let{$isBorderPresent:i}=e;return{paddingTop:"4px",display:"flex",flexDirection:"column",height:"100%",...i&&{padding:"4px 8px 8px 8px"}}})),G=(0,n.zo)("div",(e=>{let{$theme:i}=e;return{...(0,c.Z)({$theme:i,height:T})}})),H=(0,n.zo)("div",{paddingTop:"2px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),M=(0,n.zo)("p",{display:"flex",alignItems:"center",flexWrap:"wrap"}),W=(0,n.zo)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),Q=(0,n.zo)("div",(e=>{let{$promoBadgePosition:i}=e;return{display:"flex",alignItems:"flex-start",flexWrap:"wrap",...i===I.u.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"8px",left:"8px"}:{marginTop:"4px"}}})),V=(0,n.zo)("div",(e=>{let{$theme:i}=e;return i.typography.LabelMedium})),Y=(0,s.pZ)(t(19702)),K=e=>{let{item:i,children:t,isHovering:r,showQuickViewEntryPoint:n,storeUuid:l,sectionUuid:s,subsectionUuid:c,itemStyle:v,isGrocery:K,primaryBundledStoreUuid:j,catalogSectionAnalyticsData:J,hasLazyloadOverflowContainer:ee,surface:ie,imageDimensions:te,clampItemTitle:oe=!1}=e;const[re,ae]=(0,o.useState)(!1),ne=Boolean(i.imageUrl),{promotionComponentRef:le}=(0,h.P)({catalogItem:i,storeUuid:l}),{adsViewableImpressionRef:de}=(0,y.Z)({itemAd:i.itemAd}),se=(0,Z.TH)(),{modalName:ce}=(0,f.RAN)(se,["modalName"]),ue=i.quickAddConfig?.position,me=Boolean(i.promoInfo?.promoBadge),{itemRatingTreatmentName:pe}=(0,P.F)(),ge=(0,o.useMemo)((()=>(0,$.xZ)(i,pe)),[i,pe]),he=(0,_.Z)("cpg_ads_storefront_sponsored_items_enabled"),ye=i.isAvailable??!0,be=(0,D.JG)({itemStyle:v,isGrocery:K}),{isStoreOfdRedesignXpEnabled:Ue}=(0,w.Z)(),fe=(0,U.lU)(v?.cornerRadius??b.p.SPACING_UNIT_1_5X),Ze=v?.headingPrimaryMaxLines,ve=v?.labelPrimaryMaxLines;return(0,k.BX)(O,{"data-testid":`store-menu-item--${i.uuid}`,ref:de,children:[(0,k.BX)(R,{$catalogConfigImageDimensions:te,$isStoreOfdRedesignXpEnabled:Ue,children:[(0,k.BX)(L,{$cornerRadius:fe,children:[(e=>{let{cornerRadius:t}=e;const o=(0,k.tZ)(X,{$isHovering:!1,$objectFit:be,$hasImage:ne,$isAvailable:ye,$height:te?te.height:T,$loaded:re,src:i.imageUrl||Y,alt:i.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>ae(!0)}),r="magicUpsell"===ce?'[data-test="desktop-dialog"]':void 0;return i.imageUrl?(0,k.tZ)(a.ZP,{height:te?te.height:T,placeholder:(0,k.tZ)(G,{}),once:!0,scrollContainer:r,...ee?{overflow:!0,offset:[1200,300]}:{offset:te?te.height:T},children:(0,k.tZ)(d.Z,{src:i.imageUrl,children:o})}):o})({cornerRadius:fe}),i.imageOverlayElements?(0,k.tZ)(E.Z,{elements:i.imageOverlayElements}):(0,k.tZ)(z,{})]}),i.imageOverlayElements?null:(0,k.tZ)(k.HY,{children:me&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition===I.u.OVER_IMAGE_TOP_LEADING?(0,k.tZ)(Q,{$promoBadgePosition:I.u.OVER_IMAGE_TOP_LEADING,children:(0,k.tZ)(x.Z,{viewModel:i.promoInfo?.promoBadge})}):i.endorsement?.textBorder?(0,k.tZ)(N,{$isStoreOfdRedesignXpEnabled:Ue,children:i.endorsement.text}):null}),n&&i.uuid?(0,k.tZ)(B,{$quickAddPosition:ue,children:(0,k.tZ)(g.Z,{isHovering:r,item:i,itemUuid:i.uuid,storeUuid:l,sectionUuid:s,subsectionUuid:c,surface:ie,primaryBundledStoreUuid:j,catalogSectionAnalyticsData:J})}):null,t]}),(0,k.tZ)(q,{ref:le,$isBorderPresent:Boolean(v?.borderColor),children:i.itemThumbnailElements?(0,k.tZ)(C.Z,{elements:i.itemThumbnailElements}):(0,k.BX)(k.HY,{children:[(0,k.tZ)(p.Z,{clamp:3,children:i.headingPrimary&&Ze?(0,k.tZ)(p.Z,{clamp:Ze,children:(0,k.tZ)(m.ZP,{text:i.headingPrimary})}):i.headingPrimary&&oe?(0,k.tZ)(p.Z,{clamp:2,children:(0,k.tZ)(m.ZP,{text:i.headingPrimary})}):i.headingPrimary?(0,k.tZ)(m.ZP,{text:i.headingPrimary}):i.titleBadge?(0,k.tZ)(u.Z,{badge:i.titleBadge,baseFont:"LabelMedium"}):i.title&&!i.labelPrimary?(0,k.tZ)(V,{children:i.title}):null}),i.labelPrimary&&ve?(0,k.tZ)(H,{children:(0,k.tZ)(p.Z,{clamp:ve,children:(0,k.tZ)(m.ZP,{text:i.labelPrimary})})}):i.labelPrimary?K?(0,k.tZ)(H,{children:(0,k.tZ)(p.Z,{clamp:3,children:(0,k.tZ)(m.ZP,{text:i.labelPrimary})})}):(0,k.tZ)(M,{children:(0,k.tZ)(m.ZP,{text:i.labelPrimary})}):i.priceTagline?(0,k.tZ)(u.Z,{badge:i.priceTagline,baseFont:"ParagraphSmall"}):null,me&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition===I.u.OFF_IMAGE_BELOW_TEXT?(0,k.tZ)(Q,{$promoBadgePosition:I.u.OFF_IMAGE_BELOW_TEXT,children:(0,k.tZ)(x.Z,{viewModel:i.promoInfo?.promoBadge})}):null,!me&&i.promoInfo?.promoInfoLabel?(0,k.tZ)(W,{children:(0,k.tZ)(m.ZP,{text:i.promoInfo?.promoInfoLabel})}):null,i?.labelTertiary&&he?(0,k.tZ)(W,{children:(0,k.tZ)(m.ZP,{text:i.labelTertiary})}):null,i.endorsement&&!i.endorsement.textBorder&&ge?(0,k.BX)(F,{children:["confidence_builders_eater_endorsed"===i.endorsementAnalyticsTag?(0,k.BX)(k.HY,{children:[(0,k.tZ)(S.default,{}),(0,k.tZ)(A.Q3,{})]}):null,(0,k.tZ)(A.Q3,{}),ge]}):null]})})]})},j=r.memo(K)},7978:(e,i,t)=>{t.d(i,{C:()=>E,Z:()=>O});var o=t(43193),r=t(91931),a=t(28942),n=t(29217),l=t(47986),d=t(91631),s=t(62149),c=t(29495),u=t(29194),m=t(33535),p=t(32562),g=t(78979),h=t(10400),y=t(8639),b=t(63036),U=t(85907),f=t(16797),Z=t(40416),v=t(75514),x=t(24316),I=t(4864),S=t(74031),A=t(52246),$=t(55365),P=t(32762),_=t(19912),D=t(91377),w=t(33990);const C=(0,r.zo)(A.rU,{display:"flex",flex:1,textDecoration:"none",cursor:"pointer"}),E=(0,r.w1)(n.bL,(e=>{let{$spanCount:i,$theme:t,$borderColor:o,$cornerRadius:r,$isStoreOfdRedesignXpEnabled:a}=e;const n=(0,y.Lq)(o),l=(0,b.lU)(r);return{position:"relative",gridColumn:`span ${i}`,...n&&{border:`1px solid ${t.colors[n]}`,borderRadius:`${l}px`},...a?null:{":hover":{margin:"-8px",padding:"8px",boxShadow:t.shadows.filterCard,transition:"box-shadow 0.3s ease-in-out"}}}})),k=(0,r.zo)("div",(e=>{let{$quickAddPosition:i}=e;return{position:"absolute",right:"8px",display:"flex",alignItems:"center",flexDirection:"row",...i===h.oN.BOTTOM_TRAILING?{bottom:"8px"}:{top:"8px"}}})),T=e=>{const i=(0,d.UO)(),t=(0,d.k6)(),r=(0,s.TH)(),{setRestoreScrollPosition:n}=(0,Z.Z)(),y=(0,m.ZP)(),b=o.useRef(null),A=(0,p.Z)(b),T=(0,U.F)(e.surface),{primaryDraftOrderUUID:O,storeCatalogSections:B}=(0,l.RAN)(r,["primaryDraftOrderUUID","storeCatalogSections"]),{currentStoreDraftOrderUUID:R}=(0,x.Z)(),L=O||(R||void 0),z=e.itemUrl??(0,l.yz4)({location:r,args:{...(0,l.WxO)(i),sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:L,entryPoint:T}},previousContext:T}),X={storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",itemPosition:e.item.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0,endorsementAnalyticsTag:e.item.endorsementAnalyticsTag||"",itemDisplayType:e.item.displayType||"",catalogSectionType:e.catalogSectionType,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,analyticsLabel:e.item.analyticsLabel||"",...B?{originalCatalogSectionUuid:B}:null}},F={storeUuid:e.item.storeUuid||"",sectionUuid:e.item.sectionUuid||"",subsectionUuid:e.item.subsectionUuid||"",itemUuid:e.item?.uuid||"",source:"search",position:String(e.position),carouselPosition:e.position,feedItemUuid:e.item?.uuid||"",trackingCode:e.trackingCode},N=(0,_.Z)({eventName:"eats:single_catalog_item_impression",intersectionObserverProps:{threshold:.75},eventPayload:F}),q=e.trackingCode?(0,D.Z)(N,b):b,G=o.useMemo((()=>({catalogSection:e.catalogSectionAnalyticsData})),[e.catalogSectionAnalyticsData]),H=e.item.quickAddConfig,M=H?.position,W=(0,g.Z)()&&(H?.shouldShow??!0)&&!e.shouldHideQuickAdd,Q=W&&e.isOpen&&Boolean(e.item.isAvailable??!0),V=(0,u.gm)(),Y=e.item?.itemAvailabilityState===h.F8.LIKELY_UNAVAILABLE,K=(0,I.ZP)(e.item.uuid||""),j=e.cartItemCount??K,J=(0,$.Z)(X),{isStoreOfdRedesignXpEnabled:ee}=(0,P.Z)();return o.useEffect((()=>{Y&&y("eats:item_availability_store_carousel_low_availability_impression",{itemAvailabilityStoreAndItem:{lowAvailabilityItemUuid:e.item?.uuid||"",catalogSectionUuid:e.sectionUuid||""}})}),[y,Y,e.item?.uuid,e.sectionUuid]),(0,w.tZ)(E,{$as:"li",$spanCount:1,ref:q,$borderColor:e.itemStyle?.borderColor,$cornerRadius:e.itemStyle?.cornerRadius,$isStoreOfdRedesignXpEnabled:ee,children:(0,w.tZ)(C,{ref:J,tabIndex:0,to:z,onClick:i=>{i.metaKey||i.ctrlKey||(i.preventDefault(),y("eats:store_catalog_item_tap",X),v.Z&&n(v.Z.scrollY),e.item.itemAd&&y("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:f.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:null===e.storeUuid?void 0:e.storeUuid}}),e.emitPickedForYouSectionItemEvent?.(X),e.onCatalogItemClickEvent?.({storeUuid:e.storeUuid,itemUuid:e.item.uuid||""}),e.onLowAvailabilityAlternateItemClick?.({alternateItemUuid:e.item.uuid||"",storeUuid:e.storeUuid}),t.push(z))},children:(0,w.tZ)(a.Z,{item:e.item,quickAdd:Q,cartItemCount:e.cartItemCount,direction:V,isHovering:A,storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,showQuickViewEntryPoint:Boolean(e.showQuickViewEntryPoint),itemStyle:e.itemStyle,isGrocery:e.isGrocery,primaryBundledStoreUuid:e.primaryBundledStoreUuid,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,hasLazyloadOverflowContainer:e.hasLazyloadOverflowContainer,surface:e.surface,imageDimensions:e.imageDimensions,children:(0,w.BX)(k,{$quickAddPosition:M,children:[Q?(0,w.tZ)(c.Z,{isInteractionEnabled:H?.isInteractionEnabled??!0,storeUUID:e.storeUuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,item:e.item,cartItemCount:e.cartItemCount,cartItemDecimalCount:e.cartItemDecimalCount,syncItemQuantity:e.syncItemQuantity,quickAddCount:e.quickAddCount,disabled:e.quickAddDisabled,itemUrl:e.itemUrl,quickAddSource:e.quickAddSource,itemAvailabilityState:e.item.itemAvailabilityState,sourceType:e.surface,analytics:G}):null,j&&!W?(0,w.tZ)(S.Z,{count:j}):null]})})})})},O=o.memo(T)}}]);