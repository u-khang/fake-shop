"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[35082],{34911:(e,t,r)=>{r.d(t,{Z:()=>m});var i=r(14016),o=r(91931),n=r(29194),l=r(36278),a=r(67780),s=r(11652),c=r(62146),d=r(55811),u=r(33535),h=r(33990);const p=(0,o.zo)("div",{display:"flex"}),g={width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center"},f=(0,o.w1)(a.c,g),b=(0,o.zo)(f,(e=>{let{$isTransparent:t,$theme:r}=e;return{...t?{backgroundColor:r.colors.borderTransparent,color:r.colors.contentInversePrimary,":hover":{background:`${r.colors.backgroundOverlay}`},":active":{background:r.colors.backgroundOverlayArt},":disabled":{color:r.colors.contentStateDisabled,backgroundColor:r.colors.borderTransparent,cursor:"not-allowed"}}:{}}})),Z=(0,o.zo)("button",(e=>{let{disabled:t,$theme:r}=e;return{...g,cursor:t?"not-allowed":"pointer",color:t?r.colors.contentStateDisabled:r.colors.contentPrimary}})),m=e=>{let{backwardEnabled:t,forwardEnabled:r,analyticsLabel:o,customEventMetadata:a,transparent:g,onPageChange:f}=e;const m=(0,n.gm)(),v=(0,i.T)(),y="postmates"===(0,d.Z)(),S=(0,u.ZP)(),x=y?Z:b,_=y?c.Z:s.Z;return(0,h.BX)(p,{children:[(0,h.tZ)(x,{"data-testid":"previous-arrow-carousel",onClick:()=>{f("back"),S("eats:carousel_arrow_click",{param_value:"back",label:o,...a||{}})},disabled:!t,"aria-label":v("shared.previous"),$isTransparent:g,children:(0,h.tZ)(_,{size:16,rotate:"ltr"===m?0:180})}),(0,h.tZ)(l.ZP,{$width:"4px"}),(0,h.tZ)(x,{"data-testid":"next-arrow-carousel",onClick:()=>{f("forward"),S("eats:carousel_arrow_click",{param_value:"forward",label:o,...a||{}})},disabled:!r,"aria-label":v("shared.next"),$isTransparent:g,children:(0,h.tZ)(_,{size:16,rotate:"ltr"===m?180:0})})]})}},50757:(e,t,r)=>{r.d(t,{Z:()=>G});var i=r(91931),o=r(29194),n=r(14016),l=r(46933),a=r(36278),s=r(11652),c=r(62146),d=r(67780),u=r(34274),h=r(36151),p=r(52246),g=r(29802),f=r(47986),b=r(99317),Z=r(62149),m=r(33990);const v=(0,i.zo)("div",(e=>{let{$height:t,$shouldPulse:r,$theme:i}=e;return{...i.typography.LabelMedium,borderRadius:"40px",...(0,b.WQ)({height:t,shouldPulse:r,theme:i})}})),y=(0,i.zo)("div",(e=>{let{$shouldShowHiddenMessage:t}=e;return{position:"relative",top:"-50%",transition:"transform 0.4s ease",transform:t?"translate(0, 50%)":"none",width:"100%"}})),S=(0,i.zo)("div",(e=>{let{$height:t}=e;return{alignItems:"center",display:"flex",height:t?t-16+"px":"auto",justifyContent:"center",padding:"8px 16px",textAlign:"center"}})),x=(0,i.zo)("div",(e=>({display:"flex",justifyContent:"center",padding:"8px 16px",textAlign:"center",transition:"font-size 0.2s linear",...e.$shouldShrinkText?{fontSize:"10px"}:null}))),_=e=>{const t=(0,Z.TH)(),{countdown:r,formattedTimeLeft:i,minuteMessage:o,shouldPulse:n,shouldShowMinuteMessage:l}=(0,g.Z)("BANDWAGON",{createTimer:!0,feedItemUuid:e.feedItemUuid||""}),[a,s]=h.useState(void 0),c=h.useRef(null);if(h.useEffect((()=>{const e=c?.current;e&&!a&&s(e.clientHeight)}),[a,c]),!r)return null;const d=r.storefrontTimerMessage.replace("%1$s",i);return(0,m.tZ)(p.rU,{to:(0,f.Xvz)({location:t,feedItemUuid:e.feedItemUuid}),children:(0,m.tZ)(v,{$height:a,$shouldPulse:n,children:(0,m.BX)(y,{$shouldShowHiddenMessage:l,children:[(0,m.tZ)(S,{$height:a,children:o}),(0,m.tZ)(x,{$shouldShrinkText:l,ref:c,children:d})]})})})};var T=r(55811),C=r(55117),k=r(90981),w=r(69287),U=r(38379),$=r(45474);const I=(0,i.w1)($.b,{marginTop:0}),P=()=>{const{rankingBottomSheet:e}=(0,k.Z)(),{showEuDisclaimer:t}=(0,w.Z)();return t?(0,m.BX)(m.HY,{children:[(0,m.tZ)(a.sA,{}),(0,m.tZ)($.ZP,{id:"carousel-eu-disclaimer",children:t=>{let{isHovering:r}=t;return(0,m.BX)(m.HY,{children:[(0,m.tZ)(C.Z,{color:"contentTertiary",size:14}),e?(0,m.tZ)(I,{$isVisible:r,children:(0,m.tZ)(U.y,{bottomSheet:e})}):null]})}})]}):null};var E=r(14966),z=r(85218);const D=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,marginTop:"4px"}})),R=(0,i.zo)("div",(e=>{let{$cuisineFilterEnabled:t}=e;return{...t?{marginBottom:"16px"}:{marginBottom:"24px"},display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}})),A=(0,i.zo)("div",{alignItems:"start",display:"flex",flexDirection:"row",flex:"2 1 0%"}),H=(0,i.zo)("div",{display:"flex",justifyContent:"center",flex:"1 1 0%",padding:"0 24px"}),B=(0,i.zo)("div",(e=>({display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"2 1 0%",..."ltr"===e.$direction?{right:0}:{left:0}}))),O=(0,i.zo)("div",{display:"flex",alignItems:"center"}),L={width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},M=(0,i.w1)(d.c,L),X=(0,i.zo)("button",(e=>{let{disabled:t,$theme:r}=e;return{...L,cursor:t?"not-allowed":"pointer",color:t?r.colors.contentStateDisabled:r.colors.contentPrimary}})),N=(0,i.zo)("div",(e=>{let{$theme:t,$as:r}=e;return{..."h3"===r?t.typography.HeadingSmall:t.typography.DisplayBoldXSmall,display:"flex",flexGrow:0,alignItems:"center"}})),F=(0,i.w1)(E.hh,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),G=e=>{const t=(0,o.gm)(),r=(0,u.Z)({feedItemUuid:e.feedItemUuid||""}),i=(0,n.T)(),d="postmates"===(0,T.Z)(),h=d?X:M,p=d?c.Z:s.Z,g=(0,z.Z)();return(0,m.BX)(R,{$cuisineFilterEnabled:g,children:[(0,m.tZ)(A,{onClick:e.onClickTitle,children:(0,m.BX)("div",{children:[(0,m.BX)(N,{$as:e.$as,children:[e.title,e.title?(0,m.tZ)(P,{}):null]}),e.subtitle?(0,m.tZ)(D,{children:e.subtitle}):null]})}),r&&e.feedItemUuid?(0,m.tZ)(H,{children:(0,m.tZ)(_,{feedItemUuid:e.feedItemUuid})}):null,(0,m.BX)(B,{$direction:t,children:[e.viewAllLocation?(0,m.tZ)(F,{onClick:t=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(t)},to:e.viewAllLocation,children:e.viewAllTitle?e.viewAllTitle:(0,m.tZ)(l.v,{id:"carousel.view_all"})}):null,e.paginated?(0,m.BX)(m.HY,{children:[(0,m.tZ)(a.ZP,{$width:"40px"}),(0,m.BX)(O,{children:[(0,m.tZ)(h,{onClick:t=>e.onPageChange("back",t),disabled:!e.backwardEnabled,"aria-label":i("shared.previous"),children:(0,m.tZ)(p,{size:16,rotate:"ltr"===t?0:180})}),(0,m.tZ)(a.ZP,{$width:"2px"}),(0,m.tZ)(h,{onClick:t=>e.onPageChange("forward",t),disabled:!e.forwardEnabled,"aria-label":i("shared.next"),children:(0,m.tZ)(p,{size:16,rotate:"ltr"===t?180:0})})]})]}):null]})]})}},66931:(e,t,r)=>{r.d(t,{Mi:()=>u,T3:()=>d,ZP:()=>h,im:()=>c});var i=r(43193),o=r(91931),n=r(50757),l=r(96911),a=r(33171),s=r(33990);const c=(0,o.zo)("div",(e=>{let{$supportsScrollSnapping:t,$disabledVerticalScrolling:r}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...r?{overflowY:"hidden"}:{},...t?{scrollSnapType:"x mandatory"}:{}}})),d=(0,o.zo)("ul",(e=>{let{$supportsScrollSnapping:t,$textDirection:r,$pageMargin:i,$pageWidth:o}=e;return{display:"flex",flexShrink:0,flexGrow:0,width:"100%",flexBasis:o||"100%",..."ltr"===r?{marginRight:`${i}px`}:{marginLeft:`${i}px`},...t?{scrollSnapAlign:"start"}:{}}})),u=(0,o.zo)("li",(e=>{let{$textDirection:t,$margin:r,$pageSize:i,$ignoreMargin:o}=e;const{percentage:n,pxAdjustment:l}=(0,a.jL)(i,r);return{flex:"none",position:"relative",...o?{}:"ltr"===t?{marginRight:`${r}px`}:{marginLeft:`${r}px`},width:`calc(${n}% + ${l}px)`}})),h=i.forwardRef(((e,t)=>{const{containerRef:r,getPageChunks:i,getPageProps:o,isPreviousPageDisabled:a,isNextPageDisabled:h,handlePageChange:p,supportsScrollSnapping:g,textDirection:f}=(0,l.Z)({scrollOffset:e.margin}),b=i(e.slides.map(((t,r)=>(0,s.tZ)(u,{$textDirection:f,$pageSize:e.pageSize,$margin:e.margin,children:e.renderSlide(t,r)},r))),e.pageSize);return(0,s.BX)("div",{ref:t,children:[(0,s.tZ)(n.Z,{$as:e.titleType||"h2",title:e.title,subtitle:e.subtitle,paginated:e.slides.length>e.pageSize,onPageChange:(t,i)=>{if(p(t),e.onPageChange){const o=e.onPageChange,n=r.current;let l;const a=()=>{clearTimeout(l),l=setTimeout((()=>{o(i,{direction:t,total:r.current?.scrollWidth||0,current:r.current?r.current.scrollLeft+r.current.clientWidth:0}),n?.removeEventListener("scroll",a)}),500)};n?.addEventListener("scroll",a)}},viewAllLocation:e.viewAllLocation,viewAllTitle:e.viewAllTitle,backwardEnabled:!a,forwardEnabled:!h,onViewAllClick:e.onViewAllClick,onClickTitle:e.onClickTitle}),(0,s.tZ)(c,{ref:r,$supportsScrollSnapping:g,onScroll:e.onScroll,children:b.map(((t,r,i)=>(0,s.tZ)(d,{$pageMargin:e.margin,...o(r,i.length),children:t},r)))})]})}))},41100:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(91631),o=r(27689),n=r(11652),l=r(62149),a=r(83960),s=r(47986),c=r(33990);const d=e=>{let{fill:t}=e;const{draftOrderUuid:r,isEditOrder:d}=(0,a.Z)(),u=(0,l.TH)(),h=(0,i.k6)();if(!d)return null;const p=(0,s.vN_)(u,"editScheduledOrderDiscardDialog",r);return(0,c.tZ)(o.Z,{fill:t,onClick:e=>{e.preventDefault(),e.stopPropagation(),h.push(p)},children:(0,c.tZ)(n.Z,{size:16})})}},53514:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(36151),o=r(33535),n=r(85191);const l=e=>{let{storeUuid:t,sectionUuid:r,selectedStoreUuid:l,bundleStorePayload:a}=e;const s=(0,i.useRef)(!1),c=(0,o.ZP)(),[d,u]=(0,n.T)({root:null,threshold:.75});return(0,i.useEffect)((()=>{u&&u.isIntersecting&&!s.current&&t&&a?.bundleStores&&(s.current=!0,c("eats:pcb_bundle_catalog_section_impression",{storeBundleStores:{storeUuid:t,sectionUuid:r,bundleStoreUuid:l}}))}),[u,t,r,a?.bundleStores,l,c]),d}},68404:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(91931),o=r(46933),n=r(29194),l=r(11652),a=r(62146),s=r(67780),c=r(55811),d=r(33990);const u={width:"56px",height:"56px",display:"flex",alignItems:"center",justifyContent:"center"},h=(0,i.w1)(s.c,u),p=(0,i.zo)("button",(e=>{let{$theme:t}=e;return{...u,cursor:"pointer",color:t.colors.contentPrimary}})),g=(0,i.zo)("div",{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}),f=(0,i.zo)("p",(e=>{let{$theme:t}=e;return{marginTop:"8px",...t.typography.LabelMedium}})),b=e=>{let{onClick:t}=e;const r=(0,n.gm)(),i="postmates"===(0,c.Z)(),s=i?p:h,u=i?a.Z:l.Z;return(0,d.BX)(g,{onClick:t,children:[(0,d.tZ)(s,{children:(0,d.tZ)(u,{size:22,rotate:"ltr"===r?180:0})}),(0,d.tZ)(f,{children:(0,d.tZ)(o.v,{id:"carousel.see_all"})})]})}},95427:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(62091),o=r(31913),n=r(91931),l=r(36278),a=r(33990);const s=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center"}})),c=(0,n.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"flex-start"}),d=e=>{let{title:t,subtitle:r,iconUrl:n}=e;return(0,a.BX)(s,{children:[n?(0,a.BX)(a.HY,{children:[(0,a.tZ)(i.Z,{src:n,width:"36px",height:"auto"}),(0,a.tZ)(l.Tr,{})]}):null,(0,a.BX)(c,{children:[t?(0,a.tZ)(o.ZP,{text:t}):null,r?(0,a.tZ)(o.ZP,{text:r}):null]})]})}},26501:(e,t,r)=>{r.d(t,{A:()=>a,M:()=>s});var i=r(43193),o=r(85191),n=r(33535),l=r(99990);const a=e=>{let{catalogIndex:t}=e;const[r,a]=(0,o.Z)({root:null,rootMargin:"",threshold:0}),s=(0,n.I0)(),{storeUuid:c}=(0,l.QT)();return i.useEffect((()=>{const e="eats:store_aisle_shortcuts_catalog_section_impression";a&&a.isIntersecting&&s(e,{storeCatalog:{storeUuid:c,position:t}},`${e}-${c}-${t}`)}),[s,a,c,t]),{aisleShortcutsRef:r}},s=e=>{let{catalogIndex:t}=e;const r=i.useRef(null),o=(0,n.I0)(),{storeUuid:a}=(0,l.QT)();return i.useEffect((()=>{const e=r.current,i="eats:store_aisle_shortcuts_catalog_section_scrolled",n=()=>{o(i,{storeCatalog:{storeUuid:a,position:t}},`${i}-${a}-${t}`)};return e?.addEventListener("scroll",n),()=>{e?.removeEventListener("scroll",n)}}),[o,a,t]),{aisleShortcutsCarouselRef:r}}},28406:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(0,r(91931).zo)("li",(e=>{let{$firstOfTypeMarginTop:t=0,$marginTop:r=40}=e;return{marginTop:`${r}px`,":first-of-type":{marginTop:`${t}px`}}}))},12888:(e,t,r)=>{r.d(t,{Z:()=>m});var i=r(43193),o=r(62149),n=r(52246),l=r(91631),a=r(33535),s=r(91931),c=r(87763),d=r(31913),u=r(62091),h=r(47986),p=r(99990),g=r(33990);const f=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{maxWidth:t.sizing.scale2400,textAlign:"center"}})),b=(0,s.zo)(u.Z,(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600,marginBottom:t.sizing.scale300}})),Z=(0,s.zo)(n.rU,{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"fit-content"}),m=e=>{let{item:t,sectionUuid:r,catalogIndex:n}=e;const s=(0,o.TH)(),u=(0,l.k6)(),m=(0,o.UO)(),v=(0,a.ZP)(),{storeUuid:y}=(0,p.QT)(),S=i.useMemo((()=>(0,h.v4Q)(t.ctaUri||"")),[t.ctaUri]),x=i.useMemo((()=>(0,h.RKz)(s,{...(0,h.WxO)(m),sectionUuid:r,subsectionUuid:S.search?.sectionUUID,persistentQueryParams:["primaryBundledStoreUuid","primaryDraftOrderUUID"]},{...S.search?.sectionUUID?{catalogSectionUuids:[S.search.sectionUUID]}:{},...S.search?.subsectionUUID?{catalogSubsectionUuids:[S.search.subsectionUUID]}:{},...S.search?.sectionType?{catalogSectionTypes:[S.search.sectionType]}:{}})),[s,m,r,S.search?.sectionUUID,S.search?.subsectionUUID,S.search?.sectionType]),_=t.title?.accessibilityText||"",T=t.imageUrl||"";return(0,g.tZ)(f,{children:(0,g.BX)(Z,{to:x,onClick:e=>{e.preventDefault(),u.push(x),v("eats:store_aisle_shortcuts_catalog_section_click",{storeCatalog:{storeUuid:y,position:n,sectionUuid:S.search?.sectionUUID}})},"aria-label":_,children:[(0,g.tZ)(b,{loading:"eager",decoding:"sync",src:T,alt:_,"aria-hidden":!0}),(0,g.tZ)(c.Z,{clamp:2,typographyKey:"LabelXSmall",children:(0,g.tZ)(d.ZP,{text:t.title})})]})})}},70118:(e,t,r)=>{r.d(t,{CH:()=>n,Eq:()=>b,F1:()=>d,G_:()=>l,Gl:()=>s,Pw:()=>o,QP:()=>_,RX:()=>h,TZ:()=>S,UD:()=>i,UE:()=>g,WC:()=>x,Y:()=>Z,_Z:()=>T,bR:()=>m,cz:()=>u,ku:()=>f,lo:()=>y,o4:()=>p,sJ:()=>c,tw:()=>C,w2:()=>a,zj:()=>v});const i="STORE_CONTENT",o="STORE_INFO",n="STORE_OVERFLOW_ACTIONS",l="FAVORITE",a="FAVORITED",s="UNFAVORITED",c="GROUP_ORDER",d="SCHEDULE_ORDER",u="VIEW_STORE_INFO",h="STORE_MAP",p="ADDRESS",g="PHONE_NUMBER",f="WORKING_HOURS",b="BYOC",Z="EATS_PASS",m="UBER_ONE",v="STORE_RATING",y="SAFETY_CHECKLIST",S="HYGIENE_RATING_BADGE",x="DISCLAIMER",_="MEAL_VOUCHER",T="TOP_EATS",C="ETA"},39418:(e,t,r)=>{r.d(t,{Z:()=>p,d:()=>u});var i=r(91631),o=r(46933),n=r(78422),l=r(91931),a=r(54669),s=r(47986),c=r(62149),d=r(33990);const u=40,h=(0,l.zo)("div",(e=>{let{$theme:t,$isHighlighted:r}=e;return{...t.typography.LabelSmall,color:r?t.colors.contentInversePrimary:t.colors.contentPrimary,backgroundColor:r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,width:"100%",height:`${u}px`,paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"flex",alignItems:"center",gap:t.sizing.scale300,boxSizing:"border-box"}})),p=e=>{let{isHighlighted:t}=e;const r=(0,a.Z)(),l=(0,c.TH)(),u=(0,i.k6)();return r?null:(0,d.tZ)(d.HY,{children:(0,d.BX)(h,{onClick:()=>u.push((0,s.BYh)(l)),$isHighlighted:t,children:[(0,d.tZ)(o.v,{id:"shared.enterDeliveryAddress"}),(0,d.tZ)(n.Z,{name:"ChevronDownSmallFilled",size:14})]})})}},88588:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(47986),o=r(62149),n=r(14016),l=r(33535),a=r(78422),s=r(27689),c=r(60631),d=r(73472),u=r(33990);const h=e=>{let{fill:t,storeUuid:r,color:h}=e;const p=(0,o.TH)(),{modalName:g}=(0,i.RAN)(p,["modalName"]),f=(0,n.T)(),b=(0,l.ZP)(),{isOpen:Z,open:m}=(0,c.cd)("storeOverflowActions"),v="storeOverflowActions"===g||Z,{startTiming:y}=(0,d.K3)();return(0,u.tZ)(s.Z,{color:h,fill:t,"aria-expanded":v,"aria-haspopup":"true","aria-label":f("view_more_options"),onClick:e=>{y("store_overflow_button_click",{metadata:{storeUuid:r}}),e.stopPropagation(),b("eats:store_overflow_button_tap",{storeAction:{storeUuid:r}}),m()},title:f("view_more_options"),children:(0,u.tZ)(a.Z,{name:"ThreeDotsHorizontalFilled",size:20})})}},78320:(e,t,r)=>{r.d(t,{Rf:()=>$,T6:()=>U,ZP:()=>H});var i=r(36151),o=r(71454),n=r.n(o),l=r(91631),a=r(32857),s=r(68065),c=r(78422),d=r(59210),u=r(91931),h=r(94579),p=r(88588),g=r(59536),f=r(70118),b=r(63812),Z=r(41100),m=r(8639),v=r(62149),y=r(47986),S=r(42973),x=r(39418),_=r(51170),T=r(75514),C=r(65014),k=r(73472),w=r(33990);const U=72,$=48,I=e=>e?{height:`${$}px`}:{animationDuration:"400ms",animationTimingFunction:"cubic-bezier(0.22, 1, 0.36, 1)",animationFillMode:"forwards",animationName:{"0%":{height:`${U}px`},"100%":{height:`${$}px`}}},P=(0,u.zo)("div",(e=>{let{$isVisible:t}=e;return{position:"fixed",width:"100%",top:0,left:0,zIndex:h.I_.foreground,visibility:t?"visible":"hidden",boxSizing:"border-box"}})),E=(0,u.zo)("div",(e=>{let{$theme:t,$isVisible:r,$shouldAnimateHeight:i}=e;return{position:"relative",zIndex:1,display:"flex",width:"100%",height:`${U}px`,justifyContent:"space-between",alignItems:"center",boxSizing:"border-box",padding:"0 8px",gap:"8px",background:t.colors.backgroundPrimary,...r?I(!i):null}})),z=(0,u.zo)("div",(e=>{let{$isVisible:t,$display:r}=e;return{position:"fixed",width:"100%",top:`${$}px`,left:0,transition:"all 400ms cubic-bezier(0.22, 1, 0.36, 1)",transform:`translateY(${t?0:"-100%"})`,boxSizing:"border-box",willChange:"transform",display:r}})),D=(0,u.zo)("div",(e=>{let{$theme:t,$backgroundOpacity:r,$isVisible:i,$shouldAnimateHeight:o}=e;return{display:"flex",alignItems:"center",position:"sticky",top:0,left:0,width:"100%",height:`${U}px`,boxSizing:"border-box",zIndex:h.I_.foreground,background:(0,m.uE)(t.colors.backgroundPrimary,r),padding:"16px",columnGap:"8px",justifyContent:"flex-end",opacity:i?1:0,...i?null:I(!o)}})),R=(0,u.zo)("div",{flex:1}),A=(0,u.zo)("div",{flexGrow:1,textAlign:"center",whiteSpace:"nowrap",overflow:"hidden"}),H=e=>{let{storeName:t="",showStoreName:r=!0,showSearch:o=!0,showMenu:u=!0,storeUuid:h,withSearchButton:m=!0,withFavoriteButton:$=!0,withOverflowButton:I=!0,heroImageRef:H}=e;const B=(0,i.useCallback)((()=>{const e=(H?.current?.getBoundingClientRect().bottom||0)-U;return{showHeader:e<=-1*U,opacity:e<=0?1:1-e/U}}),[H]),O=B(),[L,M]=(0,i.useState)(!O.showHeader),[X,N]=(0,i.useState)(O.opacity),[F,G]=(0,i.useState)(O.showHeader),V=(0,l.k6)(),j=(0,v.TH)(),{setIsOpen:W}=(0,S.qi)(),{state:Y}=(0,_.D)(),{startTiming:Q}=(0,k.K3)();(0,i.useEffect)((()=>{const e=n()((()=>{const{showHeader:e,opacity:t}=B();N(t),G((t=>(!t||e||L||M(!0),e)))}),30);return document.addEventListener("scroll",e,{passive:!0}),document.addEventListener("scrollend",e,{passive:!0}),e(),()=>{document.addEventListener("scroll",e),document.addEventListener("scrollend",e)}}),[B,L]);return(0,w.BX)(w.HY,{children:[(0,w.BX)(D,{$backgroundOpacity:X,$isVisible:!F,$shouldAnimateHeight:L,children:[(0,w.tZ)(Z.Z,{fill:"blurred_transparent"}),(0,w.tZ)(R,{}),m?(0,w.tZ)(g.Z,{fill:"blurred_transparent",storeUuid:h,analyticsContext:f.UD}):null,$?(0,w.tZ)(b.Z,{fill:"blurred_transparent",storeUuid:h}):null,I?(0,w.tZ)(p.Z,{fill:"blurred_transparent",storeUuid:h}):null]}),(0,w.BX)(P,{$isVisible:F,children:[(0,w.BX)(E,{$isVisible:F,$shouldAnimateHeight:L,children:[u?(0,w.tZ)(a.Z,{kind:s.TO.tertiary,onClick:()=>W(!0),children:(0,w.tZ)(c.Z,{name:"ThreeLinesFilled",size:20})}):null,(0,w.tZ)(A,{onClick:()=>{T.Z?.scrollTo({top:0,behavior:"smooth"})},children:(0,w.tZ)(d.D9,{overflow:"hidden",textOverflow:"ellipsis",children:r?t:""})}),o?(0,w.tZ)(a.Z,{kind:s.TO.tertiary,onClick:()=>{Q(C.B.IN_STORE_SEARCH_VIEW_LOAD,{metadata:{storeUuid:h,verticalLabel:"OFD"}}),V.push((0,y.SCs)(j))},children:(0,w.tZ)(c.Z,{name:"SearchOutlined",size:20})}):null]}),(0,w.tZ)(z,{$isVisible:Y.isAddressInputHighlighted,$display:F?"block":"none",children:(0,w.tZ)(x.Z,{isHighlighted:!0})})]})]})}},45655:(e,t,r)=>{r.d(t,{Z:()=>X});var i=r(43193),o=r(91931),n=r(31913),l=r(11208),a=r(62091),s=r(24217),c=r(29194),d=r(81149),u=r(21559),h=r(71110),p=r(8639),g=r(47986),f=r(57101),b=r(62149),Z=r(91631),m=r(52246),v=r(33535),y=r(45288),S=r(16046),x=r(85191),_=r(16797),T=r(90644),C=r(63036),k=r(95461),w=r(33990);const U=158,$=(0,o.zo)("div",(e=>{let{$cornerRadius:t,$height:r=U}=e;return{height:`${r}px`,width:"100%",flex:"0 47%",overflow:"hidden",position:"relative",borderRadius:`${t}px`}})),I=(0,o.zo)(a.Z,(e=>{let{$height:t=U}=e;return{height:`${t}px`,width:"100%",objectFit:"cover",flexShrink:0}})),P=(0,o.zo)("div",{position:"relative",overflow:"hidden"}),E=(0,o.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),z=(0,o.zo)("div",{display:"flex",width:"100%",marginTop:"8px",justifyContent:"space-between"}),D=(0,o.zo)("div",{position:"absolute",right:"12px",top:"12px"}),R=(0,o.zo)("div",(e=>{let{$theme:t,$backgroundColor:r="BACKGROUND_TERTIARY"}=e;const i=(0,p.Lq)(r);return{...i?{backgroundColor:t.colors[i]}:{},borderRadius:"50%",minWidth:"28px",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center"}})),A=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",position:"absolute",left:0,top:"12px",padding:"4px 12px",backgroundColor:t.colors.positive400,borderRadius:"0px 100px 100px 0px"}})),H=(0,o.zo)("div",{display:"flex",flexDirection:"column",overflow:"hidden"}),B=(0,o.zo)("div",{display:"flex",alignItems:"flex-start"}),O=(0,o.zo)("div",{display:"flex",alignItems:"center",marginBottom:"2px",overflow:"hidden"}),L=(0,o.zo)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),M=(0,h.pZ)(r(19702)),X=e=>{let{canvasData:t,canvasParent:r,index:o,surfaceUuid:a,imageEdge:h=U}=e;const p=(0,b.TH)(),X=(0,Z.k6)(),N=(0,c.gm)(),F=(0,v.ZP)(),{setLastClickedPartialStore:G}=i.useContext(S.C),{uuid:V,rating:j,actionUrl:W,storeAd:Y,meta1:Q,meta3:K}=t,q=(0,y.Sc)(t),J="label"===j?.type?j.label:null,ee=(0,f.HX)(p,W),te="label"===t.title?.type?t.title.label:null,re=(0,u.A)(t)[0]||M,ie=K?(0,u.o)(K):[],oe=Q?(0,u.o)(Q):[],ne=i.useRef(!1),le=(0,C.lU)(T.p.SPACING_UNIT_1_5X),ae=(0,k.Z)(),[se,ce]=(0,x.T)({root:null,threshold:.75});return i.useEffect((()=>{ce&&ce.isIntersecting&&!ne.current&&V&&(ne.current=!0,F("eats:ad_canvas_store_card_impression",{storeAdCanvas:{horizontalPosition:o+1,analyticsLabel:t.tracking?.metaInfo?.analyticsLabel||"",canvasTemplate:t.template||"",feedOrigin:"STORE",parentUuid:r.uuid||"",surfaceUuid:a,uuid:V}}),Y&&F("ads:storefront_store_impression",{adsAnalyticsEvent:{adEventType:_.J.IMPRESSION,adImpressionUUID:Y.impressionId||"",adData:Y.adData||"",...V?{bidderUUID:V}:null}}))}),[F,Y,V,ce,o,t,r,a]),te?(0,w.tZ)(P,{ref:se,children:(0,w.BX)(m.rU,{to:ee,onClick:e=>{e.stopPropagation(),Y&&(e=>{F("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:_.J.CLICK,adImpressionUUID:e.impressionId||"",adData:e.adData||"",adBadgeTitle:e.adBadge?e.adBadge.text:"",bidderUUID:null===V?void 0:V}})})(Y),q&&G(q),V&&F("eats:ad_canvas_store_card_click",{storeAdCanvas:{horizontalPosition:o+1,analyticsLabel:t.tracking?.metaInfo?.analyticsLabel||"",canvasTemplate:t.template||"",feedOrigin:"STORE",parentUuid:r.uuid||"",surfaceUuid:a,uuid:V}})},children:[(0,w.BX)($,{$cornerRadius:le,$height:h,children:[(0,w.tZ)(d.ZP,{height:h,offset:1200,once:!0,children:(0,w.tZ)(s.Z,{src:re,children:(0,w.tZ)(I,{src:re,$height:h,"aria-hidden":!0})})}),(0,w.tZ)(E,{}),V&&!ae?(0,w.tZ)(D,{children:(0,w.tZ)(l.Z,{storeUuid:V,size:"small",shadow:(0,w.tZ)(l._,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===N?-8:4})})}):null,ie.length>0?(0,w.tZ)(A,{children:ie.map(((e,t)=>(0,w.tZ)(n.ZP,{text:e.richText},t)))}):null]}),(0,w.BX)(z,{children:[(0,w.BX)(H,{children:[(0,w.tZ)(O,{children:(0,w.tZ)(L,{children:(0,w.tZ)(n.ZP,{text:te.richText,whiteSpace:"nowrap"})})},"title"),oe.length>0?(0,w.tZ)(O,{onClick:e=>{"ubereats://ads-disclaimer"===e.target.closest("a")?.href&&(e.preventDefault(),e.stopPropagation(),X.push((0,g.vN_)(p,"adsInfo")))},children:oe.map(((e,t)=>(0,w.tZ)(n.ZP,{text:e.richText,whiteSpace:"pre"},t)))},"meta1"):null]}),(0,w.tZ)(B,{children:J?(0,w.tZ)(R,{children:(0,w.tZ)(n.ZP,{text:J?.richText})}):null})]})]})}):null}},93995:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(43193),o=r(33535),n=r(85191),l=r(33990);const a=e=>{let{canvasParent:t,storeUuid:r,catalogIndex:a,children:s}=e;const c=i.useRef(!1),d=(0,o.ZP)(),[u,h]=(0,n.T)({root:null,threshold:.75});return i.useEffect((()=>{h&&h.isIntersecting&&!c.current&&r&&(c.current=!0,d("eats:ad_canvas_carousel_impression",{storeAdCanvas:{verticalPosition:a,analyticsLabel:t.tracking?.metaInfo?.analyticsLabel||"",canvasTemplate:t.template||"",feedOrigin:"STORE",parentUuid:t?.uuid||"",surfaceUuid:r}}))}),[h,t,r,d,a]),(0,l.tZ)("div",{ref:u,children:s})}},95195:(e,t,r)=>{r.d(t,{Z:()=>Z});var i=r(36151),o=r(91631),n=r(91931),l=r(36278),a=r(31913),s=r(14016),c=r(87763),d=r(33535),u=r(45288),h=r(16046),p=r(33990);const g=(0,n.zo)("div",{display:"flex",alignItems:"center",cursor:"pointer"}),f=(0,n.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),b=(0,n.zo)("img",(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600,borderRadius:"50%",objectFit:"cover"}})),Z=e=>{let{primaryStoreUuid:t,storeHeader:r,viewAllLocation:n}=e;const Z=(0,s.T)(),m=(0,d.ZP)(),{setLastClickedPartialStore:v}=(0,i.useContext)(h.C),y=(0,o.k6)();return(0,p.BX)(g,{onClick:e=>{e.stopPropagation(),r&&v((0,u.Br)(r)),m("eats:pcb_bundle_interstitial_store_tapped",{storeBundleInterstitial:{primaryStoreUuid:String(t),secondaryStoreUuid:String(r.storeUuid)}}),n&&y.push(n)},children:[r.headerImageUrl?(0,p.BX)(p.HY,{children:[(0,p.tZ)(b,{src:r.headerImageUrl,alt:r.title||Z("online_ordering.logo.alt_text")}),(0,p.tZ)(l.IQ,{})]}):null,(0,p.BX)(f,{children:[(0,p.tZ)(c.Z,{clamp:1,children:(0,p.tZ)(a.ZP,{text:r.title})}),r.subtitle?(0,p.tZ)(a.ZP,{text:r.subtitle}):null]})]})}},6854:(e,t,r)=>{r.d(t,{Z:()=>b});var i=r(43193),o=r(36151),n=r(91931),l=r(33535),a=r(24236),s=r(14966),c=r(46933),d=r(16046),u=r(45288),h=r(8639),p=r(31913),g=r(33990);const f=(0,n.w1)(s.hh,(e=>{let{$theme:t,$color:r}=e;return{...t.typography.LabelMedium,flexShrink:0,whiteSpace:"nowrap",color:r?t.colors[r]:void 0,textDecoration:"none",":hover":{textDecoration:"underline"}}})),b=e=>{let{viewAllLocation:t,storeCatalogEventMeta:r,ctaMetadataLabel:n,storeHeader:s,richText:b}=e;const Z=(0,l.ZP)(),m=i.useRef(!1),{elementRef:v,isElementHidden:y}=(0,a.Z)({initialHidden:!0,waitTime:0,shouldListen:!m.current}),{setLastClickedPartialStore:S}=(0,o.useContext)(d.C),{storeUuid:x,sectionUuid:_,catalogSectionType:T,catalogSectionAnalyticsData:C}=r,k=i.useMemo((()=>b?(0,h.Lq)(b?.richTextElements?.[0]?.text?.text?.color):void 0),[b]);return i.useEffect((()=>{y||(m.current=!0)}),[y]),(0,g.tZ)("div",{children:(0,g.tZ)(f,{ref:v,to:t,onClick:e=>{e.stopPropagation(),s&&S((0,u.Br)(s)),Z("eats:store_catalog_section_see_all_button_tap",{storeCatalog:{storeUuid:x,sectionUuid:_,catalogSectionType:T,catalogSectionAnalyticsData:C}})},$color:k||void 0,children:b?(0,g.tZ)("div",{children:(0,g.tZ)(p.ZP,{text:b})}):n||(0,g.tZ)(c.v,{id:"carousel.see_all"})})})}},8054:(e,t,r)=>{r.d(t,{Z:()=>x});var i=r(91931),o=r(89400),n=r(31913),l=r(87763),a=r(75618),s=r(32892),c=r(41117),d=r(60849),u=r(41063);const h=()=>(0,d.ip)({...u.v.store_catalog_section_raw_title_text_enabled,defaultValue:!1}),p=()=>{const e={...u.v.store_gr_two_clamp_lines_enabled,defaultValue:!1};return(0,d.ip)(e)};var g=r(87444),f=r(1798),b=r(33990);const Z=(0,i.zo)("h5",(e=>{let{$theme:t}=e;return{display:"block",marginTop:t.sizing.scale0,fontWeight:"normal"}})),m=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,marginTop:t.sizing.scale0}})),v=e=>{let{catalogSection:t}=e;const r=(0,g.Z)("enable_catalog_dev_tools"),i=(0,f.Z)();if(!r||!i)return null;const o=t.payload;if(!o)return null;if(o.type!==a.p.standardItemsPayload)return null;const n=o.standardItemsPayload?.catalogSectionAnalyticsData?.storeSectionType,l=o.standardItemsPayload?.sectionUUID,s=t?.catalogSectionUUID;return n?(0,b.BX)(Z,{children:[n?(0,b.BX)(m,{children:["Type: ",n]}):null,l?(0,b.BX)(m,{children:["Section: ",l]}):null,l!==s?(0,b.BX)(m,{children:["Subsection: ",t.catalogSectionUUID]}):null]}):null},y=(0,i.zo)("h3",(e=>{let{$theme:t,$typography:r}=e;return{...t.typography[r],color:t.colors.contentPrimary}})),S=e=>{let{catalogSection:t,baseFont:r,tag:i="div"}=e;const{isDealsHubM2Enabled:d}=(0,s.Z)(),u=h(),g=p(),f=t.payload;if(!f)return null;if(f.type===a.p.horizontalGridPayload){const e=f.horizontalGridPayload;return(0,b.tZ)(l.Z,{clamp:1,children:(0,b.tZ)(o.Z,{badge:e.title,baseFont:r,tag:i})})}if(f.type===a.p.verticalGridPayload){const e=f.verticalGridPayload;return(0,b.tZ)(o.Z,{badge:e.title,baseFont:r,tag:i})}if(f.type===a.p.exploreMenuPayload){const e=f.exploreMenuPayload;return(0,b.tZ)(o.Z,{badge:e.title,baseFont:r,tag:i})}if(f.type===a.p.standardItemsPayload){const e=f.standardItemsPayload,t=e.catalogSectionHeaderPayload;if(!d||!Boolean(t?.type))return e.titleV2?(0,b.tZ)("div",{children:(0,b.tZ)(n.ZP,{text:e.titleV2})}):e.title?(0,b.tZ)(l.Z,{clamp:g?2:1,children:u?(0,b.tZ)(y,{$typography:r,children:e.title.text}):(0,b.tZ)(o.Z,{badge:e.title,baseFont:r,tag:"h3"})}):null;switch(t?.type){case c.D.standardHeaderPayload:return(0,b.tZ)("div",{children:(0,b.tZ)(n.ZP,{text:t.standardHeaderPayload?.title})})}}return null},x=e=>{const t=(0,b.tZ)(S,{...e});return t?(0,b.BX)("div",{children:[t,(0,b.tZ)(v,{catalogSection:e.catalogSection})]}):null}},48762:(e,t,r)=>{r.d(t,{Z:()=>T});var i=r(36151),o=r(15070),n=r(91931),l=r(14016),a=r(46933),s=r(55186),c=r(34626),d=r(71576),u=r(28222),h=r(80149),p=r(50908),g=r(94579),f=r(20196),b=r(70118),Z=r(33535),m=r(44805),v=r(95461),y=r(3506),S=r(33990);const x=(0,n.zo)("button",{position:"relative",pointerEvents:"auto",display:"flex",cursor:"pointer",width:"100%"}),_=(0,n.zo)("button",{position:"relative",pointerEvents:"auto",display:"flex",cursor:"pointer",...g.I}),T=e=>{let{storeUuid:t,analyticsContext:r,favoritedAppearance:n,unfavoritedAppearance:g,as:T,...C}=e;const{user:k}=(0,c.Z)(),w=k.data?.isLoggedIn,U=(0,o.v)((e=>{let{favorites:r}=e;return r&&r[t]})),$=(0,d.Z)("createEaterFavoritesV1"),I=(0,d.Z)("deleteEaterFavoritesV1"),P=(0,l.T)(),E=(0,u.Z)(),z=(0,m.Z)(),{enqueue:D}=(0,f.Ds)(),R=(0,Z.ZP)(),A=(0,v.Z)(),H=(0,y.Z)(),B=E||z||A;if(i.useEffect((()=>{B||R("eats:store_action_impression",{storeAction:{storeUuid:t,context:r,type:b.G_}})}),[R,t,r,B]),B)return null;const O=T??(H?x:_);if(!w)return(0,S.tZ)(s.Z,{type:"login",children:e=>{let{onClick:t,href:r}=e;return(0,S.tZ)(O,{"aria-label":P("favorite_add"),onClick:e=>{t(e)},title:P("favorite_add"),role:"link",...C,children:g})}});const L=P(U?"favorite_remove":"favorite_add");return(0,S.tZ)(O,{"aria-label":L,onClick:e=>{R("eats:store_action_tap",{storeAction:{storeUuid:t,context:r,type:b.G_,newState:U?b.Gl:b.w2}}),U?(D({message:(0,S.tZ)(a.v,{id:"favorite_removed"}),startEnhancer:()=>(0,S.tZ)(p.Z,{size:22})},2e3),I({storeUuid:t})):(D({message:(0,S.tZ)(a.v,{id:"favorite_added"}),startEnhancer:()=>(0,S.tZ)(h.Z,{size:22})},2e3),$({storeUuid:t}))},title:L,type:"button",...C,children:U?n:g})}},27689:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(91931),o=r(8639),n=r(94579),l=r(5639),a=r(33990);const s=(0,i.zo)("button",(e=>{let{$theme:t,$fill:r,$withShadow:i=!1,$buttonSize:l=t.sizing.scale1200,$color:a="contentInversePrimary",$background:s=t.colors.backgroundPrimary}=e;return{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:t.borders.radiusFull,background:s,minWidth:l,minHeight:l,width:l,height:l,boxSizing:"border-box",...n.I,...i?{boxShadow:t.lighting.shallowBelow}:null,..."transparent"===r?{color:t.colors[a],background:(0,o.uE)(t.colors.backgroundPrimary,.25)}:"overlay_light"===r?{color:t.colors[a],background:t.colors.backgroundOverlayLight}:"always_dark"===r?{color:t.colors[a],background:(0,o.uE)(t.colors.backgroundAlwaysDark,.25),backdropFilter:"blur(8px)"}:"blurred_transparent"===r?{color:t.colors[a],background:(0,o.uE)(t.colors.backgroundInversePrimary,.25),backdropFilter:"blur(8px)"}:null}})),c=e=>{let{children:t,fill:r,color:i,buttonSize:o,background:n,...c}=e;const{isMobile:d}=(0,l.hU)();return(0,a.tZ)(s,{$fill:r,$withShadow:!d&&"solid"===r,$buttonSize:o,$color:i,$background:n,...c,children:t})}},63812:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(48762),o=r(27689),n=r(78422),l=r(70118),a=r(33990);const s=e=>{let{storeUuid:t,fill:r,buttonSize:s,iconSize:c=20,background:d,iconColor:u}=e;return(0,a.tZ)(i.Z,{storeUuid:t,analyticsContext:l.UD,as:o.Z,favoritedAppearance:(0,a.tZ)(n.Z,{name:"HeartFilled",size:c,color:u}),unfavoritedAppearance:(0,a.tZ)(n.Z,{name:"HeartOutlined",size:c,color:u}),buttonSize:s,fill:r,background:d})}},59536:(e,t,r)=>{r.d(t,{Z:()=>f});var i=r(36151),o=r(14016),n=r(33535),l=r(78422),a=r(27689),s=r(91631),c=r(62149),d=r(47986),u=r(73472),h=r(65014),p=r(70940),g=r(33990);const f=e=>{let{storeUuid:t,analyticsContext:r,fill:f}=e;const b=(0,o.T)(),Z=(0,n.ZP)(),m=(0,s.k6)(),v=(0,c.TH)(),{startTiming:y}=(0,u.K3)(),S=(0,p.Z)(t);i.useEffect((()=>{Z("eats:store_action_impression",{storeAction:{storeUuid:t,context:r,type:"IN_STORE_SEARCH"}})}),[Z,t,r]);const x=b("shared.search");return(0,g.tZ)(a.Z,{fill:f,"aria-label":x,onClick:e=>{y(h.B.IN_STORE_SEARCH_VIEW_LOAD,{metadata:{storeUuid:t,verticalLabel:S?"GR":"OFD"}}),Z("eats:store_action_tap",{storeAction:{storeUuid:t,context:r,type:"IN_STORE_SEARCH"}}),m.push((0,d.SCs)(v))},title:x,type:"button",children:(0,g.tZ)(l.Z,{name:"SearchOutlined",size:20})})}},21266:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(36151),o=r(33535);const n=e=>{let{storeUuid:t,sectionUuid:r,catalogSectionType:n,catalogSectionAnalyticsData:l}=e;const a=(0,o.ZP)();return{emitStoreCatalogScrollEvent:(0,i.useCallback)((()=>{a("eats:carousel_scroll"),a("eats:store_catalog_carousel_scroll",{storeCatalogCarouselScroll:{storeUuid:t,sectionUuid:r,catalogSectionType:n,catalogSectionAnalyticsData:l}})}),[a,t,r,n,l])}}},76449:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(75514),o=r(36151),n=r(33535),l=r(57578);function a(e,t){const r=(0,n.ZP)(),a=t.every((e=>"HORIZONTAL_GRID"===e.type)),s=t.some((e=>((0,l.FA)(e)?.catalogItems||[]).some((e=>"LIST"===e.displayType)))),c=t.some((e=>((0,l.FA)(e)?.catalogItems||[]).some((e=>"GRID"===e.displayType)))),d=(0,o.useRef)(!1),u=(0,o.useCallback)((()=>{d.current||(d.current=!0,r("eats:store_view_scrolled",a?{storeCatalog:{storeUuid:e,displayType:"grid",layoutType:"horizontal"}}:{storeCatalog:{storeUuid:e,displayType:s&&c?"mixed":s?"list":"grid",layoutType:"vertical"}}))}),[r,a,s,c,e]);(0,o.useEffect)((()=>(i.Z&&i.Z.addEventListener("scroll",u),()=>{i.Z&&i.Z.removeEventListener("scroll",u)})),[u])}},21877:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(80165),o=r(91246);const n=()=>{const e=(0,i.i1)("pinned-info-banner"),{hasAddressInputBar:t,hasOfdStickyHeader:r,config:n}=(0,o.Z)();return(e?.offsetHeight||0)+(r?n.collapsedHeight:0)+(t?n.inputBarHeight:0)}},32892:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(60849),o=r(41063);const n=()=>({isDealsHubM2Enabled:(0,i.ip)({...o.v.deals_hub_m2,defaultValue:!1})})},91246:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(51170),o=r(32762),n=r(8961),l=r(79857),a=r(5639),s=r(99990),c=r(78320),d=r(39418),u=r(54669);const h=()=>{const{isStoreOfdRedesignPhase2XpEnabled:e}=(0,o.Z)(),t=(0,n.Z)(),r=(0,l.Z)(),{isMobile:h}=(0,a.hU)(),{isGrStore:p}=(0,s.QT)(),g=(0,u.Z)(),f=t&&h&&!r&&!p&&e,b=h&&!r&&!p&&e&&!g,{state:Z}=(0,i.D)();return{hasOfdStickyHeader:f,hasAddressInputBar:b,isAddressInputHighlighted:Z.isAddressInputHighlighted,config:{inputBarHeight:d.d,height:c.T6,collapsedHeight:c.Rf}}}},74952:(e,t,r)=>{r.d(t,{T_:()=>m,X_:()=>v,ZP:()=>y});var i=r(36151),o=r(14016),n=r(69694),l=r(67476),a=r(74057),s=r(83960),c=r(55758),d=r(47885),u=r(99990),h=r(68799),p=r(84272),g=r(38777),f=r(32762),b=r(5639);const Z="DELIVERY",m=()=>{const{storeUuid:e,store:t}=(0,u.QT)(),r=(0,o.T)(),{cart:s}=(0,n.Z)(e),{deliveryTime:h,diningMode:p}=(0,a.Z)(e),{hasGroupOrderForStore:f,isDraftOrderParticipantForStore:b}=(0,l.Z)(e),m=(0,c.d)(),{isDelegatedBooking:v}=(0,g.W)(),{isStorePrecheckoutBundlingEnabled:y}=(0,d.Z)(),S=t?.data?.storeFrontActionPills,x=(S||[]).find((e=>"STORE_BUNDLING"===e.actionPillType)),_=h&&"scheduled"in h&&!0===h.scheduled,T=m!==Z||p!==Z;return(0,i.useCallback)((()=>v?{isDisabled:!0,isHidden:!0}:y&&x?s.hasLoaded?f?b?{isDisabled:!0,isHidden:!0}:{isDisabled:!0,isHidden:!1,disableTooltip:{title:r("store.bundle_store.pill_tooltip_cancel_group_order")}}:_?{isDisabled:!0,isHidden:!1,disableTooltip:{title:r("store.bundle_store.pill_tooltip_switch_delivery_time")}}:T?{isDisabled:!0,isHidden:!1,disableTooltip:{title:r("store.bundle_store.pill_tooltip_switch_to_delivery")}}:{isDisabled:!1,isHidden:!1}:{isDisabled:!0,isHidden:!1}:{isDisabled:!0,isHidden:!0}),[x,b,y,s.hasLoaded,f,_,v,T,r])},v=e=>{const t=`store.action_pills.ftux_tooltip.${e?.toLocaleLowerCase()}`,[r,o]=(0,i.useState)((()=>!!e&&Boolean((0,h.Z7)(t)?.displayed)));return{tooltipHasBeenDisplayed:r,setTooltipAsDisplayed:(0,i.useCallback)((()=>{e&&(o(!0),(0,h.pc)(t,{displayed:!0}))}),[e,t])}},y=()=>{const{store:e}=(0,u.QT)(),t=e?.data?.storeFrontActionPills,r=m(),l=(()=>{const{storeUuid:e}=(0,u.QT)(),t=(0,o.T)(),{cart:r}=(0,n.Z)(e),{draftOrder:l}=(0,s.Z)(e),a=l?.bundleGroupInfo,{isStorePrecheckoutBundlingEnabled:c}=(0,d.Z)(),{isSecondaryBundledStore:h}=(0,p.Z)();return(0,i.useCallback)((()=>c?r.hasLoaded?a?{isDisabled:!0,isHidden:!!h,disableTooltip:{title:t("store.bundle_store.pill_tooltip_schedule_order")}}:{isDisabled:!1,isHidden:!(!c||!h)}:{isDisabled:!0,isHidden:!1}:{isDisabled:!1,isHidden:!1}),[r.hasLoaded,t,a,c,h])})(),c=(()=>{const{storeUuid:e}=(0,u.QT)(),t=(0,o.T)(),{cart:r}=(0,n.Z)(e),{draftOrder:l}=(0,s.Z)(e),c=l?.bundleGroupInfo,{isDelegatedBooking:h}=(0,g.W)(),{isStorePrecheckoutBundlingEnabled:Z}=(0,d.Z)(),{isSecondaryBundledStore:m}=(0,p.Z)(),{deliveryLocation:v}=(0,a.Z)(e),{isStoreOfdRedesignPhase2XpEnabled:y}=(0,f.Z)(),{isMobile:S}=(0,b.hU)();return(0,i.useCallback)((()=>S&&!v&&y||h?{isDisabled:!0,isHidden:!0}:Z?r.hasLoaded?c?{isDisabled:!0,isHidden:!!m,disableTooltip:{title:t("store.bundle_store.pill_tooltip_group_order")}}:{isDisabled:!1,isHidden:!(!Z||!m)}:{isDisabled:!0,isHidden:!1}:{isDisabled:!1,isHidden:!1}),[r.hasLoaded,t,c,Z,h,m,v,y,S])})(),h=(0,i.useCallback)((e=>{switch(e){case"STORE_BUNDLING":return r();case"SCHEDULE":return l();case"GROUP_ORDER":return c();default:return{isDisabled:!1,isHidden:!1}}}),[r,l,c]);return{storeActionPills:t,getPillByType:e=>t?.find((t=>t.actionPillType===e)),getActionPillDisabledState:h}}},62883:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(60849),o=r(41063);const n=()=>{const e={...o.v.store_catalog_presentation_segmented_controlled_uuid,defaultValue:!1};return(0,i.ip)(e)}},60631:(e,t,r)=>{r.d(t,{ZP:()=>a,cd:()=>s});var i=r(43193),o=r(36151),n=r(33990);const l=i.createContext(null);function a(e){const[t,r]=(0,o.useState)(null),i=(0,o.useRef)(t);i.current=t;const a=(0,o.useCallback)((e=>{i.current?(r(null),setTimeout((()=>{r(e)}),300)):r(e)}),[]),s=(0,o.useCallback)((e=>{i.current===e&&r(null)}),[]);return(0,n.tZ)(l.Provider,{value:{activeBottomSheetKey:t,openBottomSheet:a,closeBottomSheet:s},children:e.children})}function s(e){const{activeBottomSheetKey:t,openBottomSheet:r,closeBottomSheet:n}=function(){const e=i.useContext(l);if(null!==e)return e;throw Error("You should use useStoreMobileBottomSheetContext only in a descendant of StoreMobileBottomSheetProvider")}();return{isOpen:t===e,open:(0,o.useCallback)((()=>r(e)),[e,r]),close:(0,o.useCallback)((()=>n(e)),[e,n])}}},48559:(e,t,r)=>{r.d(t,{De:()=>Z,ZP:()=>m,i:()=>b,ru:()=>f});var i=r(75514),o=r(36151),n=r(43193),l=r(56065),a=r(21877),s=r(47986),c=r(62149),d=r(80165),u=r(83403),h=r(54669),p=r(20115),g=r(33990);const f=(0,o.createContext)({nodes:{},registerStoreRef:()=>{},unregisterStoreRef:()=>{},scrollToMobileRef:()=>{},scrollToDesktopRef:()=>{}});function b(e){const{registerStoreRef:t,unregisterStoreRef:r}=(0,o.useContext)(f);return n.useEffect((()=>()=>{r(e)}),[r,e]),(0,o.useCallback)((r=>{r&&t(e,r)}),[e,t])}function Z(e){const{nodes:t}=(0,o.useContext)(f);return(0,o.useCallback)((()=>t[e]),[t,e])}function m(e){const t=(0,o.useRef)({}),r=(0,a.Z)(),n=(0,c.TH)(),b=(0,d.i1)("pinned-info-banner"),Z=t.current["store-desktop-menu-nav"]?.offsetHeight||0,m=(0,p.Z)("features_config"),v=!(0,h.Z)()||Boolean(m?.header?.sticky)?m?.header?.height:0,y=(0,o.useCallback)((e=>{if(t.current[e]){const{storeCatalogSections:o}=(0,s.RAN)(n,["storeCatalogSections"]),a=(t.current[e]?.offsetTop||0)-l.uX-l.Y5-r-(o?l.Wt:0);i.Z&&i.Z.scroll(0,a)}}),[n,r]),S=(0,o.useCallback)((e=>{if(t.current[e]){const r=(b?.offsetHeight||0)+Z+v;(0,u.Z)({top:(t.current[e]?.offsetTop||0)-r,behavior:"smooth"})}}),[b,Z,v]),x=(0,o.useCallback)(((e,r)=>{t.current[e]=r}),[]),_=(0,o.useCallback)(((e,r)=>{delete t.current[e]}),[]),T=(0,o.useMemo)((()=>({nodes:t.current,registerStoreRef:x,unregisterStoreRef:_,scrollToMobileRef:y,scrollToDesktopRef:S})),[t,x,_,S,y]);return(0,g.tZ)(f.Provider,{value:T,children:e.children})}},56065:(e,t,r)=>{r.d(t,{Wt:()=>m,Y5:()=>b,ZP:()=>y,_J:()=>S,uX:()=>Z});var i=r(75514),o=r(83403),n=r(21877),l=r(43193),a=r(36151),s=r(47986),c=r(62149),d=r(5639),u=r(62883),h=r(48559),p=r(54669),g=r(20115),f=r(33990);const b=24,Z=24,m=57,v=l.createContext(null);function y(e){const[t,r]=l.useState(null),y=l.useRef({}),S=l.useRef({}),x=l.useRef(null),_=l.useRef([]),T=l.useRef(void 0),C=l.useRef(void 0),k=l.useRef({}),w=(0,c.TH)(),{storeCatalogSections:U,storeCatalogSubsections:$,storeSearchQuery:I}=(0,s.RAN)(w,["storeCatalogSections","storeCatalogSubsections","storeSearchQuery"]),P=(0,n.Z)(),{isMobile:E}=(0,d.hU)(),z=E&&U?m:0,D=(0,u.Z)(),R=(0,p.Z)(),A=(0,h.De)("store-desktop-menu-nav")()?.offsetHeight||0,H=(0,g.Z)("features_config"),B=!R||Boolean(H?.header?.sticky)?H?.header?.height:0,O=l.useCallback((()=>{Object.keys(y.current).map((e=>{const t=y.current[e];t&&!document.contains(t)&&delete y.current[e]})),_.current=Object.keys(y.current).map((e=>{const t=y.current[e];return{uuid:e,top:t?.offsetTop||0,bottom:(t?.offsetTop||0)+(t?.offsetHeight||0)}}))}),[]),L=l.useCallback((()=>{const e=i.Z?.scrollY||0,t=_.current.map((e=>(e=>e.bottom-2*b-P-A-P-B-z)(e))),r=Math.min(...t.filter((t=>t>=e))),o=t.indexOf(r);return _.current[o]}),[P,z,A,B]),M=l.useCallback((()=>{clearTimeout(C.current),C.current=setTimeout((()=>{if(0===_.current.length)return r(null);if(i.Z&&void 0!==_.current[0]&&i.Z.scrollY<_.current[0].top)r(_.current[0].uuid);else{if(!i.Z)return;const e=L()||_.current[_.current.length-1];if(r(e?e.uuid:null),x.current&&e&&S.current[e.uuid]){const t=S.current[e.uuid]?.offsetLeft??0;x.current.scrollLeft=t}}}))}),[L]);(0,a.useEffect)((()=>{O(),M()}));const X=l.useCallback((()=>{clearTimeout(T.current),T.current=setTimeout((()=>{const e=$||t;e&&(k.current={...k.current,[U]:{...k.current[U],[e]:i.Z?.scrollY||0}})}),250)}),[t,U,$]),N=l.useCallback((e=>void 0!==y.current[e]),[]),F=l.useCallback((e=>{const t=_.current.find((t=>t.uuid===e));if(t){const e=t.top-Z-b-P-z;i.Z&&i.Z.scroll(0,e)}}),[P,z]),G=l.useCallback((e=>{const t=_.current.find((t=>t.uuid===e));if(t){const e=t.top-24-A-P-B;(0,o.Z)({top:e,behavior:"smooth"})}}),[P,A,B]),V=l.useCallback((e=>y.current[e]),[y]),j=l.useCallback((()=>{O(),M()}),[M,O]),W=l.useCallback((()=>{y.current={},S.current={},_.current=[],k.current={},r(null)}),[]),Y=l.useCallback((e=>{let{storeCatalogSubsections:r,catalogSubsectionUuid:i,subsectionIndex:o}=e;return!I&&(!(r||!U||0!==o)||(r&&D?r===i:t===i))}),[I,U,t,D]);return(0,a.useEffect)((()=>{if(!I)return U&&i.Z&&i.Z.addEventListener("scroll",X),()=>{clearTimeout(T.current),i.Z&&i.Z.removeEventListener("scroll",X)}}),[I,U,$,X]),(0,a.useEffect)((()=>()=>{U||(k.current={})}),[U]),(0,a.useEffect)((()=>((I||!U)&&i.Z&&i.Z.addEventListener("scroll",M),()=>{clearTimeout(C.current),i.Z&&i.Z.removeEventListener("scroll",M)})),[U,M,I]),(0,f.tZ)(v.Provider,{value:{activeSubsectionUuid:t,resetActiveSubsectionUuid:j,registerSubsectionRef:(e,t)=>{t&&(t.offsetTop&&(y.current[e]=t),O())},subsectionIsRegistered:N,scrollToSubsection:F,smoothScrollToSubsection:G,registerSubsectionNavRef:(e,t)=>{t&&(S.current[e]=t)},getSubsectionNavRefs:()=>S.current,getSubsectionRefByUuid:V,registerSubsectionNavWrapperRef:e=>{e&&(x.current=e)},isSubsectionActive:Y,resetRefs:W},children:e.children})}function S(){const e=l.useContext(v);if(null!==e)return e;throw Error("You should use useStoreSubsectionScrollContext only in a descendant of StoreSubsectionScrollProvider")}},3506:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(60849),o=r(44145);const n=()=>(0,i.ip)({...o.A.xlb_friction_batch_2_store,defaultValue:!1})}}]);