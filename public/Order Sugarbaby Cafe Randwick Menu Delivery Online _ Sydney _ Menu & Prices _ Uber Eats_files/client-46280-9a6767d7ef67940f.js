"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[46280],{11841:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(36151),o=r(92300),n=r(99864),a=r(28333),s=r(84036),l=r(16782),d=r(33990);class c extends i.Component{static defaultProps={autoComplete:"on",autoFocus:!1,disabled:!1,name:"",onBlur:()=>{},onFocus:()=>{},overrides:{},required:!1,size:l.NO.default,startEnhancer:null,endEnhancer:null,clearable:!1,type:"text",readOnly:!1};state={isFocused:this.props.autoFocus||!1};onFocus=e=>{this.setState({isFocused:!0}),this.props.onFocus(e)};onBlur=e=>{this.setState({isFocused:!1}),this.props.onBlur(e)};render(){const{startEnhancer:e,endEnhancer:t,overrides:{Root:r,StartEnhancer:i,EndEnhancer:c,...p},...g}=this.props,[m,Z]=(0,o.jb)(r,s.fC),[y,v]=(0,o.jb)(i,s.Fp),[f,x]=(0,o.jb)(c,s.Fp),b=(0,n.t)(this.props,this.state);return(0,d.BX)(m,{"data-baseweb":"input",...b,...Z,$adjoined:u(e,t),$hasIconTrailing:this.props.clearable||"password"==this.props.type,children:[h(e)&&(0,d.tZ)(y,{...b,...v,$position:l.Xf.start,children:"function"==typeof e?e(b):e}),(0,d.tZ)(a.Z,{...g,overrides:p,adjoined:u(e,t),onFocus:this.onFocus,onBlur:this.onBlur}),h(t)&&(0,d.tZ)(f,{...b,...x,$position:l.Xf.end,children:"function"==typeof t?t(b):t})]})}}function u(e,t){return h(e)&&h(t)?l.y4.both:h(e)?l.y4.left:h(t)?l.y4.right:l.y4.none}function h(e){return Boolean(e||0===e)}const p=c},95197:(e,t,r)=>{r.d(t,{Z:()=>v});var i=r(7646),o=r(36278),n=r(52246),a=r(79908),s=r(91931),l=r(33535),d=r(69630),c=r(10825),u=r(83960),h=r(64388),p=r(46933),g=r(72275),m=r(33990);const Z=(0,s.w1)(i.Bi,{padding:"0px 12px 0 8px"}),y=(0,s.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelSmall})),v=e=>{const t=(0,d.Z)(),r=(0,l.ZP)(),i=(0,c.Z)(),{deliveryAddress:s,deliveryTime:v,diningMode:f,storeUuid:x}=(0,u.Z)(),{getStore:b}=(0,h.ZP)(x,{deliveryAddress:s,deliveryTime:v,diningMode:f}),{restaurantLink:S}=(0,g.Z)({storeUuid:x});return S?(0,m.BX)(Z,{"data-testid":"add-items-mini-button",$as:n.rU,to:S,onClick:()=>{t&&(i(),b()),r("eats:click_store_link",{source:e.source,...t?{activePreferenceType:"draft_order"}:{}}),e.onClick&&e.onClick()},children:[(0,m.tZ)(a.Z,{type:"PlusSmall"}),(0,m.tZ)(o.Q3,{}),(0,m.tZ)(y,{children:(0,m.tZ)(p.v,{id:"shared.addItems"})})]}):null}},92839:(e,t,r)=>{r.d(t,{Z:()=>fe});var i=r(83960),o=r(8961),n=r(43193),a=r(36151),s=r(46933),l=r(14016),d=r(71110),c=r(91631),u=r(62149),h=r(36278),p=r(97415),g=r(91931),m=r(76150),Z=r(31854),y=r(56348),v=r(34567),f=r(24316),x=r(33535),b=r(21661),S=r(94579),$=r(8690),C=r(67206),z=r(29194),w=r(63346),_=r(86255),k=r(32518),I=r(32562),B=r(70247),L=r(98942),T=r(38777),P=r(47986),O=r(34626),D=r(49373),R=r(79168),E=r(33990);const H=Math.round(555.5),M=(0,d.pZ)(r(44412)),A=(0,g.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,position:"relative"}))),U=(0,g.zo)("div",(e=>{let{$theme:t,$isOverlapping:r,$isLoading:i}=e;return{...i?{...(0,C.Z)({$theme:t}),backgroundSize:"100vw 100%"}:{backgroundColor:t.colors.buttonPrimaryFill},display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...t.typography.LabelMedium,whiteSpace:"nowrap"}})),X={display:"flex",flexDirection:"row",alignItems:"center"},F=(0,g.zo)("div",X),V=(0,g.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"24px",height:"48px",background:`radial-gradient(circle at ${"ltr"===r?"100%":"0%"}, transparent 24px, ${t.colors.backgroundPrimary} 24px)`}})),Q=(0,g.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"24px",height:"48px",background:`radial-gradient(circle at ${"ltr"===r?"0%":"100%"}, transparent 24px, ${t.colors.backgroundPrimary} 24px)`}})),Y=(0,g.zo)("button",(e=>{let{$theme:t,$isDualButtons:r}=e;return{...X,padding:r?"14px 16px 14px 12px":"8px 16px",...(0,v.x)({$theme:t})}})),N=(0,g.zo)("button",(e=>{let{$theme:t,$isDualButtons:r,$isLoggedIn:i}=e;return{...X,padding:i?r?"14px 12px 14px 8px":"8px 16px 8px 8px":"8px 12px",...(0,v.x)({$theme:t})}})),G=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{height:"32px",width:"32px",flexShrink:0,borderRadius:t.borders.radiusFull,overflow:"hidden",position:"relative"}})),q=(0,g.zo)("img",{height:"32px",width:"32px",objectFit:"cover",flexShrink:0}),W=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{width:"1.5px",margin:"12px 0",background:t.colors.contentSecondary}})),j=(0,g.zo)("div",(e=>{let{$theme:t,$isOverlapping:r}=e;return{background:t.colors.menuFill,color:t.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",top:r?"64px":t.sizing.scale1000,right:"0",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:`${H}px`,overflow:"auto",zIndex:S.I_.modal}})),K=(0,g.zo)("div",(e=>{let{$theme:t,$isHovering:r}=e;return{borderRadius:"50%",width:t.sizing.scale950,height:t.sizing.scale950,position:"absolute",left:`-${t.sizing.scale0}`,...r?{backgroundColor:t.colors.buttonPrimaryHover}:{backgroundColor:t.colors.buttonPrimaryFill}}})),J=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",position:"relative",width:t.sizing.scale1400}})),ee=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",left:t.sizing.scale750}})),te=(0,g.zo)("div",{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),re=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,position:"absolute",width:t.sizing.scale950,height:t.sizing.scale950,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.5)"}})),ie=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,whiteSpace:"nowrap"}})),oe=e=>e.storeImage?.length>1?(0,E.BX)(J,{children:[(0,E.tZ)("div",{children:(0,E.tZ)(G,{children:(0,E.tZ)(q,{src:e.storeImage[0],alt:"store"})})}),(0,E.tZ)(ee,{children:(0,E.BX)(te,{children:[(0,E.tZ)(K,{$isHovering:e.isHovering}),(0,E.tZ)(G,{children:(0,E.tZ)(q,{src:e.storeImage[1],alt:"store"})}),e.storeImage.length>2?(0,E.BX)(re,{children:["+",e.storeImage.length-1]}):null]})})]}):(0,E.tZ)(G,{children:(0,E.tZ)(q,{src:e.storeImage[0],alt:"store"})}),ne=e=>1===e.totalOrders?(0,E.tZ)(s.v,{id:"shared.numCartsSingular",data:{numCarts:e.totalOrders}}):(0,E.tZ)(s.v,{id:"shared.numCarts",data:{numCarts:e.totalOrders}}),ae=e=>1===e.numCartItems?(0,E.tZ)(s.v,{id:"shared.numCartItemsSingular",data:{numCartItems:e.numCartItems}}):(0,E.tZ)(s.v,{id:"shared.numCartItems",data:{numCartItems:e.numCartItems}}),se=()=>{const{serverCart:e}=(0,B.iQ)(),t=e.data?.items||[],r=(0,D.dH)(t);return(0,E.BX)(E.HY,{children:[(0,E.tZ)(Z.Z,{size:16}),(0,E.BX)(ie,{children:[(0,E.tZ)(s.v,{id:"shared.cart"})," â€¢ ",r]})]})},le=e=>{let{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:o,size:s}=e;const{toggleSidebarCartVisible:d,headerCartDropdownVisible:g,setHeaderCartDropdownVisible:v}=(0,m.Lb)(),{totalOrders:S,cartViews:C,activeDraftOrderUUID:D,currentStoreDraftOrderUUID:H,draftOrders:X,draftOrderUUIDs:G,setActiveDraftOrder:q,cartsViewIsLoading:K}=(0,f.Z)(),{isDelegatedBooking:J}=(0,T.W)(),{bundleGroupUUID:ee,isBundledOrder:te}=(0,B.Dz)(),re=(0,x.ZP)(),ie=(0,l.T)(),{toggleIsDropdownOpen:le,dropdownRef:de,isDropdownOpen:ce,onCartSelect:ue}=(0,b.Z)({isDropdownOpen:r??g,setIsDropdownOpen:o??v}),he=(0,c.UO)(),pe=(0,_.Z)({encodedStoreUuid:he?.encodedStoreUuid}),{isEditOrder:ge,currentUserItemCount:me,isRepeatGroupOrder:Ze}=(0,i.Z)(pe),ye=Boolean(H),ve=(0,z.gm)(),fe=(0,L.qM)(),{user:xe}=(0,O.Z)(),{isRepeatOrderCartView:be}=(0,$.Z)(),Se=(0,u.TH)(),{cartOpen:$e}=(0,P.RAN)(Se,["cartOpen"]),Ce=n.useCallback((()=>{if(0===S||J)d();else if(1!==S||be(C[0])||(0,k.ed)(C[0]))le();else{const e=C[0]?.metadata?.openCheckoutMetadata,t=e?.draftOrderUUID??e?.bundleGroupMetadata?.primaryDraftOrderUUID??G[0];q(t),d()}re("eats:cart_cta_click",{isMulticart:"true"})}),[S,J,be,C,re,d,G,q,le]),ze=ee||H||D,we=(0,a.useMemo)((()=>C.find((e=>e.draftOrderUUID===ze||e.metadata?.openCheckoutMetadata?.bundleGroupMetadata?.bundleGroupUUID===ze))),[C,ze]),_e=n.useRef(null),ke=(0,I.Z)(_e),Ie=(()=>{const e=[M,M],t=[M];return K&&te?e:K&&!te?t:we?.storeImageUrls&&we?.storeImageUrls?.length>0?we.storeImageUrls:te&&!K?e:t})(),Be=S>1||ye&&Ze,Le=Boolean(ye&&Be),Te=te?fe:me;n.useEffect((()=>{re("eats:multicart_cart_pill",{...te?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})}),[re,te]),n.useEffect((()=>{$e&&X.hasLoaded&&("single"===$e?d():Ce())}),[X.hasLoaded]);const Pe=(0,R.Z)(s);return(0,E.BX)(A,{ref:de,$isVisible:!0,children:[(0,E.tZ)(h.ZP,{$width:"24px"}),(0,E.tZ)(U,{$isOverlapping:t,$isLoading:!X.hasLoaded,$style:Pe,children:X.hasLoaded?(0,E.BX)(E.HY,{children:[ye||ge?(0,E.tZ)(N,{ref:_e,"data-test":"items-button",$isDualButtons:Le,$isLoggedIn:Boolean(xe.data?.isLoggedIn),type:"button",onClick:()=>{q(H||""),d(),re("eats:cart_cta_click",{isMulticart:"true",...te?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})},children:xe.data?.isLoggedIn?(0,E.BX)(E.HY,{children:[(0,E.tZ)(oe,{storeImage:Ie,isHovering:ke}),(0,E.tZ)(h.ZP,{$width:"8px"}),(0,E.tZ)(ae,{numCartItems:Te})]}):(0,E.tZ)(se,{})}):null,ye&&!Be||ge?null:(0,E.BX)(E.HY,{children:[Le?(0,E.tZ)(W,{}):null,(0,E.tZ)(Y,{"data-test":"cart-btn",$isDualButtons:Le,"aria-label":ie("multicart.carts"),type:"button",onClick:Ce,children:xe.data?.isLoggedIn?(0,E.BX)(E.HY,{children:[(0,E.tZ)(Z.Z,{size:20}),(0,E.tZ)(h.ZP,{$width:"8px"}),ye?null:(0,E.tZ)(ne,{totalOrders:S}),Be?(0,E.BX)(E.HY,{children:[ye?null:(0,E.tZ)(h.ZP,{$width:"8px"}),(0,E.tZ)(y.Z,{size:12})]}):null]}):(0,E.tZ)(se,{})}),ce?(0,E.tZ)(j,{$isOverlapping:t,children:(0,E.tZ)(w.Z,{onCartSelect:(e,t)=>{ue(e,t),d()},isMobile:!1})}):null]})]}):(0,E.BX)(F,{children:[(0,E.tZ)(V,{$direction:ve}),(0,E.tZ)(p.CB,{$width:"80px"}),(0,E.tZ)(Q,{$direction:ve})]})})]})};var de=r(57444),ce=r(58814);const ue=e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingSecondaryInverseText,background:t.colors.onlineOrderingSecondaryInverse,...r?(0,de.Z)(t):{":hover":{background:t.colors.onlineOrderingSecondaryInverseHover},":active":{background:t.colors.onlineOrderingSecondaryInverseActive},...(0,ce.Z)(t)}}};var he=r(69630),pe=r(28222),ge=r(60306);const me=(0,g.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,overflow:"hidden",position:"relative"}))),Ze=(0,g.zo)("button",(e=>{let{$theme:t,$isOverlapping:r,$isOnlineOrdering:i}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:S.GC,borderRadius:t.borders.pillButtonBorderRadius,boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...i?ue({$theme:t}):(0,v.x)({$theme:t}),...t.typography.LabelSmall}})),ye=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,whiteSpace:"nowrap"}})),ve=e=>{let{isOverlapping:t}=e;const r=(0,o.Z)(),{serverCart:n}=(0,B.iQ)(),{toggleSidebarCartVisible:a}=(0,m.Lb)(),l=n.data?.items||[],d=(0,D.dH)(l),{isDraftOrderParticipant:c,isBillSplitOrder:u}=(0,i.Z)(),p=(0,he.Z)(),g=(0,x.ZP)(),y=(0,ge.Z)(),v=(0,pe.Z)();return r&&(!c||p||y&&u)?(0,E.BX)(me,{$isVisible:!0,children:[(0,E.tZ)(h.ZP,{$width:"24px"}),(0,E.BX)(Ze,{"data-test":"cart-btn",$isOverlapping:t,type:"button","aria-label":"checkout",onClick:()=>{a(),g("eats:cart_cta_click")},$isOnlineOrdering:v,children:[(0,E.tZ)(Z.Z,{size:16}),(0,E.BX)(ye,{children:[(0,E.tZ)(s.v,{id:"shared.cart"})," â€¢ ",d]})]})]}):null},fe=e=>{let{isOverlapping:t=!1,floatingMenuOpen:r,handleFloatingMenuOpen:n,size:a}=e;const s=(0,o.Z)(),l=(0,he.Z)(),{isDraftOrderParticipant:d,isBillSplitOrder:c}=(0,i.Z)(),u=(0,ge.Z)();return(s||l)&&(!d||l||u&&c)?l?(0,E.tZ)(le,{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:n,size:a}):(0,E.tZ)(ve,{isOverlapping:t}):null}},54403:(e,t,r)=>{r.d(t,{Z:()=>ne});var i=r(75514),o=r(36151),n=r(52246),a=r(91631),s=r(72843),l=r(46933),d=r(91931),c=r(76150),u=r(83960),h=r(81984),p=r(95345),g=r(33841),m=r(52298),Z=r(72275),y=r(94579),v=r(94229),f=r(6966),x=r(74419),b=r(47986),S=r(95197),$=r(12477),C=r(64388),z=r(70247),w=r(36278),_=r(19496),k=r(55811),I=r(33535),B=r(25750),L=r(31854),T=r(33990);const P=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}})),O=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,marginTop:"16px",textAlign:"center"}})),D=()=>(0,T.BX)(P,{children:[(0,T.tZ)(L.Z,{size:44,color:"contentInverseTertiary"}),(0,T.tZ)(O,{children:(0,T.tZ)(l.v,{id:"shared.emptycartmessage"})})]});var R=r(79876),E=r(74365),H=r(26587),M=r(37573),A=r(35972),U=r(90961),X=r(86255),F=r(82133),V=r(60306),Q=r(62149),Y=r(72147),N=r(13631),G=r(87444),q=r(38777),W=r(80341);const j=(0,d.zo)("div",(e=>{let{$theme:t,$isClosing:r}=e;return{position:"fixed",top:"62px",right:"82px",width:"432px",zIndex:y.I_.modal,background:t.colors.backgroundPrimary,boxShadow:t.shadows.box,transition:"opacity 500ms",opacity:r?0:1,color:t.colors.contentPrimary}})),K=(0,d.zo)("div",{maxHeight:"calc(100vh - 150px)",overflowY:"scroll"}),J=(0,d.zo)("div",{padding:"0 24px"}),ee=(0,d.zo)("div",{paddingTop:"16px",display:"flex"}),te=(0,d.zo)("div",(e=>e.$theme.typography.DisplayXSmall)),re=(0,d.zo)(n.rU,(e=>({...e.$theme.typography.ParagraphSmall,color:e.$theme.colors.contentSecondary}))),ie=(0,d.zo)("div",{display:"flex",alignItems:"center"}),oe=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"inline"}})),ne=()=>{const e=(0,Q.TH)(),t=s.parse(e.search)[b.FSm.cartDisplay],[r,n]=(0,o.useState)(!1),{cartRef:d,sidebarCartVisible:y,sidebarCartClosing:L,openSidebarCart:P,closeSidebarCart:O,hideSidebarCart:ne}=(0,c.Lb)({transitionMS:500}),{isDraftOrderCreator:ae,isDraftOrderParticipant:se,hasGroupOrder:le,isDraftOrderCartLocked:de,isBillSplitOrder:ce,orderDisplayName:ue}=(0,u.Z)(),{title:he,storeTitle:pe,restaurantLink:ge,restaurantLinkNode:me}=(0,Z.Z)(),{elementRef:Ze,isStuck:ye}=(0,f.Z)(),ve=(0,o.useRef)(null),{serverCart:fe}=(0,z.iQ)(),xe=fe.data?.storeUuid,{store:be}=(0,C.ZP)(xe),Se=(0,k.Z)(),$e=(0,Q.UO)(),Ce=(0,X.Z)({encodedStoreUuid:$e.encodedStoreUuid}),ze=(0,a.k6)(),we=(0,U.Z)(),_e=Boolean(we),ke="postmates"===Se,Ie=(0,I.ZP)(),{isDelegatedBooking:Be}=(0,q.W)(),Le=!fe.data?.items.length,{guestCheckoutEnabled:Te}=(0,M.Z)(),Pe=(0,F.xZ)(),Oe=(0,G.Z)("canonical_product_smart_cart");(0,o.useEffect)((()=>{if(t){clearTimeout(ve.current??void 0),P();const e=setTimeout((()=>{n(!0)}),300);return()=>{clearTimeout(e)}}n(!0)}),[t,P]),(0,o.useEffect)((()=>{if("undefined"==typeof i.Z||L)return;const e=()=>{r&&!L&&O()};return i.Z&&i.Z.addEventListener("scroll",e),()=>{i.Z&&i.Z.removeEventListener("scroll",e)}}),[r,O,L]),(0,o.useEffect)((()=>ne),[ne]);const De=(0,V.Z)();(0,o.useEffect)((()=>{y&&Ie("eats:cart_view",{storeUuid:String(be.data?.uuid),cartView:Pe,isDelegatedBooking:String(Be)})}),[y,Ie,be]);const{currentCartIsSmartCart:Re}=(0,W.R)(),Ee=Re&&Oe;return y&&(!se||De&&ce)?(0,T.tZ)(j,{ref:d,$isClosing:L,children:(0,T.BX)(K,{"data-test":"cart",children:[ae&&de?(0,T.tZ)(E.c,{children:(0,T.tZ)(oe,{children:(0,T.tZ)(l.v,{id:"go.unlock_cart_warning_text_2"})})}):null,(0,T.tZ)(x.Z,{hasCloseButton:!0,headerRef:Ze,isStuck:ye,onClose:O,title:le&&ue||pe,...ae?{topRightIconButton:{icon:(0,T.tZ)(R.Z,{color:"black"}),onClick:()=>ze.push((0,b.vN_)(e,"shareGroupOrder"))}}:{}}),Le&&!ae?(0,T.tZ)(D,{}):(0,T.BX)(J,{children:[(0,T.tZ)(m.ZP,{$height:24}),(0,T.tZ)(te,{"data-test":"cart-header",children:ae||Ee?he:pe}),Oe?(0,T.tZ)(Y.C,{defaultSelectedStoreUuid:xe}):null,ae?(0,T.BX)(T.HY,{children:[(0,T.tZ)(m.ZP,{$height:16}),(0,T.BX)(ie,{children:[(0,T.tZ)(re,{to:ge,onClick:()=>{Ie("eats:click_store_link",{source:"cart"})},children:me}),(0,T.tZ)(_.Z,{})]})]}):null,(0,T.tZ)(ee,{children:(0,T.BX)(B.Z,{separator:w.sA,children:[ae||Ce===xe?null:(0,T.tZ)(S.Z,{source:"cart"}),le||be.data?.isGroupOrderingDisabled||ke||Te?null:(0,T.tZ)($.Z,{store:be})]})}),_e?(0,T.tZ)(A.Q,{$spaceBefore:32}):(0,T.tZ)(m.ZP,{$height:16}),ae||De&&ce?(0,T.BX)(T.HY,{children:[(0,T.tZ)(H.Z,{gutterWidth:24}),(0,T.tZ)(h.Z,{gutterWidth:24,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,T.tZ)(T.HY,{children:(0,T.tZ)(p.Z,{})}),(0,T.BX)(g.Z,{children:[be.data?(0,T.tZ)(N.Z,{store:be.data}):null,(0,T.tZ)(v.Z,{})]})]})]})}):null}},12477:(e,t,r)=>{r.d(t,{Z:()=>S});var i=r(47986),o=r(46933),n=r(52298),a=r(7646),s=r(52246),l=r(36278),d=r(34626),c=r(55186),u=r(79876),h=r(91931),p=r(58984),g=r(83960),m=r(69630),Z=r(7876),y=r(33535),v=r(62149),f=r(33990);const x=(0,h.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),b=e=>{const t=(0,v.TH)(),r=(0,y.ZP)(),d={...e.authOnClick?{onClick:t=>{r("eats:start_group_order_button"),e.authOnClick&&e.authOnClick(t)}}:{...e.beforeNavigate?{onClick:()=>{r("eats:start_group_order_button"),e.beforeNavigate&&e.beforeNavigate()}}:null,to:e.store.data?(0,i.Ljk)(t,(0,i.Btk)(e.store.data)):""},...e.href?{href:e.href}:null,...e.href&&e.authOnClick?{$as:"a"}:{$as:s.rU}};return(0,f.BX)(f.HY,{children:[(0,f.tZ)(n.ZP,{$height:24}),(0,f.BX)(a.Bi,{...d,children:[(0,f.tZ)(u.Z,{size:16}),(0,f.tZ)(l.sA,{}),(0,f.tZ)(x,{children:(0,f.tZ)(o.v,{id:"components.checkout.group_order"})})]})]})},S=e=>{const{user:t}=(0,d.Z)(),r=(0,v.TH)(),o=(0,p.I0)(),n=(0,m.Z)(),{deliveryAddress:a,deliveryTime:s,storeUuid:l,diningMode:u,isEditOrder:h}=(0,g.Z)();return h?null:!t.data?.isLoggedIn&&e.store.data?(0,f.tZ)(c.Z,{type:"login",redirectTo:(0,i.Ljk)(r,(0,i.Btk)(e.store.data)),children:t=>{let{onClick:r,href:i}=t;return(0,f.tZ)(b,{store:e.store,authOnClick:r,href:i})}}):(0,f.tZ)(b,{store:e.store,...n&&l?{beforeNavigate:()=>{o((0,Z.A0)(l,{...s?{storeScheduledTime:s}:{},...a?{storeDeliveryLocation:a}:{},...u?{storeDiningMode:u}:{}}))}}:{}})}},61799:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(46933),o=r(15649),n=r(60362),a=r(33990);const s=e=>{const t=(0,o.Z)(),r={date:(0,n.p6)(t,e.date),startTime:(0,n.CJ)(t,e.startTime),endTime:(0,n.CJ)(t,e.endTime)};return"shared.scheduledFor.dateAndTimeRange"===e.translationKey?(0,a.tZ)(i.v,{id:"shared.scheduledFor.dateAndTimeRange",data:r}):"shared.scheduledDeliveryTime.dateAndTimeRange"===e.translationKey?(0,a.tZ)(i.v,{id:"shared.scheduledDeliveryTime.dateAndTimeRange",data:r}):"shared.scheduledPickupTime.dateAndTimeRange"===e.translationKey?(0,a.tZ)(i.v,{id:"shared.scheduledPickupTime.dateAndTimeRange",data:r}):(0,a.tZ)(i.v,{id:"shared.dateAndTimeRange",data:r})}},9071:(e,t,r)=>{r.d(t,{Z:()=>k});var i=r(36151),o=r(91931),n=r(46329),a=r(33535),s=r(50818),l=r(94579),d=r(53456),c=r(1257),u=r(74057),h=r(28222),p=r(57444),g=r(91631),m=r(47986),Z=r(70471),y=r(87444),v=r(62149),f=r(70971),x=r(79168),b=r(33990);const S=(0,o.zo)("div",(e=>{let{$isFullWidth:t}=e;return{display:"flex",position:"relative",width:t?"100%":"auto"}})),$=(0,o.w1)(d.Z,(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",...t.typography.LabelSmall,textAlign:"center",height:"100%",padding:`0 ${t.sizing.scale550}`,borderRadius:t.borders.pillButtonBorderRadius,transition:l.pB.default}})),C=(0,o.zo)("div",(e=>{let{$theme:t,$background:r,$isDisabled:i}=e;return{background:t.colors[r||"backgroundSecondary"],display:"flex",width:"100%",borderRadius:t.borders.pillButtonBorderRadius,padding:"4px",boxSizing:"border-box",whiteSpace:"nowrap",...i?{...(0,p.Z)(t)}:{}}})),z=(0,o.zo)("div",{display:"grid",gridAutoFlow:"column",gridAutoColumns:"1fr",width:"100%"}),w=(0,o.zo)("div",(e=>{let{$isDisabled:t}=e;return{display:"flex",justifyContent:"center",zIndex:l.I_.surface,...t?{pointerEvents:"none"}:{}}})),_=(0,o.zo)("div",(e=>{let{$background:t,$position:r,$theme:i,$width:o,$hasShadow:n}=e;return{position:"absolute",transform:`translateX(${r}px)`,height:"calc(100% - 8px)",width:`${o||0}px`,background:i.colors[t],borderRadius:i.borders.pillButtonBorderRadius,zIndex:l.I_.base,transition:o?l.pB.default:"none",...n?{boxShadow:i.lighting.shadow400}:{}}})),k=e=>{const t=(0,g.k6)(),r=(0,v.TH)(),o=(0,a.ZP)(),l=(0,i.useRef)([]),d=(0,i.useRef)(!1),[p,k]=(0,i.useState)({position:0,width:0}),{diningModes:I,handleDiningModeClick:B}=(0,n.ZP)(null),L=(0,c.Z)(I),{modalName:T}=(0,m.RAN)(r,["modalName"]),{diningMode:P}=(0,u.Z)();(0,n.OT)({diningModes:L});const O=(0,h.Z)(),D=(0,y.Z)("apple_maps_checkout_dining_mode_listener"),R=(0,Z.Z)(),E=(0,f.T)(),H=e.supportedDiningModes?e.supportedDiningModes:L,M=H&&H.length<2||!e.supportedDiningModes&&!L||E;(0,i.useEffect)((()=>{M||!H||d.current||(d.current=!0,o("eats:dining_mode_selector",{diningModes:(0,s.rG)(H),diningMode:P}))}),[o,H,P,M]),(0,i.useEffect)((()=>{if(!D||!R)return;Boolean(T)||"DELIVERY"===P&&(B("PICKUP"),o("eats:apple_maps_checkout_dining_mode_reset_activated"))}),[T,R,P,B,D,o]),(0,i.useEffect)((()=>{if(H){let e=0;H.forEach(((t,r)=>{const i=l.current[r]?.getBoundingClientRect()||null;P===t.mode&&i&&k({position:e,width:i.width}),e+=i?.width||0}))}}),[H,P]);const A=(0,x.Z)(e.size??(e.smallPill?"small":void 0));if(M)return null;let U;return U=e.isDisabled&&e.inverseColors?"contentStateDisabled":O?"primary":e.inverseColors?"backgroundInversePrimary":"backgroundPrimary",(0,b.tZ)(S,{$isFullWidth:Boolean(e.isFullWidth),children:(0,b.BX)(C,{$isDisabled:e.isDisabled,$style:A,children:[(0,b.tZ)(z,{children:(H||[]).map(((i,n)=>{const a=P===i.mode;let s;return s=e.isDisabled?e.inverseColors&&a?"disabled":"contentStateDisabled":O&&a?"buttonPrimaryText":O&&!a?"contentPrimary":e.inverseColors&&a?"contentInversePrimary":"contentPrimary",(0,b.tZ)(w,{ref:e=>{l.current[n]=e},$isDisabled:e.isDisabled,children:(0,b.tZ)($,{type:"radio",color:s,label:i.title,value:i.mode,checked:a,hideBackground:!0,onChange:()=>{e.isDisabled||(o("eats:dining_mode_click",{diningMode:i.mode}),B(i.mode),R&&"DELIVERY"===i.mode&&t.push((0,m.vN_)(r,"locationManager","DELIVERY_LOCATION_MANAGER")))}})},i.mode)}))}),(0,b.tZ)(_,{$background:U,$position:p.position,$width:p.width,$hasShadow:e.hasPillShadow})]})})}},33841:(e,t,r)=>{r.d(t,{Z:()=>d});var i=r(91931),o=r(24187),n=r(52298),a=r(69630),s=r(33990);const l=(0,i.zo)("div",(e=>{let{$theme:t,$isInMulticart:r}=e;return{padding:"24px",position:r?"sticky":"absolute",bottom:0,left:0,right:0,...t.overlays.floatingButtonGradient}}));function d(e){const[t,r]=(0,o.Z)(),i=(0,a.Z)();return(0,s.BX)(s.HY,{children:[i?null:(0,s.tZ)(n.ZP,{$height:t?.height||0}),(0,s.tZ)(l,{$isInMulticart:i,ref:r,children:e.children})]})}},74365:(e,t,r)=>{r.d(t,{c:()=>m});var i=r(43193),o=r(36151),n=r(91931),a=r(94579),s=r(14770),l=r(33990);const d=(0,n.zo)("div",{padding:"16px 24px"}),c=(0,n.zo)("div",(e=>({position:"absolute",width:"100%",top:"0",left:"0",backgroundColor:e.$theme.colors[e.$bgColor],zIndex:a.I_.modal}))),u=(0,n.zo)(s.Z,{width:"24px",height:"24px",display:"flex",position:"relative",cursor:"pointer",right:"6px"}),h=(0,n.zo)("div",{position:"relative",marginTop:"8px"}),p=((0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.onNegative}})),(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium}))),g=e=>{const[t,r]=i.useState(!1);(0,o.useEffect)((()=>{r(!1)}),[]);return(0,l.tZ)(l.HY,{children:t?null:(0,l.tZ)(c,{$bgColor:e.$bgColor,children:(0,l.BX)(d,{children:[(0,l.tZ)(u,{onClick:()=>{r(!0)},iconColor:e.$iconFill}),(0,l.tZ)(h,{children:e.children})]})})})},m=e=>(0,l.tZ)(g,{$bgColor:"warning",$iconFill:"onWarning",children:(0,l.tZ)(p,{children:e.children})})},96965:(e,t,r)=>{r.d(t,{Z:()=>I});var i=r(36151),o=r(52246),n=r(14016),a=r(33535),s=r(79908),l=r(45423),d=r(22395),c=r(36278),u=r(91931),h=r(57444),p=r(61799),g=r(22787),m=r(58814);var Z=r(80165),y=r(74057),v=r(54939),f=r(28222),x=r(82794),b=r(71051),S=r(29230),$=r(97130),C=r(33990);const z=e=>{let{$theme:t,$isOnlineOrdering:r,$isDisabled:i}=e;return i?(0,h.Z)(t):r?(e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingPrimaryInverseText,background:t.colors.onlineOrderingPrimaryInverse,...r?(0,h.Z)(t):{":hover":{background:t.colors.onlineOrderingPrimaryInverseHover},":active":{background:t.colors.onlineOrderingPrimaryInverseActive},...(0,m.Z)(t)}}})({$theme:t}):(0,g.y)({$theme:t})},w=(0,u.zo)(o.rU,(e=>{let{$size:t,$drawBorder:r,$theme:i,$isOnlineOrdering:o,$isDisabled:n}=e;return{...i.typography.LabelSmall,borderRadius:i.borders.pillButtonBorderRadius,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",height:"large"===t?"48px":"36px",padding:"8px 12px",boxSizing:"border-box",border:r?`1px solid ${i.colors.onlineOrderingPrimaryInverseActive}`:void 0,minWidth:`${S.Kv.addressMinWidth}px`,flex:"0 1 auto",...z({$theme:i,$isDisabled:n,$isOnlineOrdering:o})}})),_=(0,u.zo)("div",(e=>{let{$theme:t}=e;return{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:`1 1 ${t.sizing.scale1200}`}})),k=(0,u.zo)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",flex:"0 1 content"}),I=e=>{const{deliveryTime:t,deliveryLocation:r,diningMode:o}=(0,y.Z)(),u=(0,i.useContext)(b.k7),h=(0,n.T)(),g=(0,a.ZP)(),m=(0,Z.WI)("header-location-button"),S=(0,f.Z)(),z=(0,x.d1)()?.customization?.colorInfo?.primary,{shouldOverrideLabel:I,overrideLabel:B}=(0,v.Z)(),{storeUuid:L,isSchedulable:T}=e,{redirectUrl:P}=(0,$.X)();return r?(0,C.BX)(w,{"data-testid":"edit-delivery-location-button",ref:m,$size:e.size,$isDisabled:e.deliveryLocationPickerDisabled,to:()=>P({storeUuid:L,isSchedulable:T}),onClick:t=>{e.deliveryLocationPickerDisabled?t.preventDefault():(g("eats:delivery_details_click"),u.set("addressChangeTouched",!0))},$isOnlineOrdering:S,$drawBorder:Boolean(S&&z),children:[(0,C.tZ)(s.Z,{color:"onHeader",type:"Pin",width:"16px",ariaLabel:h("component.location_typeahead_mobile.deliver_to")}),(0,C.tZ)(c.ZP,{$width:"8px"}),I?B:(0,C.tZ)(_,{"data-testid":"delivery-address-label",children:r.address.address1}),(0,C.tZ)(d.Z,{spaces:2}),(0,C.tZ)(k,{"data-test":"delivery-time",children:"scheduled"in t?(0,C.tZ)(p.Z,{date:t.date,startTime:t.startTime,endTime:t.endTime}):(0,C.tZ)(l.Z,{shortenedTime:!0,diningMode:o})})]}):null}},81707:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(36151),o=r(73518),n=r(33990);function a(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M18 7V2H6v5H1v15h22V7h-5zm-3 0H9V5h6v2z"})})}const s=i.forwardRef(a)},56348:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(36151),o=r(73518),n=r(33990);function a(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M22 6.9v3.8l-10 7.7-10-7.7V6.9l10 7.7 10-7.7z"})})}const s=i.forwardRef(a)},87873:(e,t,r)=>{r.d(t,{Z:()=>s});var i=r(36151),o=r(73518),n=r(33990);function a(e,t){return(0,n.tZ)(o.Z,{viewBox:"0 0 20 20",ref:t,...e,children:(0,n.tZ)("path",{d:"M18.834 17l-3.666-3.667c.916-1.333 1.5-2.916 1.5-4.666C16.667 4.333 13.083.75 8.75.75 4.417.75.834 4.333.834 8.667c0 4.333 3.583 7.916 7.917 7.916 1.75 0 3.333-.583 4.666-1.5l3.667 3.667 1.75-1.75zm-15.5-8.25c0-3 2.417-5.417 5.417-5.417s5.416 2.417 5.416 5.417-2.416 5.417-5.416 5.417c-3 0-5.417-2.417-5.417-5.417z"})})}const s=i.forwardRef(a)},53456:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(91931),o=r(37555),n=r(94579),a=r(33990);const s=(0,i.zo)("div",(e=>{let{$color:t,$checked:r,$hideBackground:i,$theme:o,$hasShadow:a}=e;return{...o.typography.LabelSmall,padding:"8px 12px",boxSizing:"border-box",...r?{backgroundColor:o.colors.buttonPrimaryFill,color:o.colors.buttonPrimaryText}:{backgroundColor:o.colors.buttonSecondaryFill,color:o.colors.buttonSecondaryText},...i?{backgroundColor:"initial"}:{},...t?{color:o.colors[t]}:{},cursor:"pointer",userSelect:"none",...a?{boxShadow:o.lighting.shadow400,transition:"box-shadow ease 0ms",transitionDelay:r?n.pB.defaultDuration:"0ms"}:{}}})),l=(0,i.Le)(s,(e=>function(t){return(0,a.tZ)(e,{$color:t.color,$checked:t.checked,$hideBackground:t.hideBackground,$hasShadow:t.hasShadow,role:t.type,"aria-checked":t.checked,tabIndex:0,"aria-label":t.label,onClick:()=>t.onChange(t.value),onKeyDown:e=>e.keyCode===o.Fx&&t.onChange(t.value),$as:t.$as,to:t.to,children:t.label})}))},6573:(e,t,r)=>{r.d(t,{Z:()=>x});var i=r(91931),o=r(46933),n=r(36278),a=r(79908),s=r(94579),l=r(81707),d=r(33990);const c=(0,i.zo)("li",(e=>{let{$theme:t,$isHighlighted:r,$size:i}=e;return{backgroundColor:r?t.colors.menuFillHover:"transparent",padding:"mini"===i?t.sizing.scale500:t.sizing.scale600,display:"flex",cursor:"pointer",transition:s.pB.itemBackground,outline:"none",":hover":{background:t.colors.menuFillHover}}})),u=(0,i.zo)("div",{alignSelf:"start"}),h=(0,i.zo)("div",{minWidth:0}),p=(0,i.zo)("div",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.ParagraphSmall:t.typography.ParagraphMedium,color:t.colors.contentPrimary,textOverflow:"ellipsis",overflow:"hidden"}})),g=(0,i.zo)("div",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.ParagraphXSmall:t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),m=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),$size:e.size,children:[(0,d.tZ)(u,{children:(0,d.tZ)(a.Z,{type:"Pin",background:!0})}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{$size:e.size,children:e.location.addressLine1}),(0,d.tZ)(g,{$size:e.size,children:e.location.addressLine2})]})]}),Z=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,d.BX)(u,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(l.Z,{..."mini"===e.size?{size:20}:{}}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(a.Z,{type:"home"===e.taggedLocation.tag?"Home":"Time",background:!0,..."mini"===e.size?{width:20,height:20}:{}}):null]}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{$size:e.size,children:e.taggedLocation.address.address.title}),(0,d.tZ)(g,{$size:e.size,children:e.taggedLocation.address.address.subtitle}),e.taggedLocation.interactionString&&e.taggedLocation.instructionNotes?(0,d.tZ)(g,{$size:e.size,children:(0,d.tZ)(o.v,{id:"shared.taggedLocationInstructions",data:{interaction:e.taggedLocation.interactionString,notes:e.taggedLocation.instructionNotes}})}):(0,d.tZ)(g,{$size:e.size,children:e.taggedLocation.interactionString||e.taggedLocation.instructionNotes})]})]}),y=(0,i.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"16px"}})),v=e=>{let{getItemProps:t}=e;return(0,d.tZ)(y,{...t({index:0}),children:(0,d.tZ)(o.v,{id:"shared.hmmCantFindThisAddress"})})},f=(0,i.zo)("ul",(e=>{let{$hasResults:t,$theme:r,$size:i}=e;return{background:r.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:s.I_.foreground,boxShadow:r.shadows.box,...t?{paddingBottom:"8px"}:{},..."mini"===i?{borderRadius:r.borders.inputBorderRadiusMini,marginTop:r.sizing.scale300}:{}}})),x=e=>{let t=null,r=!1;return e.isOpen&&(e.showTryAgainMessage?t=(0,d.tZ)(v,{getItemProps:e.getItemProps}):(t=e.locations.map(((t,r)=>"isTaggedLocation"in t&&t.isTaggedLocation?(0,d.tZ)(Z,{index:r,taggedLocation:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex,size:e.size},r):"isTaggedLocation"in t?void 0:(0,d.tZ)(m,{index:r,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex,size:e.size},r))),r=e.locations.length>0)),(0,d.tZ)(f,{...e.getMenuProps(),$hasResults:r,$size:e.size,children:t})}},639:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(14016),o=r(91931),n=r(6573),a=r(33535),s=r(48402),l=r(69404),d=r(54669),c=r(94579),u=r(68568),h=r(33990);const p=(0,o.zo)("label",c.E2),g=e=>{const t=(0,a.ZP)(),r=(0,d.Z)(),o=(0,i.T)(),{query:c,placeholder:g,locations:m,isLoading:Z,highlightedIndex:y,isOpen:v,showTryAgainMessage:f,openMenu:x,reset:b,getItemProps:S,getMenuProps:$,getInputProps:C,getLabelProps:z}=(0,u.Z)({onLocationSelected:e.onLocationSelected,initialQuery:e.initialQuery,id:e.id,initialIsClosed:!0});return(0,h.tZ)(l.Z,{children:(0,h.BX)("div",{ref:e.registerRef,children:[(0,h.tZ)(p,{...z(),children:o("shared.combobox.a11y_instructions")}),(0,h.tZ)(s.Z,{query:c,getInputProps:C,reset:b,placeholder:g,isLoading:Z,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{x(),t("eats:enter_delivery_address_start",{address:r?.address.address1,latitude:r?.latitude,longitude:r?.longitude})},size:e.size,highlightFocus:e.highlightFocus}),(0,h.tZ)(n.Z,{locations:m.data||[],getMenuProps:$,getItemProps:S,highlightedIndex:y,showTryAgainMessage:f,isOpen:v,size:e.size})]})})}},43675:(e,t,r)=>{r.d(t,{Z:()=>v});var i=r(36151),o=r(58984),n=r(62149),a=r(44692),s=r(69086),l=r(78034),d=r(33535),c=r(54669),u=r(65717),h=r(7819),p=r(41878),g=r(25862),m=r(65014),Z=r(73472),y=r(33990);const v=e=>{const{searchHomeResults:t=[],sections:r=[],verticalList:v,selectedVertical:f}=e,x=(0,n.TH)(),b=(0,o.I0)(),S=(0,d.ZP)(),$=(0,c.Z)(),{startTiming:C}=(0,Z.K3)(),z=(0,u.Z)(),w=(e,r)=>({itemPosition:r,title:e.titleTerm,type:e.type,sectionItemsCount:t.length-1,sectionPosition:0,sectionTitle:e.type});i.useEffect((()=>{b((0,l.Vw)(v))}),[b,v]);const _=(t,r)=>{C(m.B.SEARCH_FEED_LOAD_EVENT_NAME),S("eats:search_end",{userQuery:t?.title,page:x.pathname,hasDeliveryLocation:Boolean($),searchType:"suggestion",mvsMeta:{verticalList:v.map((e=>e.verticalType)).join(","),selectedVertical:f}}),e.onItemClick&&e.onItemClick(t,r)};return(0,g.Z)(m.B.SEARCH_HOME_LOAD_EVENT_NAME),(0,y.tZ)(y.HY,{children:t.map(((e,i)=>{const o=i<t.length-1,n=(0,p.aJ)(e,x,$,z,f);switch(e.type){case"sectionTitle":return(0,y.tZ)(a.L1,{title:e.title},i);case"searchHistory":case"searchHistoryV2":return(0,y.tZ)(a.rG,{onClick:()=>{_(t[i],i)},item:{title:e.title||"",url:n,iconType:a.d.CLOCK,eventData:r.length?w(e,i):void 0},hasBorder:o},i);case"popularCategory":case"topCategory":return(0,y.tZ)(a.rG,{onClick:()=>{_(t[i],i)},item:{title:e.title||"",url:n,iconType:a.d.CATEGORY,iconUrl:e.iconUrl},hasBorder:o},i);case"searchText":return(0,y.tZ)(a.rG,{onClick:()=>{_(t[i],i)},item:{title:e.title,iconType:a.d.SEARCH,url:n},hasBorder:o},i);case"store":return(0,y.tZ)(y.HY,{children:e.store?(0,y.tZ)(s.Z,{store:e.store,hasBorder:o,url:(0,h.C)(e.store,z,x)},i):null});default:return null}}))})}},66740:(e,t,r)=>{r.d(t,{Z:()=>y});var i=r(36151),o=r(91931),n=r(97415),a=r(67206),s=r(94579),l=r(33990);const d=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...(0,a.Z)({$theme:t}),backgroundSize:"100vw 100%",position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:s.I_.background}})),c=(0,o.zo)("div",{display:"flex",flex:1}),u=(0,o.zo)("div",{position:"relative",display:"flex"}),h=(0,o.zo)("div",{flex:"none",display:"flex",flexDirection:"column",justifySectionWrapper:"center",alignItems:"center"}),p=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{width:"40px",height:"40px",background:`radial-gradient(transparent 20px, ${t.colors.backgroundPrimary} 20px)`}})),g=(0,o.zo)("div",{display:"flex",flexDirection:"column",flex:1}),m=e=>{let{titleWidth:t}=e;return(0,l.BX)(c,{children:[(0,l.BX)(h,{children:[(0,l.tZ)(n.CB,{$height:"10px",$width:"40px"}),(0,l.tZ)(p,{}),(0,l.tZ)(n.CB,{$height:"10px",$width:"40px"})]}),(0,l.tZ)(n.CB,{$width:"12px"}),(0,l.BX)(g,{children:[(0,l.tZ)(n.CB,{$width:"100%",$grow:!0}),(0,l.tZ)(n.gD,{width:`${t}%`,height:"24px"}),(0,l.tZ)(n.CB,{$width:"100%",$grow:!0})]})]})},Z=e=>{let{itemWidths:t}=e;return(0,l.BX)(g,{children:[(0,l.BX)(g,{children:[(0,l.tZ)(n.CB,{$width:"100%",$height:"16px"}),(0,l.tZ)(n.gD,{width:"40%",height:"30px"}),(0,l.tZ)(n.CB,{$width:"100%",$height:"12px"})]}),(0,l.tZ)(g,{children:t.map(((e,t)=>(0,l.tZ)(m,{titleWidth:e},t)))})]})},y=e=>{const[t]=(0,i.useState)(e.itemNumbers.map((e=>(e=>[...Array(e)].map((()=>Math.floor(50*Math.random())+30)))(e))));return(0,l.BX)(u,{children:[(0,l.tZ)(d,{}),(0,l.tZ)(g,{children:t.map(((e,t)=>(0,l.tZ)(Z,{itemWidths:e},t)))})]})}},69086:(e,t,r)=>{r.d(t,{Z:()=>v});var i=r(94024),o=r.n(i),n=r(91931),a=r(36278),s=r(31913),l=r(39957),d=r(79857),c=r(2139),u=r(33990);const h=(0,n.zo)(l.Z,(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",alignItems:"center",opacity:t?.6:void 0}})),p=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale950,display:"flex",justifyContent:"center",alignItems:"center"}})),g=(0,n.zo)("div",(e=>{let{$theme:t,$src:r}=e;return{borderRadius:"50%",width:t.sizing.scale950,height:t.sizing.scale950,backgroundImage:`url(${o()(r)})`,backgroundSize:"cover"}})),m=(0,n.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{padding:`${t.sizing.scale600} 0`,width:"100%",boxSizing:"border-box",...r?{borderBottom:`${t.sizing.scale0} solid ${t.colors.borderOpaque}`}:{}}})),Z=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),y=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),v=e=>{const{url:t,hasBorder:r,onClick:i}=e,{categories:o=[],title:n="",heroImageUrl:l="",meta1:v,isOrderable:f}=e.store||{},x=(0,d.Z)(),b=(0,c.Z)(),S=x&&!b;return(0,u.BX)(h,{suggestionAction:t,$isGrayedOut:!1===f,onClick:i,shouldReplaceOnNavigate:S,children:[(0,u.tZ)(p,{children:l?(0,u.tZ)(g,{$src:l,title:n,"aria-hidden":!0}):null}),(0,u.tZ)(a.IQ,{}),(0,u.BX)(m,{$hasBorder:r,children:[(0,u.tZ)(Z,{children:n}),v?(0,u.tZ)(s.ZP,{text:v}):(0,u.tZ)(y,{children:o.join(" â€¢ ")})]})]})}},44692:(e,t,r)=>{r.d(t,{L1:()=>S,d:()=>m,rG:()=>b});var i=r(43193),o=r(91931),n=r(78422),a=r(36278),s=r(85191),l=r(39957),d=r(94024),c=r.n(d),u=r(81702),h=r(79857),p=r(2139),g=r(33990);const m={SEARCH:"search",CLOCK:"clock",CATEGORY:"category"},Z=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,margin:"12px 0 8px 0"}})),y=(0,o.zo)(l.Z,(e=>{let{$theme:t}=e;return{display:"flex",width:"100%",height:"64px",alignItems:"center"}})),v=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center",width:"36px",height:"36px",borderRadius:"50%",color:t.colors.contentTertiary}})),f=(0,o.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:`${t.sizing.scale0} solid ${t.colors.borderOpaque}`}:{}}})),x=(0,o.zo)("div",(e=>({borderRadius:"50%",width:"40px",height:"40px",backgroundImage:`url(${c()(e.$src)})`,backgroundSize:"cover"}))),b=e=>{let{item:t,hasBorder:r,onClick:o}=e;const{iconType:l,title:d,url:c,iconUrl:Z}=t,[b,S]=(0,s.T)({root:null}),{trackSearchHomeItemClick:$,trackSearchHomeItemView:C}=(0,u.Z)(),z=(0,h.Z)(),w=(0,p.Z)(),_=(z||w)&&"link"===c.type;return i.useEffect((()=>{t.eventData&&S&&S.isIntersecting&&C(t.eventData)}),[S]),(0,g.BX)(y,{suggestionAction:c,ref:b,onClick:()=>{t.eventData&&$(t.eventData),o&&o(d)},shouldReplaceOnNavigate:_,children:[(0,g.tZ)(v,{children:l===m.CLOCK?(0,g.tZ)(n.Z,{name:"ClockOutlined",size:16}):l===m.SEARCH?(0,g.tZ)(n.Z,{name:"SearchOutlined",size:18}):l===m.CATEGORY&&Z?(0,g.tZ)(x,{$src:Z,title:d,"aria-hidden":!0}):null}),(0,g.tZ)(a.IQ,{}),(0,g.tZ)(f,{$hasBorder:r,children:d})]})},S=e=>{let{title:t}=e;return(0,g.tZ)(Z,{children:t})}},28700:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(43193),o=r(44692),n=r(91931),a=r(69086),s=r(73472),l=r(65014),d=r(33990);const c=(0,n.zo)("ul",(e=>{let{$theme:t}=e;return{width:"100%"}})),u=(0,n.zo)("li",(e=>({backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",outline:"none",...e.$showBackground?{":hover":{background:e.$theme.colors.menuFillHover}}:{},transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s",transform:"translateY(0)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}))),h=(e,t,r,i,n)=>{switch(e.type){case"sectionTitle":return(0,d.tZ)(o.L1,{title:e.title},n);case"text":case"textV2":case"searchText":case"searchTextV2":return(0,d.tZ)(o.rG,{item:{title:i,iconType:o.d.SEARCH,url:r},hasBorder:t});case"searchHistory":case"searchHistoryV2":return(0,d.tZ)(o.rG,{item:{title:i,iconType:o.d.CLOCK,eventData:void 0,url:r},hasBorder:t},n);case"store":case"croStore":return(0,d.tZ)(a.Z,{store:e.store,hasBorder:t,url:r});case"popularCategory":return(0,d.tZ)(o.rG,{item:{title:i,url:r,iconType:o.d.CATEGORY},hasBorder:t},n);default:return null}},p=e=>{const{stopTiming:t}=(0,s.K3)();return i.useEffect((()=>{e.suggestions.length>0&&t(l.B.SEARCH_SUGGESTION_LOAD_EVENT_NAME,{shouldEmitTiming:!0})}),[e.suggestions,t]),(0,d.tZ)(c,{...e.getMenuProps(),children:e.suggestions.map(((t,r)=>{const i=r<e.suggestions.length-1,o=e.getSuggestionAction(t),n=t.title||"";return(0,d.tZ)(u,{...e.getItemProps({index:r,disabled:"sectionTitle"===t.type}),onClick:()=>{e.onItemClick&&e.onItemClick(t,r)},$showBackground:"sectionTitle"!==t.type,children:h(t,i,o,n,r)},r)}))})}},39957:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(36151),o=r(52246),n=r(33990);const a=i.forwardRef((function(e,t){let{suggestionAction:r,shouldReplaceOnNavigate:i,onClick:a,children:s,...l}=e;return"link"===r.type?(0,n.tZ)(o.rU,{...l,...i?{replace:!0}:null,to:r.to,onClick:a,ref:t,children:s}):"anchor"===r.type?(0,n.tZ)("a",{...l,href:r.href,onClick:a,ref:t,children:s}):(0,n.tZ)("a",{...l,onClick:e=>{e.preventDefault(),a&&a(e)},ref:t,children:s})}))},48402:(e,t,r)=>{r.d(t,{Z:()=>f});var i=r(36151),o=r(14016),n=r(46933),a=r(91931),s=r(79908),l=r(14770),d=r(62851),c=r(36278),u=r(79168),h=r(33990);const p=(0,a.w1)(d.U,(e=>({display:"flex",padding:"8px 16px",position:"relative",...e.$backgroundColor?{backgroundColor:e.$theme.colors[e.$backgroundColor]}:{},...e.$isFocused?{boxShadow:e.$theme.shadows.focusedInput}:{},...e.$height?{height:`${e.$height}px`}:{},...e.$borderRadius?{borderRadius:e.$borderRadius}:{}}))),g=(0,a.zo)("div",(e=>{let{$shouldAnimatePin:t}=e;return{padding:"8px 0",display:"flex",flexShrink:0,alignItems:"center",...t?{animationDuration:"3s",animationDelay:"2s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotateY(0deg)"},"20%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}}:{}}})),m=(0,a.zo)("input",(e=>({flex:1,backgroundColor:e.$backgroundColor?e.$theme.colors[e.$backgroundColor]:e.$theme.colors.inputFill,...e.$width?{width:`${e.$width}px`}:{},appearance:"none",fontSize:e.$fontSize,outline:"none","::placeholder":{..."mini"===e.$size?e.$theme.typography.LabelSmall:e.$theme.typography.LabelMedium,color:e.$theme.colors.contentTertiary}}))),Z=(0,a.zo)("button",(e=>{let{$theme:t,$size:r}=e;return{..."mini"===r?t.typography.LabelXSmall:t.typography.LabelSmall,color:t.colors.contentTertiary,cursor:"pointer"}})),y=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),v=(0,a.zo)(l.Z,{cursor:"pointer"}),f=e=>{const[t,r]=(0,a.hQ)(),l=(0,o.T)(),[d,f]=i.useState(!1),x=i.useRef(null),{value:b,...S}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),f(!0)},onBlur:()=>f(!1),ref:x}),{fontSize:$,height:C}=(0,u.Z)(e.size);return(0,h.BX)(p,{$backgroundColor:e.backgroundColor,$isFocused:d&&(e.highlightFocus??!0),$height:e.size?parseInt(C,10):e.height,$borderRadius:"mini"===e.size||"rounded"===e.borderStyle?r.borders.pillButtonBorderRadius:null,children:[(0,h.tZ)(g,{$shouldAnimatePin:e.shouldAnimatePin,children:(0,h.tZ)(s.Z,{type:e.isLoading?"Loading":e.iconType,ariaLabel:e.isLoading?l("loading"):void 0,..."mini"===e.size?{width:20,height:20}:{}})}),(0,h.tZ)(c.ZP,{$width:"mini"===e.size?"8px":"16px"}),(0,h.tZ)(m,{...S,value:b||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$backgroundColor:e.backgroundColor,$width:e.queryWidth,$fontSize:$,$size:e.size}),(0,h.tZ)(c.ZP,{$width:"8px"}),e.query.length>0?(0,h.tZ)(Z,{type:"button",onClick:()=>{e.reset(),x.current&&x.current.focus()},$size:e.size,children:(0,h.tZ)(n.v,{id:"shared.clear"})}):null,e.onClose&&e.query.length>0?(0,h.tZ)(y,{}):null,e.onClose?(0,h.tZ)(v,{onClick:e.onClose}):null]})}},69404:(e,t,r)=>{r.d(t,{Z:()=>i});const i=(0,r(91931).zo)("div",{flexDirection:"column",position:"relative",flex:1})},70471:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(54669);function o(){return"apple_maps_store_inherit"===(0,i.Z)()?.originType}},79168:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(91931);function o(e){const[t,r]=(0,i.hQ)();switch(e){case"mini":return{height:r.sizing.scale950,fontSize:r.sizing.scale550};case"small":return{height:r.sizing.scale1000,fontSize:r.sizing.scale600};default:return{height:r.sizing.scale1200,fontSize:r.sizing.scale600}}}},929:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(20115),o=r(29230),n=r(74634);function a(){const e=(0,n.Z)(),t=(0,i.Z)("features_config");return{headerHeight:e?o.Kv.height:t.header.height,isHeaderSticky:Boolean(t?.header?.sticky),headerShadowEnabled:Boolean(t?.header?.shadow)}}},49757:(e,t,r)=>{r.d(t,{Z:()=>ne});var i=r(36151),o=r(46933),n=r(91631),a=r(68095),s=r(91931),l=r(76150),d=r(83960),c=r(50192),u=r(24316),h=r(94579),p=r(21661),g=r(73518),m=r(33990);function Z(e,t){return(0,m.tZ)(g.Z,{viewBox:"0 0 8 6",ref:t,...e,children:(0,m.tZ)("path",{d:"M8 .333v2.534L4 5.933 0 2.867V.333L4 3.4 8 .333z"})})}const y=i.forwardRef(Z);var v=r(36278),f=r(63346);const x=(0,s.zo)("div",{position:"relative",zIndex:h.I_.surface}),b=(0,s.zo)("button",(e=>{let{$theme:t}=e;return{cursor:"pointer",border:"none",outline:"none",display:"flex",alignItems:"center",...t.typography.LabelMedium}})),S=(0,s.zo)("span",(e=>{let{$theme:t}=e;return{display:"block",borderBottom:"1px solid transparent",":hover":{borderBottom:`1px solid ${t.colors.contentSecondary}`}}})),$=()=>{const{cartViews:e}=(0,u.Z)(),{sidebarCartDropdownVisible:t,setSidebarCartDropdownVisible:r}=(0,l.Lb)(),{toggleIsDropdownOpen:i,dropdownRef:n,isDropdownOpen:a,onCartSelect:s,DropdownWrapperDesktop:d}=(0,p.Z)({isDropdownOpen:t,setIsDropdownOpen:r}),c=e.length;return(0,m.BX)(x,{ref:n,children:[(0,m.BX)(b,{"aria-haspopup":"true","aria-expanded":a,onClick:i,children:[(0,m.tZ)(S,{children:(0,m.tZ)(o.v,{id:"multicart.carts_with_num",data:{num:c}})}),(0,m.tZ)(v.Tr,{}),(0,m.tZ)(y,{rotate:a?180:0,size:9})]}),a?(0,m.tZ)(d,{children:(0,m.tZ)(f.Z,{onCartSelect:s,isMobile:!1})}):null]})};var C=r(31017),z=r(72179),w=r(98102);const _=(0,s.zo)("div",(e=>{let{$theme:t,$shouldStick:r}=e;return{...t.typography.LabelMedium,opacity:r?1:0,transition:`opacity ${t.animation.timing300} ease`}})),k=(0,s.zo)("div",(()=>({position:"sticky",top:0,zIndex:1}))),I=(0,s.zo)("div",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{margin:`0 -${t.sizing.scale600}`,...r?{padding:`${t.sizing.scale700} ${t.sizing.scale800} 0 ${t.sizing.scale300}`,marginBottom:`-${t.sizing.scale600}`}:{padding:`0 ${t.sizing.scale800} 0 ${t.sizing.scale300}`,minHeight:t.sizing.scale1400},backgroundColor:t.colors.backgroundPrimary,display:"flex",justifyContent:"space-between",alignItems:"center"}})),B=e=>{const{isCartDrafting:t}=(0,z.Z)();return t?(0,m.tZ)(k,{children:e.children}):(0,m.tZ)("div",{children:e.children})},L=(0,s.zo)(c.Z,{position:"static"}),T=e=>{const{isCartDrafting:t}=(0,z.Z)(),{totalOrders:r,draftOrders:i}=(0,u.Z)(),{isEditOrder:o}=(0,d.Z)(),[,n]=(0,s.hQ)(),a=r>1;return(0,m.tZ)(B,{children:(0,m.BX)(I,{$isCartDrafting:t,children:[(0,m.tZ)(L,{onClick:e.onClose,$noBackground:t,iconSize:t?n.sizing.scale800:void 0}),0!==r||i.isLoading||o?null:(0,m.tZ)(C.X,{}),t&&e.store.hasLoaded&&e.store.data?(0,m.tZ)(_,{$shouldStick:e.shouldStick,children:e.store.data.title}):null,t&&e.store.hasLoaded&&e.store.data?(0,m.tZ)(w.$C,{store:e.store.data,onClearCart:e.onClose}):null,!a||o||t?null:(0,m.tZ)($,{})]})})};var P=r(70247),O=r(17593),D=r(97679),R=r(74365),E=r(71279),H=r(82333),M=r(79851),A=r(6509),U=r(93633),X=r(51741),F=r(70327),V=r(35972),Q=r(86255),Y=r(90961),N=r(73845),G=r(33535),q=r(72147),W=r(34771),j=r(94261),K=r(87444),J=r(9545),ee=r(72275),te=r(57077),re=r(85191);const ie=(0,s.zo)("div",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",rowGap:t.sizing.scale600,...r?{":first-child > :is(div)":{margin:`0 ${t.sizing.scale600}`},":first-child > :is(ul)":{marginTop:0,marginLeft:t.sizing.scale600,marginBottom:-t.sizing.scale600,marginRight:t.sizing.scale600}}:{":first-child > :is(div, ul)":{margin:`0 ${t.sizing.scale600}`}}}})),oe=(0,s.zo)("span",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),ne=e=>{let{startShoppingRedirect:t}=e;const r=(0,n.k6)(),s=(0,M.Z)(),c=(0,n.UO)(),p=(0,Q.Z)({encodedStoreUuid:c?.encodedStoreUuid}),[g,Z]=(0,re.Z)({root:null,rootMargin:"0px 0px 0px 0px",threshold:1}),{isGroupOrder:y,isBundledOrder:v}=(0,P.Dz)(),f=Boolean(Z&&!Z.isIntersecting),{sidebarCartVisible:x,sidebarCartIn:b,sidebarCartClosing:S,closeSidebarCart:$}=(0,l.Lb)({transitionMS:500}),{hasGroupOrder:C,isDraftOrderCreator:_,storeUuid:k,isDraftOrderCartLocked:I,creatorName:B,isEditOrder:L}=(0,d.Z)(),{store:ne}=(0,ee.Z)({storeUuid:k}),{serverCart:ae}=(0,P.iQ)(),{hasCartToLoad:se}=(0,J.Z)(),{totalOrders:le,setActiveDraftOrder:de,activeDraftOrderUUID:ce,currentStoreDraftOrderUUID:ue}=(0,u.Z)(),he=(0,Y.Z)(),pe=Boolean(he),{isManagingGroupOrder:ge}=(0,U.Z)(),me=(0,G.ZP)(),Ze=0===le&&!L&&!se&&!ae.isLoading,ye=!x&&!b,ve=(0,K.Z)("canonical_product_smart_cart"),{isCartDrafting:fe}=(0,z.Z)();return(0,W.Z)(!ye),(0,A.Z)(),(0,O.Z)(x),(0,N.Z)({cartOpen:x&&b,store:ne,draftOrder:ae}),(0,i.useEffect)((()=>{S&&ce&&ue&&de(ue||"")}),[S,ue,de,ce,p]),ye?null:(0,m.tZ)(F.Z,{messageKey:"cart-drawer",children:(0,m.tZ)(j.ZP,{zIndex:h.I_.cover,children:(0,m.tZ)(a.Z,{isOpen:x&&b,onClose:$,overrides:{Close:{style:{display:"none"}},DrawerContainer:{style:{width:"478px"}},DrawerBody:{style:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}}},children:ge?(0,m.tZ)(X.Z,{}):(0,m.BX)(ie,{$isCartDrafting:fe,"data-test":"cart",children:[(0,m.tZ)(T,{shouldStick:!y&&!v&&f,store:ne,onClose:()=>{$(),me("eats:close_cart_cta")}}),Ze?(0,m.tZ)(H.Z,{onClick:()=>{$(),t&&r.push(s),me("eats:start_shopping_cta_click")}}):(0,m.tZ)(D.Z,{store:ne,draftOrder:ae,loaded:(e,t)=>(0,m.BX)(m.HY,{children:[(0,m.BX)("div",{children:[I?(0,m.tZ)(R.c,{children:(0,m.tZ)(oe,{children:_?(0,m.tZ)(o.v,{id:"go.unlock_cart_warning_text_2"}):(0,m.tZ)(o.v,{id:"go.creator_order_locked_description",data:{creatorName:B}})})}):null,(0,m.tZ)("div",{ref:g}),(0,m.tZ)(w.ZP,{store:e,onCartClose:$,onClearCart:$,cartActionsType:"dropdown"})]}),ve?(0,m.tZ)(q.C,{defaultSelectedStoreUuid:e.uuid}):null,(0,m.BX)(m.HY,{children:[pe?(0,m.tZ)(V.Q,{$spaceBefore:24}):null,(0,m.tZ)(E.Z,{})]}),(0,m.tZ)(te.Z,{hasGroupOrder:C,store:e,isMobile:!1,quantitySelectType:fe?"stepper":"picker"})]})})]})})})})}},21661:(e,t,r)=>{r.d(t,{Z:()=>g});var i=r(36151),o=r(91931),n=r(76686),a=r(24316),s=r(33535),l=r(53213),d=r(94579),c=r(58984),u=r(24484),h=r(87444);const p=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{background:t.colors.menuFill,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",right:"8px",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"505px",overflow:"auto",zIndex:d.I_.foreground}})),g=e=>{let{isDropdownOpen:t,setIsDropdownOpen:r}=e;const{totalOrders:o,draftOrderUUIDs:d,setActiveDraftOrder:g}=(0,a.Z)(),m=(0,n.Z)(),Z=(0,s.ZP)(),y=i.useRef(null),v=(0,c.I0)(),f=(0,h.Z)("canonical_product_smart_cart");(0,l.Z)(y,(()=>{r(!1)}),t);const x=i.useCallback((()=>{const e=!t;r(e),e&&Z("eats:carts_list_view",{multicart:{numTotalCarts:o,draftOrderUuids:d}})}),[t,r,Z,o,d]),b=i.useCallback(((e,t)=>{g(e),m(e,t),r(!1),f&&v((0,u.kw)())}),[g,m,f,r,v]);return{toggleIsDropdownOpen:x,dropdownRef:y,isDropdownOpen:t,onCartSelect:b,DropdownWrapperDesktop:p}}},25862:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(36151),o=r(73472),n=r(33535);const a=(e,t)=>{const{stopTiming:r}=(0,o.K3)(),a=i.useRef(!1),s=(0,n.ZP)();i.useEffect((()=>{if(!a.current){a.current=!0;const i=r(e);i&&s("eats:timing",{label:t??e,timeElapsed:i})}}),[r,s,e,t])}},1604:(e,t,r)=>{r.d(t,{Z:()=>n});var i=r(60849),o=r(78982);const n=()=>(0,i.ip)({...o.J.eatsfeed_citrus_top_category_icon_web_enabled,defaultValue:!1})},81702:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(36151),o=r(5639),n=r(79857),a=r(1604),s=r(15070),l=r(55758),d=r(62149),c=r(47986),u=r(92060),h=r(33535);const p=()=>{const e=(0,o.hU)(),t=(0,n.Z)(),r=(0,a.Z)(),p=r||e.isMobile||t,g=(0,s.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),m=(0,l.d)(),Z=(0,d.TH)(),{vertical:y,userQuery:v}=(0,c.RAN)(Z,["vertical","userQuery"]),f=r?Boolean(p)&&!v:Boolean(p)&&"PICKUP"!==m&&!v,[x,b]=i.useState(f),[S,$]=i.useState(!0),C=(0,h.ZP)(),z=i.useCallback((e=>{p&&C("eats:search_end",{userQuery:e,mvsMeta:{verticalList:g.map((e=>e.verticalType)).join(","),selectedVertical:y||u.g}})}),[C,p,g,y]),w=i.useCallback((e=>{C("eats:search_home_item_click",e)}),[C]),_=i.useCallback((e=>{C("eats:search_home_item_view",e)}),[C]);return{trackSearchCategoryClick:z,showSearchHome:x,showPastOrdersSuggestions:S,setShowPastOrdersSuggestions:$,searchShortcutsEnabled:p,setShowSearchHome:e=>{p&&b(e)},trackSearchHomeItemClick:w,trackSearchHomeItemView:_}}},41878:(e,t,r)=>{r.d(t,{ZP:()=>_,aJ:()=>w});var i=r(36151),o=r(60849),n=r(15070),a=r(91631),s=r(14016),l=r(20568),d=r(41497),c=r(33535),u=r(47986),h=r(54669),p=r(16046),g=r(87891),m=r(78982),Z=r(16372),y=r(65717),v=r(92060),f=r(87444),x=r(7819),b=r(62149),S=r(1604),$=r(79857),C=r(2139),z=r(35212);const w=(e,t,r,i,o)=>["text","textV2","searchHistory","searchHistoryV2","popularCategory","topCategory","searchFor","searchText","searchTextV2"].includes(e.type)?{type:"link",to:(0,u.Xqq)(t,{vertical:o||v.g,userQuery:e.searchTerm?e.searchTerm:e.title,searchSource:Z.xH.SEARCH_SUGGESTION,searchType:Z.Sc.GLOBAL_SEARCH,...r?{deliveryLocation:r}:{}})}:"store"===e.type&&e.store?(0,x.C)(e.store,i,t):"croStore"===e.type&&e.store?{type:"link",to:(0,u.gfM)(t,{storeSlug:e.store.slug,storeUuid:e.store.uuid})}:{type:"unknown"},_=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:x,searchTypeaheadPlaceholder:_,vertical:k,isMultiVerticalDesktop:I}=e;const B=(0,b.TH)(),L=(0,a.k6)(),T=(0,s.T)(),P=(0,h.Z)(),O=(0,c.ZP)(),D=(0,l.Z)("getSearchSuggestionsV1"),R=(0,f.Z)("clear_search_results_cache_on_location_change"),E=(0,z.Z)(P,!0),H=(0,o.qp)({...m.J.eats_web_eater_home_search_home_style,defaultValue:""}),M=(0,g.t)({dropPastOrders:I||""!==H},I?{}:{queryObserverOptions:{enabled:!1}}),A=(0,y.Z)(),U=(0,o.ip)({...m.J.cs_other_entrypoint_xlb,defaultValue:!1}),X=(0,f.Z)("can_enable_cs_other_entrypoint_xlb"),F=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{setLastClickedPartialStore:V}=i.useContext(p.C),{userQuery:Q}=(0,u.RAN)(B,["userQuery"]),Y=(0,S.Z)(),N=(0,$.Z)(),G=(0,C.Z)(),q=i.useCallback((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";"replace"===t?L.replace(e):L.push(e)}),[L]),W=i.useCallback((async e=>{if(O("eats:search_end",{userQuery:e.title,page:B.pathname,hasDeliveryLocation:Boolean(P),mvsMeta:{verticalList:F.map((e=>e.verticalType)).join(","),selectedVertical:k||v.g},searchType:"searchFor"!==e.type&&"text"!==e.type||!e.title?"suggestion":"manual"}),r&&r(),e.store&&("store"===e.type&&!e.store.actionUrl||"croStore"===e.type)&&V({heroImageUrl:e.store.heroImageUrl,title:e.store.title,storeUuid:e.store.uuid}),"store"===e.type&&e.store){if(e.store.actionUrl)return;q((0,u.gfM)(B,{storeSlug:e.store.slug,storeUuid:e.store.uuid}),N&&!G?"replace":"push")}else"croStore"===e.type&&e.store?O("eats:search_bar_past_order_store_click",{storeUuid:e.store?.uuid}):"searchFor"!==e.type&&"text"!==e.type||!e.title||q((0,u.Xqq)(B,{userQuery:e.title,searchSource:Z.xH.SEARCH_BAR,searchType:Z.Sc.GLOBAL_SEARCH}),N||G?"replace":"push")}),[O,B,P,F,k,r,V,q,N,G]),j=i.useCallback(((e,t)=>{W({title:e,type:"searchFor"})}),[W]),K=i.useCallback((async e=>{if(!e){if(""!==H)return[];let e;if(M.isFetched){if(I)return(M.data?.verticalSearchHomeResults||{})[k||v.g];e=M.data?.searchHistory}else{const t=await M.refetch().then((e=>e.data)),r=t?.verticalSearchHomeResults;if(I)return(r||{})[k||v.g];e=t?.searchHistory}return e||[]}const{date:t,startTime:r,endTime:i}=(0,u.RAN)(B,["date","startTime","endTime"]),o=await D({userQuery:e,date:t,startTime:Number(r),endTime:Number(i),vertical:k});return 0===o.length?O("eats:global_search_suggestions_zero_results",{mvsMeta:{verticalList:F.map((e=>e.verticalType)).join(","),selectedVertical:k||v.g}}):O("eats:global_search_suggestions_viewed",{mvsMeta:{verticalList:F.map((e=>e.verticalType)).join(","),selectedVertical:k||v.g}}),!A||U&&X?o:o.filter((e=>!e.store?.actionUrl))}),[B,D,k,O,F,A,U,X,H,M,I]),J=i.useCallback((async e=>{if(!e)return[];const{date:t,startTime:r,endTime:i}=(0,u.RAN)(B,["date","startTime","endTime"]),o=await D({userQuery:e,date:t,startTime:Number(r),endTime:Number(i),vertical:k});return 0===o.length?O("eats:global_search_suggestions_zero_results",{mvsMeta:{verticalList:F.map((e=>e.verticalType)).join(","),selectedVertical:k||v.g}}):O("eats:global_search_suggestions_viewed",{mvsMeta:{verticalList:F.map((e=>e.verticalType)).join(","),selectedVertical:k||v.g}}),!A||U&&X?o:o.filter((e=>!e.store?.actionUrl))}),[B,D,k,O,F,A,U,X]),ee=i.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?T("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?T("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):T("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:te,results:re,getLabelProps:ie,getInputProps:oe,getMenuProps:ne,getItemProps:ae,reset:se,openMenu:le,isOpen:de,highlightedIndex:ce,clearCacheAndRefetchResults:ue,selectItem:he}=(0,d.Z)({id:"search-suggestions-typeahead",initialQuery:t||Q,fetchResults:Y?J:K,initialIsClosed:x,onResultSelected:W,getQueryFromResult:e=>e?.title||"",onEnterKeyWithNoSelectedResult:j,getA11yStatusMessage:ee,fetchResultsTrigger:k}),pe=_||T("shared.searchPlaceholder");return i.useEffect((()=>{!G&&R&&ue&&ue()}),[P]),i.useEffect((()=>{G&&R&&ue&&E!==P&&ue()}),[G,P,E,R,ue]),{query:te,results:re,isOpen:de,getLabelProps:ie,getInputProps:oe,getMenuProps:ne,getItemProps:ae,openMenu:le,reset:se,highlightedIndex:ce,placeholder:pe,getSuggestionAction:e=>w(e,B,P,A,k||v.g),handleSuggestionSelected:W,selectItem:he}}},57955:(e,t,r)=>{r.d(t,{Z:()=>O});var i=r(36151),o=r(46933),n=r("__fusion__1510"),a=r("__fusion__681"),s=r(91931),l=r(75161),d=r(32857),c=r(68065),u=r(11841),h=r(14016),p=r(44133),g=r("__fusion__915"),m=r("__fusion__704"),Z=r(72238),y=r(21322),v=r("__fusion__1020"),f=r(32583),x=r(54669),b=r(33535),S=r(33990);const $={StartEnhancer:{style:e=>{let{$theme:t}=e;return{paddingRight:t.sizing.scale300,paddingLeft:t.sizing.scale300}}},EndEnhancer:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}},Input:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300}}},Root:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale200,paddingRight:t.sizing.scale200,borderRadius:t.sizing.scale1200}}}},C={Root:{style:()=>({cursor:"pointer"})},LabelContent:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentPrimary,...t.typography.LabelMedium}}},LabelDescription:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.ParagraphSmall}}}},z=(0,s.zo)("div",(e=>{let{$expanded:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"flex-start",minHeight:t?"577px":"216px"}})),w=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,display:"flex",justifyContent:"space-between",alignItems:"center",margin:`${t.sizing.scale800} ${t.sizing.scale550} ${t.sizing.scale300} ${t.sizing.scale800}`}})),_=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",margin:`${t.sizing.scale600} ${t.sizing.scale800}`,flexGrow:1}})),k=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800}})),I=(0,s.zo)("ul",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,marginRight:t.sizing.scale300}})),B=e=>{let{open:t,onClose:r}=e;const[a,B]=(0,i.useState)(""),[,L]=(0,s.hQ)(),T=(0,x.Z)(),{locationSuggestions:P,handleLocationSelected:O,isLoading:D,hasLoaded:R}=(0,p.Z)({query:a}),E=(0,h.T)(),H=(0,b.ZP)(),M=a.length>0,A=P?.length>0;(0,i.useEffect)((()=>{t&&(H("eats:enter_delivery_address_start",{address:T?.address?.address1,latitude:T?.latitude,longitude:T?.longitude}),H("eats:store_ephemeral_address_input_modal_impression"))}),[t,H,T]),(0,i.useEffect)((()=>{D&&H("eats:store_ephemeral_address_input_modal_search")}),[D,H]);const U=()=>{B("")};return(0,S.tZ)(l.u_,{isOpen:t,onClose:r,children:(0,S.BX)(z,{$expanded:A,children:[(0,S.BX)(w,{children:[(0,S.tZ)(o.v,{id:"shared.enterDeliveryAddress"}),(0,S.tZ)(d.Z,{kind:c.TO.tertiary,shape:c.X3.circle,onClick:r,children:(0,S.tZ)(v.default,{size:20})})]}),(0,S.tZ)(k,{children:(0,S.tZ)(u.Z,{startEnhancer:e=>(0,S.tZ)(g.default,{...e,size:16,onClick:e=>e.stopPropagation()}),placeholder:E("location_manager.search_placeholder"),overrides:$,value:a,onChange:e=>B(e.target.value),endEnhancer:e=>D?(0,S.tZ)(f.$,{$size:20}):M?(0,S.tZ)(m.default,{...e,size:20,...e,onClick:U}):null})}),(0,S.BX)(I,{children:[P?.map((e=>(0,S.tZ)(Z.Z,{artwork:e=>(0,S.tZ)(n.default,{...e,size:20,color:L.colors.gray600}),overrides:C,onClick:()=>{H("eats:store_ephemeral_address_input_modal_select_location"),O(e)},children:(0,S.tZ)(y.Z,{description:e.addressLine2,children:e.addressLine1})},e.id))),R&&0===P?.length?(0,S.tZ)(Z.Z,{children:(0,S.tZ)(y.Z,{children:(0,S.tZ)(o.v,{id:"components.store_address_input.no_results"})})},"no-results"):null]}),A?(0,S.tZ)(_,{children:(0,S.tZ)(d.Z,{kind:c.TO.secondary,onClick:r,children:(0,S.tZ)(o.v,{id:"back"})})}):null]})})};var L=r(51170),T=r(94579);const P=(0,s.zo)("div",(e=>{let{$theme:t,$isHighlighted:r}=e;return{...t.typography.LabelSmall,height:t.sizing.scale950,paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,display:"flex",alignItems:"center",alignSelf:"center",gap:t.sizing.scale100,borderRadius:t.sizing.scale950,cursor:"pointer",":hover":{opacity:.8},whiteSpace:"nowrap",transition:T.pB.default,...r?{backgroundColor:t.colors.backgroundInversePrimary,color:t.colors.contentInversePrimary}:{backgroundColor:"transparent",color:t.colors.contentPrimary}}})),O=()=>{const[e,t]=(0,i.useState)(!1),{state:r}=(0,L.D)();return(0,S.BX)(S.HY,{children:[(0,S.BX)(P,{onClick:()=>t(!0),$isHighlighted:r.isAddressInputHighlighted,children:[(0,S.tZ)(n.default,{size:20}),(0,S.tZ)(o.v,{id:"shared.enterDeliveryAddress"}),(0,S.tZ)(a.default,{size:16})]}),(0,S.tZ)(B,{open:e,onClose:()=>t(!1)})]})}},3641:(e,t,r)=>{r.d(t,{Z:()=>G});var i=r(36151),o=r(14016),n=r(91631),a=r(47986),s=r(16372),l=r(58984),d=r(54669),c=r(87891),u=r(33535),h=r(78034),p=r(53213),g=r(19889),m=r(52298),Z=r(54176),y=r(30768),v=r(62149),f=r(64388),x=r(41878),b=r(53685),S=r(92060),$=r(91931),C=r(87873),z=r(14770),w=r(36278),_=r(37555),k=r(79168),I=r("__fusion__704"),B=r(33990);const L=(0,$.zo)("div",(e=>{let{$theme:t,$isFocused:r,$maxWidth:i}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",height:t.sizing.scale1200,borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",...r?{maxWidth:"1494px"}:{maxWidth:`${i??1036}px`},transition:`min-width ${t.animation.timing400} ease, max-width ${t.animation.timing400} ease`}})),T=(0,$.zo)("div",(e=>({display:"flex",flexShrink:0,alignSelf:"center",marginLeft:e.$theme.sizing.scale600,marginRight:e.$theme.sizing.scale500}))),P=(0,$.zo)("input",(e=>({flex:1,backgroundColor:e.$theme.colors.inputFill,...e.$width?{width:`${e.$width}px`}:{},appearance:"none",outline:"none","::placeholder":{..."mini"===e.$size?e.$theme.typography.LabelSmall:e.$theme.typography.LabelMedium,color:e.$theme.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden",caretColor:e.$theme.colors.eatsBusiness}))),O=(0,$.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer",display:"flex",alignItems:"center"}})),D=(0,$.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),R=(0,$.zo)(z.Z,{cursor:"pointer"}),E=e=>{const[t,r]=i.useState(!1),[o,n]=i.useState(!0),a=i.useRef(null),s=(0,u.ZP)(),{value:l,...d}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),r(!0),0===l?.length&&n(!0)},onChange:t=>{o&&(s("eats:search_type_started",{numberRecentSearchSuggestions:e.numberRecentSearchSuggestions}),n(!1))},onBlur:()=>{r(!1)},onInput:t=>{e.onInput&&e.onInput(t)},ref:a});i.useEffect((()=>{e.expandedState&&a.current&&a.current.focus()}),[e.expandedState]);const c=e.expandedState&&e.query.length>0,h=(0,k.Z)(e.size);return(0,B.BX)(L,{$isFocused:e.expandedState||t,$style:h,$maxWidth:e.size?"100%":void 0,children:[(0,B.tZ)(T,{children:(0,B.tZ)(C.Z,{size:16})}),(0,B.tZ)(P,{...d,value:l||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===_.q7&&e.handleEnterClick&&e.query.length>0&&e.handleEnterClick()},$size:e.size}),(0,B.tZ)(w.ZP,{$width:"8px"}),c?(0,B.BX)(B.HY,{children:[(0,B.tZ)(O,{type:"button",onClick:()=>{e.reset(),a.current&&(a.current.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,B.tZ)(I.default,{size:16})}),(0,B.tZ)(w.IQ,{})]}):null,e.onClose&&e.query.length>0?(0,B.tZ)(D,{}):null,e.onClose?(0,B.tZ)(R,{onClick:e.onClose}):null]})};var H=r(46280),M=r(19566),A=r(40606),U=r(66740),X=r(93801),F=r(55758),V=r(43675),Q=r(32762),Y=r(28700),N=r(81702);const G=e=>{let{storeUuid:t,isSearchFeed:r,wrapperRef:C,expandedState:z,setExpandedState:w,size:_}=e;const[k]=(0,$.hQ)(),I=(0,l.I0)(),L=(0,n.k6)(),T=(0,o.T)(),P=(0,v.TH)(),O=(0,d.Z)(),{showSearchHome:D,setShowSearchHome:R}=(0,N.Z)(),G=(0,c.t)({dropPastOrders:!0}),q=(0,F.d)(),W=Boolean("DELIVERY"===q),j=G.data?.verticalSuggestionLists,{store:K}=(0,f.ZP)(t),J=K?.data?.title||"",{desktopFeatures:ee}=(0,Q.Z)();(0,i.useEffect)((()=>{j&&I((0,h.Vw)(j))}),[I,j]);const te=(0,u.ZP)();(0,i.useEffect)((()=>{te("eats:search_bar_impression")}),[te]);const{userQuery:re,vertical:ie,storeSearchQuery:oe,entryPoint:ne}=(0,a.RAN)(P,["userQuery","vertical","storeSearchQuery","entryPoint"]),[ae,se]=(0,i.useState)(ie||S.g);(0,i.useEffect)((()=>{se(ie||S.g)}),[ie]);const le=(0,y.Z)(),de=Boolean(t)?s.OT.STORE_SEARCH:r?s.OT.GLOBAL_SEARCH:""!==le?s.OT.VERTICAL_FEED:s.OT.HOME_FEED,{feed:ce}=(0,Z.Z)(),ue=()=>{te("eats:search_bar_closed"),w(!1)},{query:he,results:pe,getInputProps:ge,reset:me,placeholder:Ze,getLabelProps:ye,getItemProps:ve,getMenuProps:fe,getSuggestionAction:xe}=(0,x.ZP)({..."shoppingList"===ne?{initialQuery:re}:{initialQuery:re||oe},initialIsClosed:!0,searchTypeaheadPlaceholder:T("shared.searchBarHintText"),vertical:ae||S.g,onSuggestionSelected:ue,isMultiVerticalDesktop:!0}),be=pe.data||[],Se=()=>{se(ie||S.g),r||(R(!0),me()),ue()};(0,p.Z)(C,(()=>{Se()}),z),(0,g.Z)((()=>{ue(),document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}));const $e=Boolean(J)&&!ee.hasNewInStoreSearch?T("shared.searchInQuery",{query:J}):Ze,Ce=e=>{ue(),te("eats:search_end",{userQuery:e?.title,page:P.pathname,hasDeliveryLocation:Boolean(O),mvsMeta:{verticalList:(j||[]).map((e=>e.verticalType)).join(","),selectedVertical:ae||S.g},searchType:"suggestion"})};return(0,B.BX)(B.HY,{children:[(0,B.tZ)(H.ag,{$showOverlay:z,onClick:Se}),(0,B.BX)(H.vr,{$expanded:z,children:[(0,B.BX)(H.kN,{role:"search","aria-label":T("shared.searchBarHintText"),$expanded:z,"data-testid":"multi-vertical-desktop-global-search-bar-wrapper",children:[(0,B.tZ)(H.E7,{...ye(),children:$e}),(0,B.tZ)(E,{query:he,getInputProps:ge,reset:()=>{me(),R(!0)},placeholder:Ze,setExpandedState:()=>{te("eats:search_multi_vertical_bar_click"),te("eats:search_bar_clicked"),w(!0)},expandedState:z,verticalLists:j,handleEnterClick:()=>(te("eats:search_end",{userQuery:he,page:P.pathname,hasDeliveryLocation:Boolean(O),searchType:"manual"}),L.push((0,a.Xqq)(P,{vertical:ae||S.g,userQuery:he,searchSource:s.xH.SEARCH_BAR,searchType:s.Sc.GLOBAL_SEARCH})),void ue()),isSearchFeed:r,isCategoryPage:"CATEGORY_PAGE"===ce.data?.searchDisplayConfig,onFocus:()=>{""===he&&"HOME_FEED"===de&&te("eats:search_start",{page:P.pathname,hasDeliveryLocation:Boolean(O),mvsMeta:{verticalList:j?.map((e=>e.verticalType)).join(",")||"",selectedVertical:ae||S.g},searchSource:de,numberRecentSearchSuggestions:(0,b.C)(be)})},onInput:e=>{e.target.value?R(!1):R(!0)},size:_,numberRecentSearchSuggestions:(0,b.C)(be)})]}),(0,B.tZ)(H.bf,{$showPopover:z,children:(0,B.BX)(H.YD,{$showPopover:z,$needsPadding:!1,children:[W?(0,B.tZ)(M.Z,{onSelect:e=>{se(e)},selectedVertical:ae||S.g,expandedState:z,surface:"ZERO_STATE"}):null,(0,B.BX)(H.Cz,{$needsLeftMargin:!0,children:[D?null:be.length>0?(0,B.tZ)(Y.Z,{suggestions:be,getMenuProps:fe,getItemProps:ve,onItemClick:Ce,getSuggestionAction:xe}):(0,B.tZ)(H.p5,{}),D?(0,B.tZ)(A.Z,{source:{isLoading:G.isLoading,hasLoaded:G.isFetched,data:G.data,error:G.error},error:()=>(0,B.tZ)(X.nQ,{code:500}),loaded:e=>(0,B.tZ)(V.Z,{selectedVertical:ae||S.g,searchHomeResults:(e.verticalSearchHomeResults||{})[ae||S.g]??[],verticalList:e.verticalSuggestionLists||[],onItemClick:Ce}),loading:()=>(0,B.tZ)(U.Z,{itemNumbers:[5,3]})}):null,(0,B.tZ)(m.ZP,{$height:69})]})]})})]})]})}},46294:(e,t,r)=>{r.d(t,{Z:()=>pe});var i=r(36151),o=r(14016),n=r(91631),a=r(86695),s=r(91931),l=r(69404),d=r(47986),c=r(16372),u=r(58984),h=r(87891),p=r(33535),g=r(78034),m=r(53213),Z=r(19889),y=r(36278),v=r(97450),f=r(93866),x=r(55811),b=r(30768),S=r(62149),$=r(43193),C=r(38604),z=r(14869),w=r(42751),_=r(45631),k=r(24236),I=r(33990);const B=()=>null,L=(0,s.zo)("div",{display:"flex"}),T=(0,s.zo)("div",{display:"flex",width:"100%"}),P=(0,s.zo)("div",{display:"flex",width:"inherit",flexDirection:"column"}),O=(0,s.zo)("div",(e=>{let{$numOfColumns:t}=e;return{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,width:"inherit"}})),D=(0,s.zo)("div",{display:"flex",width:"100%"}),R=e=>{let{item:t,index:r,compositionMap:o,virtualListScrollEl:n,isGrocery:a,fallbackErrorComponent:s,emitEvent:l,handleSuggestionSelected:d}=e;const c=s||B,{elementRef:u,isElementHidden:h}=(0,k.Z)({initialHidden:!0,waitTime:0,shouldListen:!0}),p=t.type;if(i.useEffect((()=>{!h&&l&&"content"===p&&t?.content?.template.serverDrivenUI&&l(t?.content?.template.serverDrivenUI)}),[l,h,t?.content?.template.serverDrivenUI,p]),"container"===p){const e=t.container;return(0,I.tZ)(E,{bloxContainer:e,compositionMapGlobal:o,virtualListScrollEl:n,isGrocery:a,emitEvent:l})}if("content"===p){const e=t?.content?.template.serverDrivenUI;if(!e)return(0,I.BX)(I.HY,{children:[(0,I.tZ)(c,{}),";",(0,I.tZ)(z.Z,{children:(0,I.tZ)(i.Fragment,{children:(0,I.tZ)(L,{children:"Container serverDrivenUIItem did not load"})},r)})]});const n=e?.compositionKey,a=n&&o?o[n]:{};if(!a?.root?.escapedJsonData||a?.root?.jsonData){const e=JSON.stringify(a?.root);return(0,I.BX)(z.Z,{children:[(0,I.tZ)(L,{children:"Web client needs escapedJsonData not jsonData"}),e]})}return(0,I.tZ)(D,{ref:u,onClick:()=>{d(e,r)},"data-testid":"blox-parser-suggestion-item",children:(0,I.tZ)(C.Z,{index:r,encodedViewModel:a?.root,data:e?.elements||null,clientViews:e?.clientViews,analytics:e?.analytics})},r)}return(0,I.BX)(I.HY,{children:[(0,I.tZ)(c,{}),";",(0,I.BX)(i.Fragment,{children:[(0,I.tZ)(z.Z,{children:"Container Item did not load"}),";"]},r)]})},E=e=>{let{bloxContainer:t,compositionMapGlobal:r,virtualListScrollEl:o,isGrocery:n,fallbackErrorComponent:a,emitEvent:s,handleSuggestionSelected:l}=e;const d=a||B,c=t.items,u=t.compositionMap||r,h=t.type,p="vertical"===h?.type?Number(h.vertical.columnCount):1,g=i.useMemo((()=>(0,_.Z)(c,p)),[p,c]),m=i.useMemo((()=>c.length<=1&&"content"===c[0]?.type||c.length>1?g:g[0]),[c,g]);return t&&t.type?(0,I.tZ)(T,{children:(0,I.tZ)(P,{children:n&&p>=2?(0,I.tZ)(w.ZP,{calculateHeight:()=>224,scrollEl:o,children:m&&m.map(((e,t)=>(0,I.tZ)(O,{$numOfColumns:p,children:e.map(((e,t)=>(0,I.tZ)(R,{item:e,index:t,compositionMap:u,virtualListScrollEl:o,isGrocery:n,fallbackErrorComponent:a,emitEvent:s,handleSuggestionSelected:l},`${t}-ivl`)))},`${t}-gc`)))}):(0,I.tZ)(I.HY,{children:c.map(((e,t)=>(0,I.tZ)(R,{item:e,index:t,compositionMap:u,virtualListScrollEl:o,isGrocery:n,fallbackErrorComponent:a,emitEvent:s,handleSuggestionSelected:l},`${t}-non-ivl`)))})})}):(0,I.BX)(I.HY,{children:[(0,I.tZ)(d,{}),";",(0,I.tZ)(z.Z,{children:(0,I.tZ)(L,{children:"Error in Container Component"})})]})},H=i.memo(E);var M=r(99990),A=r(49160),U=r(80803);const X=(0,s.zo)("div",{margin:0,padding:0,width:"100%",height:"100%"}),F=e=>{let{searchSuggestBloxResponse:t,handleSuggestionSelected:r}=e;const i=(0,p.ZP)(),o=$.useRef(!1),{store:n}=(0,M.QT)(),a=(0,A.Z)(n.data),s=n.data?(0,U.tl)(n.data,a):void 0;return $.useEffect((()=>{if(t?.bloxContainer?.items&&!o.current){o.current=!0;t.bloxContainer.items.forEach(((e,t)=>{if("content"===e.type&&"serverDrivenUI"===e.content.template?.type){const r=e.content.template.serverDrivenUI.analytics?.data?.maps?.stringMap;i("eats:store_search_suggestion_impression",{displaySurface:r?.displaySurface&&String(r?.displaySurface),searchSuggestion:r?.searchSuggestion&&String(r?.searchSuggestion),searchTerm:r?.searchTerm&&String(r?.searchTerm),storeUuid:r?.storeUuid&&String(r?.storeUuid),suggestionType:r?.suggestionType&&String(r?.suggestionType),itemPosition:t,storeLayout:s})}}))}}),[i,t?.bloxContainer?.items,s]),t&&t?.bloxContainer?null===t?.bloxContainer.items?null:(0,I.tZ)(X,{"data-testid":"desktop-in-store-suggestions",children:(0,I.tZ)(H,{bloxContainer:t.bloxContainer,compositionMapGlobal:t.bloxContainer?.compositionMap,handleSuggestionSelected:r})}):null};var V=r(64388),Q=r(15070),Y=r(41497),N=r(54669),G=r(20568),q=r(87444);const W=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:n,searchTypeaheadPlaceholder:a,vertical:s,store:l}=e;const c=(0,S.TH)(),u=(0,o.T)(),h=(0,N.Z)(),p=(0,G.Z)("searchSuggestV2"),g=(0,q.Z)("clear_search_results_cache_on_location_change"),{xlbHeaderBridge:m}=(0,Q.v)((e=>{let{embeddedFeatures:t}=e;return t})),{userQuery:Z}=(0,d.RAN)(c,["userQuery"]),y=i.useCallback((async e=>{r&&r()}),[r]),v=i.useCallback((async e=>{if(!e)return[];return[await p({userQuery:e,storeUuid:l?.data?.uuid||"",storeLocation:l?.data?.location,locationType:l?.data?.location?.locationType,parentChainUuid:l?.data?.parentChain?.uuid||"",webClientType:"DESKTOP"})]}),[p,l?.data?.uuid,l?.data?.location,l?.data?.parentChain?.uuid]),f=i.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?u("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?u("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):u("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:x,results:b,getLabelProps:$,getInputProps:C,getMenuProps:z,getItemProps:w,reset:_,openMenu:k,isOpen:I,highlightedIndex:B,clearCacheAndRefetchResults:L,selectItem:T}=(0,Y.Z)({id:"search-suggestions-typeahead",initialQuery:t||Z,fetchResults:v,initialIsClosed:n,onResultSelected:y,getQueryFromResult:e=>"",getA11yStatusMessage:f,fetchResultsTrigger:s,updateInputOnSelectedItemChange:!0}),P=a||u("shared.searchPlaceholder");return i.useEffect((()=>{g&&L&&L()}),[h]),{query:x,results:b,isOpen:I,getLabelProps:$,getInputProps:C,getMenuProps:z,getItemProps:w,openMenu:k,reset:_,highlightedIndex:B,placeholder:m?"":P,getSuggestionAction:e=>({type:"unknown"}),handleSuggestionSelected:y,selectItem:T}};var j=r(92060),K=r(46933),J=r(87873),ee=r(14770),te=r(37555),re=r(79168);const ie=(0,s.zo)("div",(e=>{let{$theme:t,$isFocused:r,$height:i,$maxWidth:o}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:i,borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"1494px",minWidth:"600px"}:{maxWidth:"1036px",minWidth:"180px"},...o?{maxWidth:o}:void 0,transition:"min-width 400ms ease, max-width 400ms ease"}})),oe=(0,s.zo)("div",{display:"flex",flexShrink:0,alignSelf:"center"}),ne=(0,s.zo)("input",(e=>{let{$theme:t,$width:r}=e;return{flex:1,backgroundColor:t.colors.inputFill,...r?{width:`${r}px`}:{},appearance:"none",outline:"none","::placeholder":{...t.typography.LabelMedium,color:t.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}})),ae=(0,s.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),se=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),le=(0,s.zo)(ee.Z,{cursor:"pointer"}),de=e=>{const[t,r]=i.useState(!1),o=i.useRef(null),{value:n,...a}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),r(!0)},onBlur:()=>r(!1),ref:o});i.useEffect((()=>{e.expandedState&&o.current&&o?.current?.focus()}),[e.expandedState]);const s=e.expandedState&&e.query.length>0,{height:l}=(0,re.Z)(e.size);return(0,I.tZ)(I.HY,{children:(0,I.BX)(ie,{$isFocused:e.expandedState||t,$height:l,$maxWidth:"mini"===e.size?"100%":void 0,children:[(0,I.tZ)(y.IQ,{}),(0,I.tZ)(oe,{children:(0,I.tZ)(J.Z,{size:14})}),(0,I.tZ)(y.ZP,{$width:"16px"}),(0,I.tZ)(ne,{...a,value:n||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===te.q7&&e.handleEnterClick&&e.query.length>0&&(e.handleEnterClick(),r(!1))}}),(0,I.tZ)(y.ZP,{$width:"8px"}),s?(0,I.BX)(I.HY,{children:[(0,I.tZ)(ae,{type:"button",onClick:()=>{e.reset(),o.current&&(o?.current?.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,I.tZ)(K.v,{id:"shared.clear"})}),(0,I.tZ)(y.IQ,{})]}):null,e.onClose&&e.query.length>0?(0,I.tZ)(se,{}):null,e.onClose?(0,I.tZ)(le,{onClick:e.onClose}):null]})})};var ce=r(46280),ue=r(32762),he=r(40964);const pe=e=>{let{storeUuid:t,isSearchFeed:r,wrapperRef:$,expandedState:C,setExpandedState:z,size:w}=e;const[_,k]=(0,s.hQ)(),B=(0,u.I0)(),L=(0,n.k6)(),T=(0,o.T)(),P=(0,S.TH)(),O=(0,h.t)({dropPastOrders:!0}).data?.verticalSuggestionLists,D=(0,n.UO)(),{store:R}=(0,V.ZP)(t),E=R.data&&(0,he.A)(R.data),H=R?.data?.title||"",M=(0,U.dI)(),{desktopFeatures:A}=(0,ue.Z)();(0,i.useEffect)((()=>{O&&B((0,g.Vw)(O))}),[B,O]);const X=(0,p.ZP)();(0,i.useEffect)((()=>{X("eats:search_bar_impression")}),[X]);const{userQuery:Q,vertical:Y,storeSearchQuery:N,entryPoint:G}=(0,d.RAN)(P,["userQuery","vertical","storeSearchQuery","entryPoint"]),[q,K]=(0,i.useState)(Y||j.g);(0,i.useEffect)((()=>{Y&&K(Y)}),[Y]);const J=(0,b.Z)(),ee=Boolean(t)?c.OT.STORE_SEARCH:r?c.OT.GLOBAL_SEARCH:""!==J?c.OT.VERTICAL_FEED:c.OT.HOME_FEED,te=()=>{X("eats:search_bar_closed"),z(!1)},{query:re,results:ie,getInputProps:oe,reset:ne,placeholder:ae,getLabelProps:se,selectItem:le}=W({..."shoppingList"===G?{initialQuery:Q}:{initialQuery:Q||N},initialIsClosed:!0,searchTypeaheadPlaceholder:T("shared.searchBarHintText"),vertical:q,onSuggestionSelected:te,isMultiVerticalDesktop:!0,store:R}),pe=ie.data||[],ge=()=>{K(Y),te()},me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,d.WxO)(D),r=(0,d.CiO)(P,["entryPoint","sortAndFilters"]),i=(0,d.AC5)({location:r,args:t,storeSearchQuery:e||re,isOfd:!E&&A.hasNewInStoreSearch});L.push(i),te(),X("eats:store_search_fetch_results_enter_press",{storeUuid:R?.data?.uuid||"",storeSearchQuery:e||re})};(0,m.Z)($,(()=>{ge()}),C),(0,Z.Z)((()=>{te(),document.activeElement instanceof HTMLInputElement&&document.activeElement.blur()}));const Ze="postmates"===(0,x.Z)(),ye=Boolean(H)&&!A.hasNewInStoreSearch?T("shared.searchInQuery",{query:H}):ae;return(0,I.BX)(I.HY,{children:[(0,I.tZ)(ce.cI,{children:(0,I.tZ)(ce.im,{role:"search","aria-label":T("shared.searchBarHintText"),children:(0,I.BX)(l.Z,{"data-testid":"multi-vertical-desktop-in-store-search-bar-wrapper",children:[(0,I.tZ)(ce.E7,{...se(),children:ye}),(0,I.tZ)(de,{query:re,getInputProps:oe,reset:()=>{ne(),X("eats:store_search_clear",{storeUuid:R?.data?.uuid||""})},placeholder:ye,setExpandedState:()=>{X("eats:search_multi_vertical_bar_click"),X("eats:search_bar_clicked"),z(!0)},expandedState:C,handleEnterClick:()=>me(),onFocus:()=>{X("eats:store_search_grocery_entrypoint_click",{storeUuid:R?.data?.uuid||""}),re&&""!==re||M({searchSource:ee,searchDataInfoLayer:"L1",searchDataInfoTab:"SHOP"})},size:w})]})})}),C?(0,I.tZ)(I.HY,{children:(0,I.BX)(ce.F$,{$style:{marginLeft:"mini"===w?k.sizing.scale700:k.sizing.scale950},children:[(0,I.tZ)(a.zx,{kind:"tertiary",shape:"circle",title:T("close"),onClick:ge,children:(0,I.tZ)(v.Z,{size:18})}),(0,I.tZ)(f.Z,{})]})}):null,(e=>!!(e&&e.length&&e.length>0)&&Boolean(e[0]?.bloxContainer?.items))(pe)?(0,I.BX)(ce.eh,{$showPopover:C,children:[(0,I.tZ)(y.KG,{$width:Ze?ce.aG:ce.Bq}),(0,I.tZ)(ce.YD,{$showPopover:C,children:(0,I.tZ)(ce.Cz,{children:(0,I.tZ)(F,{searchSuggestBloxResponse:pe[0],handleSuggestionSelected:(e,t)=>{if(e){const r=e?.analytics?.data?.maps?.stringMap,i=r?.searchSuggestion;r&&i&&(X("eats:store_search_suggestion_click",{displaySurface:r?.displaySurface&&String(r?.displaySurface),searchSuggestion:r?.searchSuggestion&&String(r?.searchSuggestion),searchTerm:r?.searchTerm&&String(r?.searchTerm),storeUuid:r?.storeUuid&&String(r?.storeUuid),suggestionType:r?.suggestionType&&String(r?.suggestionType),itemPosition:t}),le(i),me(i))}}})})}),(0,I.tZ)(y.KG,{$width:ce.Od})]}):null]})}},46280:(e,t,r)=>{r.d(t,{E7:()=>ae,YD:()=>ce,sA:()=>re,ag:()=>W,p5:()=>K,qX:()=>te,aV:()=>q,aG:()=>N,Od:()=>G,Bq:()=>Y,FE:()=>j,bf:()=>le,vr:()=>oe,F$:()=>ie,eh:()=>de,cI:()=>ne,kN:()=>se,Cz:()=>J,im:()=>ee,ZP:()=>ue});var i=r(91931),o=r(15208),n=r(94579),a=r(1795),s=r(64388),l=r(94072),d=r(70940),c=r(36151),u=r(43193),h=r(92839),p=r(54403),g=r(9071),m=r(52419),Z=r(96965),y=r(93866),v=r(83563),f=r(60582),x=r(639),b=r(58984),S=r(36278),$=r(54176),C=r(87891),z=r(54669),w=r(34626),_=r(4525),k=r(28222),I=r(80165),B=r(78034),L=r(49757),T=r(69630),P=r(46857),O=r(929),D=r(33535),R=r(19889),E=r(57955),H=r(32762),M=r(46294),A=r(33990);const U=e=>{let{shouldNotRedirectToHomeFeed:t,showDiningMode:r,showCart:i,isSearchFeed:o,showSigninSignup:n,customizedDiningModeToggle:a,logSignInSignUpClick:s,campaign:l,storeUuid:d,isSchedulable:U}=e;const{user:X}=(0,w.Z)(),F=(0,b.I0)(),V=(0,k.Z)(),Q=(0,z.Z)(),Y=(0,C.t)({dropPastOrders:!0}).data?.verticalSuggestionLists,N=(0,D.ZP)();(0,c.useEffect)((()=>{Y&&F((0,B.Vw)(Y))}),[F,Y]),(0,c.useEffect)((()=>{N("eats:search_bar_impression")}),[N]);const G=(0,I.WI)("header-location-typeahead"),{closeAndUpdate:W}=(0,_.Z)(),K=(0,T.Z)(),[J,oe]=(0,c.useState)(!1),ne=Boolean(d),{feed:ae}=(0,$.Z)(),{isStoreOfdRedesignPhase2XpEnabled:se}=(0,H.Z)();let le;le=K?(0,A.tZ)(L.Z,{startShoppingRedirect:!o&&!ne}):(0,A.tZ)(p.Z,{});const de=u.useRef(null);(0,R.Z)((()=>{oe(!1)}));const{headerHeight:ce}=(0,O.Z)(),ue=Q?.address.address1||"";let he;return he=se?(0,A.BX)(A.HY,{children:[(0,A.tZ)(E.Z,{}),(0,A.tZ)(re,{})]}):(0,A.BX)(A.HY,{children:[(0,A.tZ)(S.ZP,{$width:"64px"}),(0,A.tZ)(te,{children:(0,A.tZ)(x.Z,{registerRef:G,onLocationSelected:e=>{W(e,void 0,t)},initialQuery:ue,id:"header"})}),(0,A.tZ)(re,{})]}),(0,A.tZ)(q,{$showOverlay:J,children:(0,A.tZ)(ee,{ref:de,children:(0,A.BX)(j,{$headerHeight:ce,children:[V?null:(0,A.BX)(A.HY,{children:[(0,A.tZ)(m.Z,{}),(0,A.tZ)(S.ZP,{$width:"32px"}),(0,A.tZ)(v.Z,{}),(0,A.tZ)(S.ZP,{$width:se&&!Q?"8px":"40px"})]}),Q?(0,A.BX)(A.HY,{children:[J?null:(0,A.BX)(A.HY,{children:[r?(0,A.BX)(A.HY,{children:[a||(0,A.tZ)(g.Z,{isDisabled:ae.isLoading}),(0,A.tZ)(S.ZP,{$width:"16px"})]}):null,(0,A.tZ)(Z.Z,{size:"large",storeUuid:d,isSchedulable:U}),(0,A.tZ)(S.ZP,{$width:"48px"})]}),V?null:(0,A.tZ)(M.Z,{wrapperRef:de,expandedState:J,setExpandedState:oe,isSearchFeed:o,storeUuid:d})]}):he,(0,A.tZ)(ie,{children:J?null:(0,A.BX)(A.HY,{children:[Q||i?(0,A.tZ)(h.Z,{}):null,(0,A.tZ)(A.HY,{children:le}),(0,A.tZ)(y.Z,{}),X.data?.isLoggedIn?null:(0,A.BX)(A.HY,{children:[(0,A.tZ)(S.ZP,{$width:"24px"}),n?(0,A.tZ)(f.m,{campaign:l}):(0,A.tZ)(P.Z,{campaign:l,beforeClick:()=>{s&&s("signin","header")}})]})]})})]})})})};var X=r(3641);const F=(0,i.zo)("div",{flex:"1 0 0"}),V=e=>{let{shouldNotRedirectToHomeFeed:t,showDiningMode:r,showCart:i,isSearchFeed:o,showSigninSignup:n,customizedDiningModeToggle:a,logSignInSignUpClick:s,campaign:l,storeUuid:d,isSchedulable:b}=e;const{user:C}=(0,w.Z)(),B=(0,k.Z)(),D=(0,z.Z)(),R=(0,I.WI)("header-location-typeahead"),{closeAndUpdate:M}=(0,_.Z)(),U=(0,T.Z)(),[V,Q]=(0,c.useState)(!1),Y=Boolean(d),{feed:N}=(0,$.Z)(),{isStoreOfdRedesignPhase2XpEnabled:G}=(0,H.Z)();let W;W=U?(0,A.tZ)(L.Z,{startShoppingRedirect:!o&&!Y}):(0,A.tZ)(p.Z,{});const K=u.useRef(null),{headerHeight:J}=(0,O.Z)(),oe=D?.address?.address1||"";let ne;return ne=G?(0,A.BX)(A.HY,{children:[(0,A.tZ)(E.Z,{}),(0,A.tZ)(re,{})]}):(0,A.BX)(A.HY,{children:[(0,A.tZ)(S.ZP,{$width:"64px"}),(0,A.tZ)(te,{children:(0,A.tZ)(x.Z,{registerRef:R,onLocationSelected:e=>{M(e,void 0,t)},initialQuery:oe,id:"header"})}),(0,A.tZ)(re,{})]}),(0,A.tZ)(q,{$showOverlay:V,children:(0,A.tZ)(ee,{ref:K,children:(0,A.BX)(j,{$headerHeight:J,children:[B?null:(0,A.BX)(A.HY,{children:[(0,A.tZ)(m.Z,{}),(0,A.tZ)(S.ZP,{$width:"32px"}),(0,A.tZ)(v.Z,{}),(0,A.tZ)(S.ZP,{$width:G&&!D?"8px":"24px"})]}),D?(0,A.BX)(A.HY,{children:[V?null:(0,A.BX)(A.HY,{children:[r?(0,A.BX)(A.HY,{children:[a||(0,A.tZ)(g.Z,{isDisabled:N.isLoading}),(0,A.tZ)(S.ZP,{$width:"16px"})]}):null,(0,A.tZ)(Z.Z,{size:"large",storeUuid:d,isSchedulable:b}),B?(0,A.tZ)(F,{}):(0,A.tZ)(S.ZP,{$width:"16px"})]}),B?null:(0,A.tZ)(X.Z,{wrapperRef:K,expandedState:V,setExpandedState:Q,isSearchFeed:o,storeUuid:d})]}):ne,V?null:(0,A.BX)(ie,{children:[D||i?(0,A.tZ)(h.Z,{}):null,(0,A.tZ)(A.HY,{children:W}),(0,A.tZ)(y.Z,{}),C.data?.isLoggedIn?null:(0,A.BX)(A.HY,{children:[(0,A.tZ)(S.ZP,{$width:"24px"}),n?(0,A.tZ)(f.m,{campaign:l}):(0,A.tZ)(P.Z,{campaign:l,beforeClick:()=>{s&&s("signin","header")}})]})]})]})})})};var Q=r(29230);const Y="282px",N="260px",G="148px",q=(0,i.zo)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:n.I_.modal,overflow:"auto",transition:"all 0.5s ease"}:{}}})),W=(0,i.zo)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,backgroundColor:"rgba(0, 0, 0, 0.08)",position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:n.I_.modal,overflow:"auto",transition:`all 0.5s ${t.animation.easeOutQuinticCurve}`}:{transition:`all 0.5s ${t.animation.easeOutQuinticCurve}`}}})),j=(0,i.w1)(o.Z,(e=>{let{$theme:t,$headerHeight:r}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:`${r}px`}})),K=(0,i.w1)(a.Z,{margin:"40px auto"}),J=(0,i.zo)("div",(e=>{let{$needsLeftMargin:t}=e;return{minHeight:"472px",marginLeft:t?"16px":"-16px",maxHeight:"calc(100vh - 280px)",overflowY:"auto"}})),ee=((0,i.zo)("div",{position:"relative"}),(0,i.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,i.zo)("div",(e=>{let{$theme:t,$isTransparent:r,$hasBorderBottom:i}=e;return{width:"100%",background:r?"transparent":t.colors.backgroundPrimary,borderBottom:"1px solid",borderBottomColor:i?t.colors.borderOpaque:"transparent",margin:"0 auto",transition:n.pB.default}}))),te=(0,i.zo)("div",{width:"100%",maxWidth:"722px"}),re=(0,i.zo)("div",{flex:1}),ie=(0,i.zo)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),oe=(0,i.zo)("div",(e=>{let{$theme:t,$expanded:r}=e;const i={display:"flex",minWidth:r?"600px":`${Q.Kv.searchMinWidth}px`,transition:`all ${t.animation.timing300} ${t.animation.easeOutQuinticCurve}`,flex:"1"};return r?{...i,alignSelf:"flex-start",flexDirection:"column"}:i})),ne=(0,i.zo)("div",{flex:"1 0",display:"flex",width:"100%",minWidth:`${Q.Kv.searchMinWidth}px`}),ae=((0,i.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,i.zo)("label",n.E2)),se=(0,i.zo)("div",(e=>{let{$theme:t,$expanded:r}=e;const i={flex:"1",paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500,backgroundColor:t.colors.backgroundPrimary,borderTopRightRadius:t.borders.radius500,borderTopLeftRadius:t.borders.radius500};return r?{...i,paddingTop:t.sizing.scale500,zIndex:n.I_.modal,marginTop:t.sizing.scale0}:i})),le=(0,i.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",zIndex:n.I_.modal,background:t.colors.backgroundPrimary,maxWidth:"1920px",borderBottomRightRadius:t.borders.radius500,borderBottomLeftRadius:t.borders.radius500,borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",overflow:"hidden",...r?{opacity:"1",width:"100%",maxHeight:"calc(100vh - 180px)"}:{maxHeight:"0",visibility:"hidden",opacity:"0",width:"0px"},transition:`opacity 0.5s ${t.animation.easeOutQuinticCurve}, visibility 0.5s ${t.animation.easeOutQuinticCurve}`}})),de=(0,i.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",flexDirection:"row",zIndex:n.I_.modal,position:"absolute",background:t.colors.backgroundPrimary,width:"100%",maxWidth:"1920px",top:"100%",right:"0",left:"0",margin:"0 auto",boxShadow:"0 6px 4px -4px rgba(0, 0, 0, 0.1)",borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",overflow:"hidden",...r?{opacity:"1"}:{height:"0",visibility:"hidden",opacity:"0"},transition:"all 0.5s ease"}})),ce=(0,i.zo)("div",(e=>{let{$theme:t,$showPopover:r,$needsPadding:i}=e;return{display:"flex",width:"100%",flexDirection:"column",paddingLeft:i?t.sizing.scale1000:"0",paddingRight:i?t.sizing.scale1000:"0",...r?{visibility:"visible"}:{visibility:"hidden"}}})),ue=e=>{const{store:t}=(0,s.ZP)(e.storeUuid),r=t?.data?.title||"",i=(0,d.Z)(t?.data?.uuid||""),{isInStoreSearchSuggestionsXpEnabled:o}=(0,l.Z)(),n=Boolean(r);return(0,A.tZ)(A.HY,{children:n&&i&&o?(0,A.tZ)(U,{...e}):(0,A.tZ)(V,{...e})})}},19566:(e,t,r)=>{r.d(t,{Z:()=>v});var i=r(36151),o=r(62149),n=r(15070),a=r(71454),s=r.n(a),l=r(91931),d=r(47986),c=r(92060),u=r(87891),h=r(33535),p=r(94579),g=r(33990);const m=(0,l.zo)("ul",(e=>{let{$theme:t,$width:r}=e;return{display:"flex",textAlign:"center",marginBottom:"8px",width:r?`${r}px`:"100%",height:`${p.mc}px`,background:t.colors.backgroundPrimary}})),Z=(0,l.zo)("li",(e=>{let{$theme:t,$isSelected:r}=e;return{...t.typography.LabelSmall,borderBottom:`5px solid ${r?t.colors.black:t.colors.borderOpaque}`,alignSelf:"center",padding:t.sizing.scale600,color:r?t.colors.contentPrimary:t.colors.contentTertiary,cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),y=(0,l.zo)("li",(e=>{let{$theme:t}=e;return{borderBottom:`5px solid ${t.colors.borderOpaque}`,flexGrow:1,padding:"24px",alignSelf:"center"}})),v=e=>{const t=(0,o.TH)(),r=(0,h.ZP)(),a=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{userQuery:l}=(0,d.RAN)(t,["userQuery"]),[p,v]=(0,i.useState)(!1),f=(0,u.t)({dropPastOrders:!0}),x=(0,i.useCallback)((e=>f?.data?.verticalSearchHomeResults[e]?.length||0),[f]),b=(0,i.useMemo)((()=>({verticalList:a.map((e=>e.verticalType)).join(","),type:"TAB",surface:e.surface,searchTermText:l,previousSelectedVertical:e.selectedVertical||c.g,selectedVertical:e.selectedVertical||c.g})),[a,e.selectedVertical,e.surface,l]),S=(0,i.useCallback)((i=>()=>{e.onSelect&&e.onSelect(i),r("eats:search_vertical_tab_tapped",{mvsMeta:{...b,selectedVertical:i,page:t.pathname}}),e.expandedState&&r("eats:global_search_zero_state_viewed",{numberOfSuggestions:x(i),mvsMeta:{verticalList:b.verticalList,selectedVertical:i}})}),[e,r,b,x,t.pathname]),$=s()((()=>{r("eats:search_vertical_tab_scrolled",{mvsMeta:b})}),1e3);return(0,i.useEffect)((()=>{f.data&&!p&&e.expandedState&&(v(!0),r("eats:global_search_zero_state_viewed",{numberOfSuggestions:x(b.selectedVertical),mvsMeta:{verticalList:b.verticalList,selectedVertical:b.selectedVertical}}))}),[f,r,x,b.verticalList,b.selectedVertical,p,e.expandedState]),(0,i.useEffect)((()=>{r("eats:search_vertical_tab_view",{mvsMeta:b})}),[]),a.length>1?(0,g.BX)(m,{$width:e.tableWidth,onScroll:$,children:[a.map(((t,r)=>(0,g.tZ)(Z,{onClick:S(t.verticalType),$isSelected:t.verticalType===(e.selectedVertical||c.g),children:t.title},r))),(0,g.tZ)(y,{})]}):null}},53685:(e,t,r)=>{r.d(t,{C:()=>i});const i=e=>{let t=0;for(const r of e)"store"!==r.type&&"searchHistory"!==r.type||t++;return t}},7819:(e,t,r)=>{r.d(t,{C:()=>a});var i=r(40841),o=r(47986),n=r(16372);function a(e,t,r){return e.actionUrl?t?{type:"anchor",href:(0,i.W)(e.actionUrl)}:{type:"anchor",href:e.actionUrl}:{type:"link",to:(0,o.gfM)(r,{storeSlug:e.slug,storeUuid:e.uuid,newQueryParams:{searchSource:n.xH.SEARCH_SUGGESTION}})}}},44133:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(36151),o=r(91631),n=r(62149),a=r(32711),s=r(70496),l=r(68093),d=r(47986),c=r(78284);const u=e=>{let{query:t,delay:r=500}=e;const u=(0,o.k6)(),h=(0,n.TH)(),p=(0,s.Z)(),g=(0,l.Z)(t,r),[m,Z]=(0,i.useState)(!1),[y,v]=(0,i.useState)({}),[f,x]=(0,i.useState)([]),{fetchLocations:b,handleLocationSelected:S,areLocationDetailsLoading:$}=(0,a.Z)({onLocationSelected:e=>{x([]),p(e),u.replace((0,d.DZj)({location:h,newQueryParams:{place:(0,c.aj)((0,c.VN)(e))}}))}}),C=(0,i.useRef)(b);C.current=b;const z=(0,i.useRef)(y);return z.current=y,(0,i.useEffect)((()=>{if(g.length>3){const e=z.current[g];e?x(e):(Z(!0),C.current(g).then((e=>{v((t=>({...t,[g]:e}))),x(e)})).finally((()=>{Z(!1)})))}else 0===g.length&&x([])}),[g]),{searchResults:y,locationSuggestions:f,handleLocationSelected:S,isLoading:m,hasLoaded:!m&&z.current[g]&&g.length>3,areLocationDetailsLoading:$}}},87891:(e,t,r)=>{r.d(t,{t:()=>a});var i=r(74622),o=r(2237),n=r(62459);function a(e,t){const r=(0,n.Z)("getSearchHomeV2"),a=(0,o.H)("getSearchHomeV2",e);return(0,i.useQuery)({queryKey:a,queryFn:e=>{let{queryKey:t}=e;return r.request("getSearchHomeV2",t[1])},...t?.queryObserverOptions})}},24187:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(36151);function o(){const[e,t]=(0,i.useState)(null),r=(0,i.useCallback)((r=>{if(r){const i=r.getBoundingClientRect();e&&e?.height===i.height&&e?.width===i.width||t(i)}}),[e]);return[e,r]}},4525:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(43193),o=r(91631),n=r(62149),a=r(47986),s=r(33535),l=r(54669),d=r(70496),c=r(34626);const u={location:"eats:enter_delivery_address_start",time:"",search:"eats:search_start",user:"eats:user_menu_open",diningMode:"eats:dining_mode_menu_open"};function h(){const[e,t]=i.useState(null),r=(0,n.TH)(),h=(0,o.k6)(),p=(0,s.ZP)(),g=(0,l.Z)(),m=(0,d.Z)(),{user:Z}=(0,c.Z)(),y=()=>t(null);return{activeMenu:e,openMenu:e=>{const r=e&&u[e];r&&p(r),t(e)},closeMenu:y,closeAndUpdate:(e,t,i)=>{if(y(),m(e,t),!e||i)return;if(e.address.title!==g?.address.title)return h.push((0,a.dat)(r,{deliveryLocation:e}));const o=(0,a.RAN)(r,["place","startTime"]);(o.place||o.startTime)&&h.push((0,a.m0g)(r,e,t||{asap:!0}))},user:Z}}},68568:(e,t,r)=>{r.d(t,{Z:()=>c});var i=r(36151),o=r(14016),n=r(32711),a=r(41497),s=r(20568),l=r(34626),d=r(4865);const c=e=>{const t=(0,o.T)(),{fetchLocations:r,handleLocationSelected:c,areLocationDetailsLoading:u,placeholder:h}=(0,n.Z)({onLocationSelected:e.onLocationSelected}),{user:p}=(0,l.Z)(),g=(0,s.Z)("getDeliveryLocationsV2"),m=i.useCallback((async()=>{const e=await g({locationTypes:["SUGGESTED"]});return(0,d.BU)(e?.deliveryLocations?.SUGGESTED||[])}),[g]),Z=t=>t.isTaggedLocation?(e.onLocationSelected(t.address),Promise.resolve()):c(t),y=(e,t)=>{const r=t?.[0];r&&Z(r)},v=i.useCallback((e=>{let{results:r,query:i}=e;return 0===r.length?i?t("components.DeliveryLocationSearch.noResults"):"":i?t("components.MarketplaceSearch.resultsDescription",{numResults:r.length,searchTerm:i}):t("shared.searchResultsCount",{resultsCount:r.length})}),[]),{query:f,results:x,getLabelProps:b,getInputProps:S,getMenuProps:$,getItemProps:C,reset:z,highlightedIndex:w,isOpen:_,openMenu:k}=(0,a.Z)({id:`location-typeahead-${e.id}`,initialQuery:e.initialQuery,fetchResults:e=>p.data?.isLoggedIn&&0===e.length?m():r(e),onResultSelected:Z,getQueryFromResult:e=>e?e.isTaggedLocation?e.address.address.address1:e?.addressLine1||"":"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:y,getA11yStatusMessage:v});return{query:f,locations:x,getLabelProps:b,getInputProps:S,getMenuProps:$,getItemProps:C,reset:z,highlightedIndex:w,placeholder:h,isLoading:u||x.isLoading,showTryAgainMessage:Boolean(f&&x.hasLoaded&&x.data&&0===x.data.length),isOpen:_,openMenu:k,onSubmitWithNoSelectedResult:y}}},32711:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(36151),o=r(14016),n=r(20568),a=r(71076),s=r(55758),l=r(55546),d=r(33535),c=r(62149),u=r(97130);const h=e=>{let{onLocationSelected:t,overrideDiningMode:r,onLocationSelectedV2:h}=e;const{isAddressPickerRevampEnabled:p}=(0,u.X)(),[g,m]=(0,i.useState)(!1),Z=(0,o.T)(),y=(0,s.d)(),v=r??y;let f;const x=(0,d.ZP)(),b=(0,c.TH)().pathname;f=v===l.k5.DINE_IN?Z("shared.enterDineInAddress"):v===l.k5.PICKUP?Z("shared.enterPickupAddress"):v===l.k5.DELIVERY_API?Z("shared.enterFullDeliveryAddress"):Z("shared.enterDeliveryAddress");const S=(0,n.Z)("getLocationAutocompleteV1"),$=(0,n.Z)("getDeliveryLocationV1"),C=(0,n.Z)("getDeliveryLocationV2");return{fetchLocations:e=>e?S({query:e}):Promise.resolve([]),handleLocationSelected:(0,i.useCallback)((e=>(m(!0),h&&p?C({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{let{deliveryLocation:t}=e;t&&(m(!1),x("eats:location_manager_typeahead_result_click",{originType:"user_autocomplete",page:b,userState:t?.deliveryConfig?.analytics?.user_state}),h(t))})).catch((e=>{e instanceof a.F||m(!1)})):$({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{m(!1),x("eats:location_manager_typeahead_result_click",{originType:e.originType,page:b,userState:e.userState}),t?.(e)})).catch((e=>{e instanceof a.F||m(!1)})))),[x,$,C,p,t,h,b]),areLocationDetailsLoading:g,placeholder:f}}}}]);