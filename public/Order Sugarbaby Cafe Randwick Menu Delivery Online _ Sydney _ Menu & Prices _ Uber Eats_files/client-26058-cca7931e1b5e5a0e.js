"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[26058],{47870:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(36151),o=i(68065),a=i(93468),n=i(92300),l=i(27039);const d=(0,i(79810).zo)("div",(e=>{let{$shape:t,$length:i,$theme:r}=e;const a=1===i?void 0:t!==o.X3.default?`-${r.sizing.scale100}`:"-0.5px";return{display:"flex",marginLeft:a,marginRight:a}}));d.displayName="StyledRoot";var s=i(33990);class c extends r.Component{childRefs={};static defaultProps={disabled:!1,onClick:()=>{},shape:o.X3.default,size:o.NO.default,kind:o.TO.secondary};render(){const{overrides:e={},mode:t=a.I.checkbox,children:i,selected:c,disabled:u,onClick:g,kind:m,shape:p,size:h}=this.props,[y,f]=(0,n.jb)(e.Root,d),S=this.props["aria-label"]||this.props.ariaLabel,b=t===a.I.radio,C=r.Children.count(i);return(0,s.tZ)(l.R.Consumer,{children:e=>(0,s.tZ)(y,{"aria-label":S||e.buttongroup.ariaLabel,"data-baseweb":"button-group",role:b?"radiogroup":"group",$shape:p,$length:i.length,...f,children:r.Children.map(i,((e,t)=>{if(!r.isValidElement(e))return null;const a=e.props.isSelected?e.props.isSelected:function(e,t){return!(!Array.isArray(e)&&"number"!=typeof e)&&(Array.isArray(e)?e.includes(t):e===t)}(c,t);return b&&(this.childRefs[t]=r.createRef()),r.cloneElement(e,{disabled:u||e.props.disabled,isSelected:a,ref:b?this.childRefs[t]:void 0,tabIndex:!b||a||b&&(!c||-1===c)&&0===t?0:-1,onKeyDown:e=>{if(!b)return;const t=Number(c)?Number(c):0;if("ArrowUp"===e.key||"ArrowLeft"===e.key){e.preventDefault&&e.preventDefault();const i=t-1<0?C-1:t-1;g&&g(e,i),this.childRefs[i].current&&this.childRefs[i].current.focus()}if("ArrowDown"===e.key||"ArrowRight"===e.key){e.preventDefault&&e.preventDefault();const i=t+1>C-1?0:t+1;g&&g(e,i),this.childRefs[i].current&&this.childRefs[i].current.focus()}},kind:m,onClick:i=>{u||(e.props.onClick&&e.props.onClick(i),g&&g(i,t))},shape:p,size:h,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return 1===i.length?{}:p!==o.X3.default?{marginLeft:t.sizing.scale100,marginRight:t.sizing.scale100}:{marginLeft:"0.5px",marginRight:"0.5px"}},props:{"aria-checked":a,role:b?"radio":"checkbox"}},...e.props.overrides}})}))})})}}},93468:(e,t,i)=>{i.d(t,{I:()=>r});const r=Object.freeze({radio:"radio",checkbox:"checkbox"});Object.freeze({change:"change"})},25174:(e,t,i)=>{i.d(t,{O0:()=>Z,ZP:()=>v,mQ:()=>h});var r=i(36151),o=i(91931),a=i(25750),n=i(36278),l=i(94579),d=i(11652),s=i(7646),c=i(85191),u=i(29194),g=i(33990);const m=1e3,p=16,h={FORWARD:"FORWARD",BACK:"BACK"},y=(0,o.zo)("div",{display:"flex",position:"relative"}),f=(0,o.zo)("div",(()=>({overflowX:"scroll",scrollBehavior:"smooth",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}))),S=(0,o.zo)("div",(e=>{let{$theme:t,$hidden:i,$rtl:r}=e;return{height:"100%",display:"flex",alignItems:"center",background:`linear-gradient(to ${r?"left":"right"}, ${t.colors.backgroundPrimary} 10%, rgba(255, 255, 255, 0) 90%)`,cursor:"pointer",pointerEvents:"all",visibility:i?"hidden":"visible",...r?{paddingLeft:"24px"}:{paddingRight:"24px"}}})),b=(0,o.zo)("div",(e=>{let{$theme:t,$hidden:i,$rtl:r}=e;return{height:"100%",display:"flex",alignItems:"center",background:`linear-gradient(to ${r?"right":"left"}, ${t.colors.backgroundPrimary} 10%, rgba(255, 255, 255, 0) 90%)`,cursor:"pointer",pointerEvents:"all",visibility:i?"hidden":"visible",...r?{paddingRight:"24px"}:{paddingLeft:"24px"}}})),C=(0,o.zo)("div",{position:"absolute",display:"flex",justifyContent:"space-between",zIndex:l.I_.surface,width:"100%",height:"100%",pointerEvents:"none"}),U=(0,o.w1)(s.ZP,(e=>{let{$theme:t}=e;return{background:t.colors.backgroundPrimary,display:"flex",justifyContent:"center",alignItems:"center",height:"40px",paddingRight:"12px",paddingLeft:"12px",boxShadow:t.shadows.floatingButton,transition:"all 300ms ease",":hover":{background:t.colors.backgroundTertiary}}})),Z=e=>{let{direction:t,onButtonClick:i,component:r}=e;const o=(0,u.gm)();let a=t===h.FORWARD;"rtl"===o&&(a=!a);const n=r||U;return(0,g.tZ)(n,{onClick:i,children:(0,g.tZ)(d.Z,{rotate:a?180:0,size:16})})};function v(e){let{items:t,renderItem:i,renderForwardButton:o,renderBackButton:l,animate:d,arrowScrollAmount:s=m,spacerWidth:U=p,scrollRef:Z}=e;const v="rtl"===(0,u.gm)(),x=(0,r.useRef)(null),I=(0,r.useRef)(null),[k,w]=(0,c.Z)({root:x?.current,threshold:.75}),[$,A]=(0,c.Z)({root:x?.current,threshold:.75}),P=(0,r.useCallback)((e=>{I.current=e,Z&&(Z.current=e)}),[Z]),z=(0,r.useCallback)((e=>{if(!I.current)return;let t=e===h.FORWARD;v&&(t=!t),t?d?I.current.scrollTo({left:I.current.scrollLeft+s,behavior:"smooth"}):I.current.scrollLeft+=s:d?I.current.scrollTo({left:I.current.scrollLeft-s,behavior:"smooth"}):I.current.scrollLeft-=s}),[v,d,s]);return(0,g.BX)(y,{ref:x,children:[(0,g.BX)(C,{children:[(0,g.tZ)(S,{$hidden:w?.isIntersecting??!0,$rtl:v,children:l((()=>z(h.BACK)))}),(0,g.tZ)(b,{$hidden:A?.isIntersecting??!0,$rtl:v,children:o((()=>z(h.FORWARD)))})]}),(0,g.tZ)(f,{ref:P,children:(0,g.tZ)(y,{children:(0,g.tZ)(a.Z,{separator:()=>(0,g.tZ)(n.KG,{$as:"div",$width:`${U}px`}),children:t.map(((e,r)=>0===r?(0,g.tZ)("div",{ref:k,children:i({item:e,index:r})},r):r===t.length-1?(0,g.tZ)("div",{ref:$,children:i({item:e,index:r})},r):(0,g.tZ)("div",{children:i({item:e,index:r})},r)))})})})]})}},45481:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(46933),o=i(91931),a=i(6319),n=i(8961),l=i(67206),d=i(49235),s=i(28406),c=i(33990);const u=(0,o.zo)("div",(e=>{let{$theme:t,$isGrocery:i}=e;return{...i?t.typography.HeadingXSmall:t.typography.DisplayBold4XSmall,marginBottom:`${d.lS}px`}})),g=(0,o.zo)("div",{display:"flex",columnGap:"24px"}),m=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...(0,l.Z)({height:136,$theme:t}),width:"50%",borderRadius:"12px"}})),p=e=>{let{catalogSection:t,feedIndex:i,isShipmentStore:o,isGrocery:l}=e;const d=(0,n.Z)();if("eaterMessagingPayload"!==t.type||!t.eaterMessagingPayload?.eaterMessage)return null;const{eaterMessage:p}=t.eaterMessagingPayload,h="cardCarousel"===p?.payload?.type&&1===p.payload.cardCarousel?.carouselItems?.length;return(0,c.BX)(s.Z,{children:[o&&h?null:(0,c.tZ)(u,{$isGrocery:l,children:(0,c.tZ)(r.v,{id:"eaterMessage.storefront.headline.v2"})}),d?(0,c.tZ)(a.Z,{eaterMessage:p,feedIndex:i}):(0,c.BX)(g,{children:[(0,c.tZ)(m,{}),(0,c.tZ)(m,{})]})]})}},80363:(e,t,i)=>{i.d(t,{Z:()=>se});var r=i(36151),o=i(91631),a=i(62149),n=i(91931),l=i(14016),d=i(46933),s=i(32857),c=i(68065),u=i(47870),g=i("__fusion__568"),m=i("__fusion__580"),p=i(29194),h=i(75514),y=i(22250),f=i(28984),S=i(99990),b=i(33990);const C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{maxWidth:"100%",width:"100%",overflow:"hidden",padding:`0 ${t.sizing.scale100}`,marginBottom:t.sizing.scale850}})),U=(0,n.zo)("img",(e=>{let{$theme:t}=e;return{width:t.sizing.scale800,height:t.sizing.scale800,borderRadius:"50%",objectFit:"cover"}})),Z=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{overflow:"hidden",textOverflow:"ellipsis",...t.typography.LabelSmall}})),v=e=>{if(!h.Z?.getComputedStyle||!e)return 0;const t=h.Z.getComputedStyle(e);return e.getBoundingClientRect().width+parseFloat(t.marginLeft)+parseFloat(t.marginRight)},x=e=>{let{bundleStores:t=[],selectedIndex:i=0,onSelectedIndexChange:o,onSeeAllClick:a}=e;const n=(0,r.useMemo)((()=>t.filter((e=>Boolean(e.storeUuid)))),[t]),[h,x]=(0,r.useState)(n),[I,k]=(0,r.useState)(!0),w=(0,p.gm)(),$=(0,r.useRef)(null),A=(0,r.useRef)([]),P=(0,r.useRef)(0),{windowWidth:z}=(0,y.Z)(),D=(0,l.T)(),{onBundleCatalogSectionStorePillsScrolled:B}=(0,f.Z)(),{storeUuid:R}=(0,S.QT)();return(0,r.useLayoutEffect)((()=>{const e=((e,t,i)=>{if(!e||!t||0===t?.length)return 0;const r=e.getBoundingClientRect().width;let o=i||0;for(let e=0;e<t.length;e++)if(o+=t[e]||0,o>r)return e;return t.length})($.current,A.current,P.current);x(n.slice(0,e)),k(e<n.length)}),[n,z]),(0,b.tZ)(C,{ref:$,onScroll:()=>B({primaryStoreUuid:R,bundleStores:n}),children:(0,b.BX)(u.Z,{size:c.NO.mini,shape:c.X3.pill,selected:i,overrides:{Root:{style:{display:"inline-flex"}}},children:[h.map(((e,t)=>(0,b.tZ)(s.Z,{ref:e=>{e&&(A.current[t]=v(e))},onClick:()=>o(t),startEnhancer:e.imageUrl?(0,b.tZ)(U,{src:e.imageUrl,alt:e.titleV2||D("online_ordering.logo.alt_text")}):null,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{maxWidth:"200px",overflow:"hidden",whiteSpace:"nowrap",marginRight:t.sizing.scale300,justifyContent:"flex-start",flexGrow:1}}}},children:(0,b.tZ)(Z,{children:e.titleV2})},e.storeUuid))),(0,b.tZ)(s.Z,{ref:e=>P.current=v(e),kind:c.TO.secondary,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500,whiteSpace:"nowrap",visibility:I?"visible":"hidden"}}}},endEnhancer:"ltr"===w?(0,b.tZ)(m.default,{color:"buttonSecondaryText"}):(0,b.tZ)(g.default,{color:"buttonSecondaryText"}),onClick:a,children:(0,b.tZ)(Z,{children:(0,b.tZ)(d.v,{id:"see_all_stores"})})},"see-more")]})})};var I=i(43193),k=i(96911),w=i(66931),$=i(29217),A=i(21266),P=i(32762);const z=(0,n.zo)("div",{display:"block",position:"relative"}),D=(0,n.w1)(w.im,{overflowY:"hidden",margin:"-16px"}),B=(0,n.w1)(w.T3,{display:"flex",padding:"16px",boxSizing:"border-box"}),R=(0,n.w1)($.ZP,{width:"100%"}),T=e=>({top:"50%",width:e.sizing.scale950,height:e.sizing.scale950,background:e.colors.primaryB,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",borderRadius:"50%",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",transform:"translateY(-50%)"}),E=e=>({left:`calc(-1 * ${e.sizing.scale950}/2)`}),O=e=>({right:`calc(-1 * ${e.sizing.scale950}/2)`}),L=(0,n.zo)("button",(e=>{let{$theme:t,direction:i}=e;return{position:"absolute",..."rtl"===i?E(t):O(t),...T(t)}})),X=(0,n.zo)("button",(e=>{let{$theme:t,direction:i}=e;return{position:"absolute",..."rtl"===i?O(t):E(t),...T(t)}})),_=e=>{let{primaryStoreUuid:t,storeUuid:i,storeCatalogEventMeta:o,catalogItems:a,children:n}=e;const l=(0,p.gm)(),d=I.useRef(!1),s=n?.length||0,{emitStoreCatalogScrollEvent:c}=(0,A.Z)(o),{onCatalogSectionItemListScrolled:u}=(0,f.Z)(),{desktopFeatures:h}=(0,P.Z)(),y=h.overwriteHorizontalGridColumns?h.horizontalGridColumns:5,S=I.useCallback((()=>{d.current||(c(),u({primaryStoreUuid:String(t||""),secondaryStoreUuid:String(i||""),bundleItems:a}),d.current=!0)}),[u,c,a,t,i]),{containerRef:C,getPageChunks:U,getPageProps:Z,isPreviousPageDisabled:v,isNextPageDisabled:x,handlePageChange:w,supportsScrollSnapping:$}=(0,k.Z)({scrollOffset:24});(0,r.useEffect)((()=>{if(!C.current?.getBoundingClientRect)return;const e="rtl"===l?C.current.getBoundingClientRect().width:0;C.current.scrollLeft=e}),[l,C,i]);const T=U(n||[],y),E=s>y;return(0,b.BX)(z,{children:[(0,b.tZ)(D,{ref:C,$supportsScrollSnapping:$,onScroll:S,children:T.map(((e,t,i)=>(0,b.tZ)(B,{$pageMargin:24,...Z(t,i.length),children:(0,b.tZ)(R,{$as:"ul",$numColumns:y,children:e})},t)))}),!x&&E?(0,b.tZ)(L,{onClick:e=>{e.stopPropagation(),w("forward")},direction:l,children:"rtl"===l?(0,b.tZ)(g.default,{}):(0,b.tZ)(m.default,{})}):null,!v&&E?(0,b.tZ)(X,{onClick:e=>{e.stopPropagation(),w("back")},direction:l,children:"rtl"===l?(0,b.tZ)(m.default,{}):(0,b.tZ)(g.default,{})}):null]})};var H=i(95427),G=i(7978),M=i(4864),Q=i(6703),q=i(47986),V=i(15070),F=i(24316),N=i(22208);const W=e=>{const t=(0,a.TH)(),{currentStoreDraftOrderUUID:i}=(0,F.Z)(),{syncItems:r,quantities:o}=(0,V.v)((e=>e.quickAdd)),{cartCountSummary:n,cartCountDecimalsSummary:l}=(0,M.F7)(e.storeUuid),{uuid:d,sectionUuid:s,subsectionUuid:c}=e.item,u=e.item.slug||e.storeSlug;if(!(d&&s&&c&&u))return null;const g=n[d]??0,m=l[d]??null,p=Boolean(e.syncToCart||r[d]),h=o[d]??(0,Q.bN)(),y=i||void 0,f=e.redirectToQuickViewModal?(0,q.f_e)(t,{storeUuid:e.storeUuid,sectionUuid:s,subsectionUuid:c,itemUuid:d,showSeeDetailsCTA:e.showQuickViewSeeDetailsCTA,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:y,entryPoint:N.x9.BUNDLE_CAROUSEL}},N.x9.BUNDLE_CAROUSEL):(0,q.yz4)({location:t,args:{storeUuid:e.storeUuid,storeSlug:u,sectionUuid:s,subsectionUuid:c,itemUuid:d,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:y,entryPoint:N.x9.BUNDLE_CAROUSEL}},previousContext:N.x9.BUNDLE_CAROUSEL});return(0,b.tZ)(G.Z,{item:e.item,storeUuid:e.storeUuid,sectionUuid:s,subsectionUuid:c,cartItemCount:g,cartItemDecimalCount:m,syncItemQuantity:p,quickAddCount:h,quickAddDisabled:e.quickAddDisabled,catalogSectionType:e.catalogSectionType,isOpen:e.isOpen,quickAddSource:e.quickAddSource,onLowAvailabilityAlternateItemClick:e.onLowAvailabilityAlternateItemClick,showQuickViewEntryPoint:e.showQuickViewEntryPoint,itemUrl:f,...e.onCatalogItemClickEvent?{onCatalogItemClickEvent:e.onCatalogItemClickEvent}:{},itemStyle:e.itemStyleMetadata,surface:e.surface,isGrocery:e.isGrocery,shouldHideQuickAdd:!0,primaryBundledStoreUuid:e.primaryBundledStoreUuid})};var j=i(68404),Y=i(57578),K=i(31913),J=i(52298),ee=i(53514),te=i(8961),ie=i(74952),re=i(16046),oe=i(45288),ae=i(56065);const ne=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingBottom:t.sizing.scale600}})),le=(0,n.zo)("div",(()=>({alignSelf:"center"}))),de=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{borderRadius:t.sizing.scale500,boxSizing:"border-box",padding:`${t.sizing.scale600} ${t.sizing.scale800}`,border:`2px solid ${t.colors.borderOpaque}`}})),se=e=>{let{storeUuid:t,sectionUuid:i,catalogSectionUuid:n,syncToCart:l,bundleStorePayload:d,redirectToQuickViewModal:s,showQuickViewEntryPoint:c,showQuickViewSeeDetailsCTA:u,quickAddDisabled:g,catalogSectionType:m,isOpen:p,quickAddSource:h,onCatalogItemClickEvent:y,onLowAvailabilityAlternateItemClick:S,itemStyleMetadata:C,surface:U,isGrocery:Z}=e;const[v,I]=(0,r.useState)(0),k=(0,o.k6)(),w=(0,a.TH)(),$=(0,te.Z)(),{currentStoreDraftOrderUUID:A}=(0,F.Z)(),P=A||void 0,z=d.bundleStores?d.bundleStores[v]:null,D=z?.storeUuid,B=(0,ie.T_)()(),{setLastClickedPartialStore:R}=(0,r.useContext)(re.C),{registerSubsectionRef:T}=(0,ae._J)(),{onBundleCatalogSectionStorePillClick:E}=(0,f.Z)(),O=(0,ee.Z)({storeUuid:t,sectionUuid:i,selectedStoreUuid:D,bundleStorePayload:d}),L=(0,r.useCallback)((e=>{e&&n&&T(n,e)}),[n,T]);if(B.isDisabled||!d.bundleStores||!d.bundledStoreItems)return null;const X=D?d.bundledStoreItems[D]:null,G=(X?(0,Y.FA)(X):null)?.catalogItems||[],M={storeUuid:t,sectionUuid:i,catalogSectionType:m};return(0,b.tZ)(de,{ref:L,children:(0,b.BX)("div",{ref:O,children:[(0,b.BX)(ne,{children:[(0,b.tZ)(H.Z,{title:d.title,iconUrl:d.bundleImageUrl}),d.subtitle?(0,b.BX)(b.HY,{children:[(0,b.tZ)(J.P0,{}),(0,b.tZ)(K.ZP,{text:d.subtitle})]}):null]}),$?(0,b.tZ)(x,{selectedIndex:v,onSelectedIndexChange:e=>{I(e),E({primaryStoreUuid:t,secondaryStoreUuid:D})},bundleStores:d.bundleStores,onSeeAllClick:()=>{if(!t||!n)return;const e=(0,q.kb4)(w,{storeUuid:t,catalogSectionUuid:n});k.push(e)}}):null,D?(0,b.tZ)(_,{storeUuid:D,storeCatalogEventMeta:M,catalogItems:G,primaryStoreUuid:t,children:G.map(((e,i)=>(0,b.tZ)(W,{item:e,storeUuid:D,primaryBundledStoreUuid:t,storeSlug:z.slug,syncToCart:l,redirectToQuickViewModal:s,showQuickViewEntryPoint:c,showQuickViewSeeDetailsCTA:u,quickAddDisabled:g,catalogSectionType:m,isOpen:p,quickAddSource:h,onCatalogItemClickEvent:y,onLowAvailabilityAlternateItemClick:S,itemStyleMetadata:C,surface:U,isGrocery:Z},e.uuid+"-"+i))).concat((0,b.tZ)(le,{children:(0,b.tZ)(j.Z,{onClick:()=>{if(!z?.storeUuid||!z?.slug)return;const e=(0,q.gfM)(w,{storeUuid:z.storeUuid,storeSlug:z.slug,newQueryParams:{primaryBundledStoreUuid:t,primaryDraftOrderUUID:P,source:"primary-store"}});R((0,oe.RV)(z)),k.push(e)}})},"bundle-stores-see-all-item"))}):null]})})}},17019:(e,t,i)=>{i.d(t,{Z:()=>m});var r=i(32857),o=i(91931),a=i(87763),n=i(31913),l=i(25174),d=i(12888),s=i(26501),c=i(33990);const u=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale300} 0 ${t.sizing.scale600} 0`,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}})),g=e=>{let{onClick:t,children:i}=e;return(0,c.tZ)(r.Z,{onClick:t,size:"compact",shape:"round",kind:"secondary",children:i})},m=e=>{const{aisleShortcutsRef:t}=(0,s.A)({catalogIndex:e.catalogIndex}),{aisleShortcutsCarouselRef:i}=(0,s.M)({catalogIndex:e.catalogIndex});if(!e.aisleShortcutItems||0===e.aisleShortcutItems?.length)return null;return(0,c.BX)("div",{ref:t,children:[e.title?(0,c.tZ)(u,{children:(0,c.tZ)(a.Z,{clamp:1,typographyKey:"HeadingXSmall",children:(0,c.tZ)(n.ZP,{text:e.title})})}):null,(0,c.tZ)(l.ZP,{scrollRef:i,items:e.aisleShortcutItems,renderItem:t=>{let{item:i}=t;return(0,c.tZ)(d.Z,{item:i,sectionUuid:e.sectionUuid,catalogIndex:e.catalogIndex})},renderForwardButton:e=>(0,c.tZ)(l.O0,{onButtonClick:e,direction:l.mQ.FORWARD,component:g}),renderBackButton:e=>(0,c.tZ)(l.O0,{onButtonClick:e,direction:l.mQ.BACK,component:g})})]})}},__fusion__492:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Pe});var r=i(91931),o=i(36151),a=i(43193),n=i(62149),l=i(29217),d=i(50912),s=i(7978),c=i(4864),u=i(15070),g=i(96911),m=i(66931),p=i(89400),h=i(34911),y=i(36278),f=i(6854),S=i(31913),b=i(95195),C=i(33990);const U=(0,r.zo)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end"}),Z=(0,r.zo)("div",{margin:"24px 0",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}),v=e=>{let{title:t,titleV2:i,subtitle:r,backwardEnabled:o,forwardEnabled:a,showPaginationButtons:n,onPageChange:l,viewAllLocation:d,children:s,storeUuid:c,sectionUuid:u,catalogSectionType:g,ctaMetadataLabel:m,storeHeader:v,showHeaderCTA:x,primaryBundledStoreUuid:I}=e;const k=(0,C.BX)(U,{children:[d&&x?(0,C.tZ)(f.Z,{storeHeader:v,ctaMetadataLabel:m,viewAllLocation:d,storeCatalogEventMeta:{storeUuid:c,sectionUuid:u,catalogSectionType:g}}):null,d&&n?(0,C.tZ)(y.ZP,{$width:"40px"}):null,n?(0,C.tZ)(h.Z,{backwardEnabled:o,forwardEnabled:a,onPageChange:l}):null]});return(0,C.BX)(C.HY,{children:[(0,C.BX)(Z,{children:[v?(0,C.tZ)(b.Z,{primaryStoreUuid:I,storeHeader:v,viewAllLocation:d}):null,v?null:(0,C.BX)("div",{children:[i?(0,C.tZ)(S.ZP,{text:i}):(0,C.tZ)(p.Z,{badge:t,baseFont:"DisplayBold4XSmall"}),(0,C.tZ)(p.Z,{badge:r,baseFont:"ParagraphSmall",baseColor:"contentTertiary"})]}),k]}),s]})};var x=i(52298),I=i(8054),k=i(6703),w=i(21926),$=i(47091),A=i(47986),P=i(22250),z=i(61304),D=i(21866),B=i(14016),R=i(29194),T=i(56379),E=i("__fusion__686"),O=i(67526),L=i(91631),X=i(72843),_=i(11189),H=i(62091),G=i(28984),M=i(24316),Q=i(57578),q=i(60802),V=i(84272),F=i(85191);const N=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{border:`2px solid ${t.colors.borderOpaque}`,borderRadius:t.sizing.scale400,padding:`${t.sizing.scale850} ${t.sizing.scale800}`,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"}})),W=(0,r.zo)("div",{display:"flex",alignItems:"center"}),j=(0,r.zo)("div",(e=>{let{$direction:t,$theme:i}=e;return{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",..."ltr"===t?{marginRight:i.sizing.scale800}:{marginLeft:i.sizing.scale800}}})),Y=(0,r.zo)("img",(e=>{let{$theme:t}=e;return{width:t.sizing.scale1600,height:t.sizing.scale1600,borderRadius:"50%",objectFit:"cover"}})),K=(0,r.zo)("div",(e=>{let{$theme:t,$direction:i}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-start",..."ltr"===i?{marginLeft:t.sizing.scale600}:{marginRight:t.sizing.scale600}}})),J=(0,r.zo)("p",(e=>{let{$theme:t}=e;return t.typography.LabelLarge})),ee=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",padding:`${t.sizing.scale600} 0`}})),te=(0,r.zo)(H.Z,(e=>{let{$theme:t,$direction:i}=e;return{display:"flex",width:t.sizing.scale1200,height:t.sizing.scale1200,borderRadius:t.sizing.scale300,objectFit:"cover",..."ltr"===i?{marginLeft:t.sizing.scale600}:{marginRight:t.sizing.scale600}}})),ie=(0,r.zo)("div",(e=>{let{$theme:t,$direction:i}=e;return{...t.typography.LabelSmall,width:t.sizing.scale1200,height:t.sizing.scale1200,borderRadius:"50%",color:t.colors.contentPrimary,backgroundColor:t.colors.backgroundTertiary,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",..."ltr"===i?{marginLeft:t.sizing.scale600}:{marginRight:t.sizing.scale600}}})),re=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{margin:`0 -${t.sizing.scale800}`}})),oe=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{padding:`0 ${t.sizing.scale800}`,width:"100%"}})),ae=(0,r.zo)("div",{display:"flex",flexShrink:0}),ne=e=>{let{slide:t,carouselSlideProps:i,handleBundleStoreCart:a}=e;const n=(0,R.gm)(),[,l]=(0,r.hQ)(),d=(0,B.T)(),{miniStorePayload:s,items:c}=t,{onActiveCartItemImpression:u}=(0,G.Z)(),{primaryBundledStoreUuid:g,primaryDraftOrderUUID:m}=(0,V.Z)(),[p,h]=(0,F.T)({root:null,threshold:.75}),y=(0,o.useCallback)((()=>{u({primaryStoreUuid:g||"",primaryDraftOrderUuid:m||"",storeUuid:s?.storeUuid||"",draftOrderUuid:s?.analyticsMetadata?.draftOrderUuid||"",numOfItems:c?.length||0,basketPrice:s?.analyticsMetadata?.basketPrice||0})}),[c?.length,u,g,m,s]);if((0,o.useEffect)((()=>{h&&h.isIntersecting&&y()}),[y,h]),!s)return null;const{visibleItems:f,itemsWithoutImagesCount:S}=(0,Q.S8)(c);return(0,C.tZ)(oe,{ref:p,children:(0,C.BX)(N,{onClick:()=>a(s),children:[(0,C.BX)(j,{$direction:n,children:[(0,C.BX)(W,{children:[(0,C.tZ)(Y,{src:s.image?.items?.[0]?.url||"",alt:s.title||d("online_ordering.logo.alt_text")}),(0,C.BX)(K,{$direction:n,children:[(0,C.tZ)(J,{children:s.title?.text}),s.meta?(0,C.tZ)(T.Z,{meta:s.meta}):null]})]}),(0,C.BX)(ee,{children:[(f||[]).map(((e,t)=>(0,C.tZ)(te,{$direction:n,src:e.imageUrl||""},t))),S?(0,C.BX)(ie,{$direction:n,children:["+",S]}):null]})]}),(0,C.tZ)(ae,{children:(0,C.tZ)(E.default,{size:32,color:l.colors.contentInverseTertiary})})]},i.index)})},le=e=>{let{activeCartPayload:t,catalogIndex:i,storeUuid:r}=e;const a=(0,L.k6)(),l=(0,n.TH)(),{currentStoreDraftOrderUUID:d}=(0,M.Z)(),{onActiveCartImpression:s}=(0,G.Z)(),c=t.cards?.length||0,[u,g]=(0,o.useState)(0);(0,o.useEffect)((()=>{s({primaryStoreUuid:r,primaryDraftOrderUuid:d,numActiveCarts:c})}),[s,r,d,c]);const m=(0,o.useCallback)((e=>{let{storeUuid:t}=e;if("bundleItemsWithStore"===X.parse(l.search||"")?.pmod)return;const i=(0,_.b0)(l,t);a.push(i)}),[a,l]),p=e=>{const t=e.storeUuid;m({storeUuid:t})},h=t.cards||[],y=h.length>1;return(0,C.tZ)(v,{title:t?.header?.title,showPaginationButtons:y,backwardEnabled:u>0,forwardEnabled:u<h.length-1,onPageChange:e=>{g("forward"===e?u+1:u-1)},viewAllLocation:null,storeUuid:r,catalogSectionType:O.LK.ACTIVE_CART,ctaMetadataLabel:null,showHeaderCTA:!0,children:(0,C.tZ)(re,{children:(0,C.tZ)(q.Z,{initialIndex:u,slides:h,renderSlide:e=>{let{slide:t,carouselSlideProps:i}=e;return(0,C.tZ)(ne,{slide:t,carouselSlideProps:i,handleBundleStoreCart:p})},pageSize:1,margin:0,shouldUpdateOnIndexChange:!0})})})};var de=i(80363),se=i(47885),ce=i(85907),ue=i(7565),ge=i(75618),me=i(17019),pe=i(49160),he=i(32892),ye=i(41117);const fe=(0,r.zo)("li",(e=>{let{$marginTop:t=0}=e;return{marginTop:"40px",":first-of-type":{marginTop:`${t}px`}}})),Se=(0,r.zo)("ul",(e=>{let{$displayType:t,$columnsPerRow:i}=e;return{display:"grid",gridGap:"24px",[$.k]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},..."LIST"===t?{gridTemplateColumns:i?`repeat(${i}, minmax(0, 1fr))`:"repeat(auto-fill, minmax(min(100%/3, max(324px, 100%/4)), 1fr))"}:{gridTemplateColumns:i?`repeat(${i}, auto)`:"repeat(auto-fill, minmax(0, min(calc(100%/4 - 24px), max(192px, calc(100%/6 - 24px)))))"}}})),be=(0,r.w1)(m.im,{overflowY:"hidden",margin:"-16px"}),Ce=(0,r.w1)(m.T3,(e=>{let{$theme:t,$padding:i}=e;return{padding:i||t.sizing.scale600,display:"block",boxSizing:"border-box"}})),Ue=e=>1==e?"calc(100% - 24px)":`calc(${(100/1.15).toFixed(2)}% - 16px)`,Ze=e=>{const t=(0,n.TH)(),{currentStoreDraftOrderUUID:i}=(0,M.Z)(),r=(0,pe.Z)(e.store),{isDealsHubM2Enabled:m}=(0,he.Z)(),p=e.primaryDraftOrderUUID?e.primaryDraftOrderUUID:i||void 0,{isOpen:h,slug:y}=e.store,f=e.catalogSection.payload,S=f?.type===ge.p.standardItemsPayload?f.standardItemsPayload:null,b=e.primaryBundledStoreUuid&&S?.storeHeader?.storeUuid?S?.storeHeader?.storeUuid:e.store.uuid,U=e.catalogConfig?.showHeaderCTA,Z=e.catalogConfig?.surface||z.b.STOREFRONT,$=(0,ce.F)(Z),{cartCountSummary:B,cartCountDecimalsSummary:R,cart:T,hasCartToLoad:E,hasCartChanged:O}=(0,c.F7)(b),[L,X]=(0,o.useState)(!0),{syncItems:_,quantities:H}=(0,u.v)((e=>e.quickAdd)),[G,Q]=(0,o.useState)(!0),q=T.isLoading,V=T.hasLoaded,F=e.catalogSection.type,N=e.catalogSection.catalogSectionUUID,W=S?.catalogSectionAnalyticsData,j=f?.type===ge.p.bundleStorePayload?f.bundleStorePayload:null,Y=f?.type===ge.p.adCanvasPayload?f.adCanvasPayload:null,K=f?.type===ge.p.activeCartPayload?f.activeCartPayload:null,J=f?.type===ge.p.aisleShortcutItems?f.aisleShortcutItems:null,ee=a.useMemo((()=>S?.catalogItems||[]),[S]),te=a.useRef(!1),{windowWidth:ie}=(0,P.Z)(),re=e.catalogConfig?.columnsPerRow?e.catalogConfig.columnsPerRow:ie<1140?4:ie>1350?6:5,oe=e.catalogConfig?.columnsPerRow,ae=e.catalogConfig?.maxVerticalGridRows,ne=Boolean(e.catalogConfig?.showQuickViewEntryPoint),Ze=Boolean(e.catalogConfig?.redirectToQuickViewModal),ve=Boolean(e.catalogConfig?.showSeeDetailsCTA),xe=S?.ctaMetadata,Ie=a.useMemo((()=>{const{search:i}=(0,A.v4Q)(xe?.ctaUri||""),r=i?.storeUUID,o=i?.slug;if(!r||!o)return null;return(0,A.gfM)(t,{storeUuid:r,storeSlug:o,newQueryParams:{primaryBundledStoreUuid:e.store.uuid,primaryDraftOrderUUID:p,source:"primary-store"}})}),[xe,t,e.store.uuid,p]),{verticalGridGridItems:ke,verticalGridListItems:we}=a.useMemo((()=>{const e=ee.filter((e=>"GRID"===e.displayType));return{verticalGridGridItems:ae?e.slice(0,ae*re):e,verticalGridListItems:ee.filter((e=>"LIST"===e.displayType))}}),[ee,re,ae]),$e=S?.spanCount,Ae=S?.itemStyleMetadata,{containerRef:Pe,getPageChunks:ze,getPageProps:De,isPreviousPageDisabled:Be,isNextPageDisabled:Re,handlePageChange:Te,supportsScrollSnapping:Ee}=(0,g.Z)({scrollOffset:e.catalogConfig?.isSharedDesign?0:24}),Oe=a.useRef(!1),Le=e.catalogConfig?.analyticsConfig?.onCarouselScroll,Xe=a.useCallback((()=>{!Oe.current&&Le&&(Le({storeUuid:b,items:ee}),Oe.current=!0)}),[Le,b,ee]),_e=(0,w.Z)(),{isStorePrecheckoutBundlingEnabled:He}=(0,se.Z)(),Ge=ee.map(((i,r)=>{const{uuid:o,sectionUuid:a,subsectionUuid:n}=i,l=i.slug||y;if(!o||!a||!n)return null;const d=B[o]??0,c=R[o]??null,u=L||_[o],g=H[o]??(0,k.bN)(),m=Ze?(0,A.f_e)(t,{storeUuid:b,sectionUuid:a,subsectionUuid:n,itemUuid:o,showSeeDetailsCTA:ve,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:p,entryPoint:$}},(0,ce.F)(Z)):(0,A.yz4)({location:t,args:{storeUuid:b,storeSlug:l,sectionUuid:a,subsectionUuid:n,itemUuid:o,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:p,entryPoint:$}},previousContext:(0,ce.F)(Z)});return N&&F?e.catalogConfig?.isSharedDesign?(0,C.tZ)(ue.Z,{resultIndex:r,storeUuid:b,sectionUuid:a,subsectionUuid:n,item:i,cartItemCount:d,syncItemQuantity:Boolean(u),index:r,quickAddCount:g,quickAddDisabled:G,gridColumns:e.catalogConfig?.columnsPerRow||1,catalogSectionType:F,catalogSectionAnalyticsData:W,isOpen:h,isGrocery:e.isGrocery,quickAddSource:e.catalogConfig?.quickAddSource,onLowAvailabilityAlternateItemClick:e.catalogConfig?.analyticsConfig?.onLowAvailabilityAlternateItemClick,...e.catalogConfig?.analyticsConfig?.onCatalogSectionItemClick?{onCatalogItemClickEvent:e.catalogConfig.analyticsConfig.onCatalogSectionItemClick}:{},itemUrl:m,itemStyles:Ae,hasLazyloadOverflowContainer:e.catalogConfig?.hasLazyloadOverflowContainer,maxSpanCount:e.catalogConfig?.maxSpanCount,surface:Z,shouldHideQuickAdd:e.catalogConfig?.hideQuickAdd,cartItemDecimalCount:c,primaryBundledStoreUuid:e.primaryBundledStoreUuid,imageDimensions:e.catalogConfig?.imageDimensions},`${o}-${r}`):(0,C.tZ)(s.Z,{storeUuid:b,sectionUuid:a,subsectionUuid:n,item:i,cartItemCount:d,cartItemDecimalCount:c,syncItemQuantity:Boolean(u),quickAddCount:g,quickAddDisabled:G,catalogSectionType:F,catalogSectionAnalyticsData:W,isOpen:h,quickAddSource:e.catalogConfig?.quickAddSource,onLowAvailabilityAlternateItemClick:e.catalogConfig?.analyticsConfig?.onLowAvailabilityAlternateItemClick,showQuickViewEntryPoint:ne,itemUrl:m,...e.catalogConfig?.analyticsConfig?.onCatalogSectionItemClick?{onCatalogItemClickEvent:e.catalogConfig.analyticsConfig.onCatalogSectionItemClick}:{},itemStyle:Ae,surface:Z,isGrocery:e.isGrocery,shouldHideQuickAdd:e.catalogConfig?.hideQuickAdd,primaryBundledStoreUuid:e.primaryBundledStoreUuid,hasLazyloadOverflowContainer:e.catalogConfig?.hasLazyloadOverflowContainer,imageDimensions:e.catalogConfig?.imageDimensions},`${o}-${r}`):null})),Me=ze(Ge,re);(0,o.useEffect)((()=>{_e&&O&&X(!0),T.error&&X(!0)}),[T.error,O,_e]),(0,o.useEffect)((()=>{(!q&&V||!E)&&(X(!1),Q(!1))}),[q,V,E]),(0,o.useEffect)((()=>{const t=e.catalogConfig?.analyticsConfig;if(!t?.onCatalogSectionImpression||te.current)return;te.current=!0;const i=(ee||[]).map((e=>e.uuid)).filter(Boolean);t.onCatalogSectionImpression({storeUuid:b,itemUuids:i,items:ee,source:e.catalogConfig?.surface,isGrocery:e.isGrocery})}),[e.catalogConfig,b,ee,e.isGrocery]);const Qe=ie>1280?2*($e||0):$e,qe=(i,r)=>{const{uuid:o,sectionUuid:a,subsectionUuid:n}=i,l=i.slug||y;if(!o||!a||!n)return null;const d=B[o]??0,c=R[o]??null,u=L||_[o],g=H[o]??(0,k.bN)(),m=Ze?(0,A.f_e)(t,{storeUuid:b,sectionUuid:a,subsectionUuid:n,itemUuid:o,showSeeDetailsCTA:ve,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:p,entryPoint:$}}):(0,A.yz4)({location:t,args:{storeUuid:b,storeSlug:l,sectionUuid:a,subsectionUuid:n,itemUuid:o,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:p,entryPoint:$}},previousContext:(0,ce.F)(Z)});return(0,C.tZ)(s.Z,{storeUuid:b,sectionUuid:a,subsectionUuid:n,item:i,cartItemCount:d,cartItemDecimalCount:c,syncItemQuantity:Boolean(u),quickAddCount:g,quickAddDisabled:G,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:W,isOpen:h,quickAddSource:e.catalogConfig?.quickAddSource,showQuickViewEntryPoint:ne,itemUrl:m,...e.catalogConfig?.analyticsConfig?.onCatalogSectionItemClick?{onCatalogItemClickEvent:e.catalogConfig.analyticsConfig.onCatalogSectionItemClick}:{},itemStyle:Ae,surface:Z,isGrocery:e.isGrocery,shouldHideQuickAdd:e.catalogConfig?.hideQuickAdd,primaryBundledStoreUuid:e.primaryBundledStoreUuid,hasLazyloadOverflowContainer:e.catalogConfig?.hasLazyloadOverflowContainer},`${o}-${r}`)};if(!f||!F)return null;const Ve=ee.length>re,Fe=t=>{e.registerSubsectionRef&&t&&N&&e.registerSubsectionRef(N,t)};switch(F){case"HORIZONTAL_GRID":{if(!S)return null;const{title:t,titleV2:i,subtitle:r,storeHeader:o}=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.title,r=e.titleV2,o=e?.subtitle||null,a=e.storeHeader;const n=e.catalogSectionHeaderPayload;if(t&&Boolean(n))switch(n?.type){case ye.D.standardHeaderPayload:i=void 0,r=n?.standardHeaderPayload?.title,o=n?.standardHeaderPayload?.subtitle||null,a=void 0;break;case ye.D.storeHeaderPayload:i=void 0,r=n?.storeHeaderPayload?.title,o=n?.storeHeaderPayload?.subtitle||null,a={title:n?.storeHeaderPayload?.title,subtitle:n?.storeHeaderPayload?.subtitle,headerIcon:n?.storeHeaderPayload?.headerIcon,headerImageUrl:n?.storeHeaderPayload?.headerImageUrl,storeUuid:n?.storeHeaderPayload?.storeUuid};break;case ye.D.bannerHeaderPayload:i=void 0,r=n?.bannerHeaderPayload?.title,o=n?.bannerHeaderPayload?.subtitle||null,a=void 0}return{title:i,titleV2:r,subtitle:o,storeHeader:a}}(S,m),a=e.catalogConfig?.isSharedDesign||!1;return(0,C.BX)("li",{ref:Fe,children:[e.catalogConfig?.renderSectionSeparator&&e.catalogIndex>0?e.catalogConfig.renderSectionSeparator():null,(0,C.tZ)(l.ZP,{children:(0,C.tZ)(l.Ly,{children:(0,C.tZ)(v,{title:t,titleV2:i,subtitle:r,showPaginationButtons:Ve,backwardEnabled:!Be,forwardEnabled:!Re,onPageChange:Te,viewAllLocation:Ie,storeUuid:b,catalogSectionType:F,ctaMetadataLabel:S.ctaMetadata?.ctaLabel,storeHeader:o,showHeaderCTA:U,primaryBundledStoreUuid:e.primaryBundledStoreUuid,children:(0,C.tZ)(be,{ref:Pe,$supportsScrollSnapping:Ee,onScroll:Xe,children:Me.map(((e,t,i)=>(0,C.tZ)(Ce,{$pageMargin:a?0:24,$pageWidth:a?Ue(Ge.length):void 0,$padding:a?"16px 0px 16px 16px":"16px",...De(t,i.length),children:(0,C.tZ)(l.ZP,{$as:"ul",$numColumns:re,$gridColumGap:a?16:24,children:e})},t)))})})})})]})}case"BUNDLE_STORE":return He&&j?(0,C.tZ)(fe,{$marginTop:24,ref:Fe,children:(0,C.tZ)(de.Z,{bundleStorePayload:j,catalogSectionType:F,storeUuid:b,catalogSectionUuid:N,quickAddDisabled:G,isOpen:h,quickAddSource:e.catalogConfig?.quickAddSource,syncToCart:L,showQuickViewEntryPoint:ne,redirectToQuickViewModal:Ze,itemStyleMetadata:Ae,surface:Z,isGrocery:e.isGrocery,showQuickViewSeeDetailsCTA:ve,onLowAvailabilityAlternateItemClick:e.catalogConfig?.analyticsConfig?.onLowAvailabilityAlternateItemClick,...e.catalogConfig?.analyticsConfig?.onCatalogSectionItemClick?{onCatalogItemClickEvent:e.catalogConfig.analyticsConfig.onCatalogSectionItemClick}:{}})}):null;case"VERTICAL_GRID":return(0,C.BX)(fe,{ref:Fe,children:[(0,C.tZ)(I.Z,{catalogSection:e.catalogSection,baseFont:"DisplayBold4XSmall"}),(0,C.tZ)(x.ZP,{$height:16}),ke.length?(0,C.tZ)(Se,{$displayType:"GRID",$columnsPerRow:oe,children:(ke||[]).map(qe)}):we.length?(0,C.tZ)(C.HY,{children:(0,C.tZ)(Se,{$displayType:"LIST",$columnsPerRow:oe,children:we.map(((i,r)=>{const o=i?.uuid,a=i?.sectionUuid,n=i?.subsectionUuid;if(!(i&&o&&a&&n))return null;const l=B[o]??0,s=L||_[o],c=H[o]??(0,k.bN)(),u=Ze?(0,A.f_e)(t,{storeUuid:b,sectionUuid:a,subsectionUuid:n,itemUuid:o,showSeeDetailsCTA:ve,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:p,entryPoint:$}}):void 0;return(0,C.tZ)(d.Z,{resultIndex:r,storeUuid:b,sectionUuid:a,subsectionUuid:n,item:i,catalogSectionType:F,catalogSectionAnalyticsData:W,spanCountMultiplier:4===Qe?2:1,cartItemCount:l,syncItemQuantity:Boolean(s),quickAddCount:c,quickAddDisabled:G,quickAddSource:e.catalogConfig?.quickAddSource,isOpen:h,showQuickViewEntryPoint:ne,itemUrl:u,...e.catalogConfig?.analyticsConfig?.onCatalogSectionItemClick?{onCatalogItemClickEvent:e.catalogConfig.analyticsConfig.onCatalogSectionItemClick}:{},surface:Z,isGrocery:e.isGrocery},`${o}-${r}`)}))})}):null]});case"AD_CANVAS":{if(!Y)return null;const t=Y.adsExperimentalStorePayload?.parent;if(!t||"REGULAR_CAROUSEL"!==t.template)return null;const i=(Y.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return(0,C.tZ)(fe,{children:(0,C.tZ)(D.Z,{canvasParent:t,canvasChildren:i,numGridItemsPerRow:re,storeUuid:b,catalogIndex:e.catalogIndex})})}case"ACTIVE_CART":return K?(0,C.tZ)(fe,{children:(0,C.tZ)(le,{activeCartPayload:K,catalogIndex:e.catalogIndex,storeUuid:b})}):null;case"AISLE_SHORTCUTS":return(0,C.tZ)(me.Z,{title:J?.title,aisleShortcutItems:J?.aisleShortcutItems,sectionUuid:r||"",catalogIndex:e.catalogIndex});default:return null}};var ve=i(76449),xe=i(45481),Ie=i(42751),ke=i(73448);const we=(0,r.zo)("ul",{listStyle:"none"}),$e=(0,r.zo)("div",{width:"100%"}),Ae=e=>{let{store:t,catalogSections:i,registerSubsectionRef:r,isGrocery:o,catalogConfig:a,primaryBundledStoreUuid:n,primaryDraftOrderUUID:l}=e;const d=t.catalogSectionsMap,s=t.supportedDiningModes.some((e=>"SHIPMENT"===e.mode));return(0,ve.Z)(t.uuid,i),d&&i.length?(0,C.tZ)($e,{children:(0,C.tZ)(we,{children:(0,C.tZ)(ke.Z,{condition:Boolean(a?.virtualListScrollEl),wrapper:e=>(0,C.tZ)(Ie.ZP,{overflow:"visible",scrollEl:a?.virtualListScrollEl,calculateHeight:(e,t)=>a?.virtualListCalculateHeight?a.virtualListCalculateHeight(t):"dynamic",children:e}),children:i.filter(Q.fg).map(((e,i)=>"EATER_MESSAGE"===e.type&&e.payload?(0,C.tZ)(xe.Z,{catalogSection:e.payload,feedIndex:i,isShipmentStore:s,isGrocery:o},"eaterMessage"):(0,C.tZ)(Ze,{store:t,catalogSection:e,registerSubsectionRef:r,isGrocery:o,catalogConfig:a,catalogIndex:i,primaryBundledStoreUuid:n,primaryDraftOrderUUID:l},i)))})})}):null};Ae.displayName="StoreDesktopCatalogSection";const Pe=Ae},21866:(e,t,i)=>{i.d(t,{Z:()=>U});var r=i(66931),o=i(91931),a=i(96911),n=i(31913),l=i(29217),d=i(93995),s=i(45655),c=i(34911),u=i(33990);const g=(0,o.zo)("div",{display:"block",position:"relative"}),m=(0,o.w1)(r.im,{overflowY:"hidden",margin:"-16px"}),p=(0,o.w1)(r.T3,(e=>{let{$theme:t,$padding:i}=e;return{padding:i||t.sizing.scale600,display:"block",boxSizing:"border-box"}})),h=(0,o.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}),y=(0,o.zo)("div",{display:"flex",flexDirection:"column"}),f=(0,o.zo)("h4",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall}})),S=(0,o.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentTertiary}})),b=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{alignSelf:"flex-end",padding:t.sizing.scale200}})),C=24,U=e=>{let{canvasParent:t,canvasChildren:i,title:r,subtitle:o,numGridItemsPerRow:U,storeUuid:Z,catalogIndex:v,withPaginationControls:x=!1,columnGap:I=C,storeCardImageEdge:k}=e;const{containerRef:w,getPageChunks:$,getPageProps:A,supportsScrollSnapping:P,handlePageChange:z,isPreviousPageDisabled:D,isNextPageDisabled:B}=(0,a.Z)({scrollOffset:24}),R=$((i||[]).map(((e,i)=>(0,u.tZ)(s.Z,{canvasData:e,canvasParent:t,surfaceUuid:Z,index:i,imageEdge:k},i))).filter(Boolean),U),T=(i?.length||0)>U;return(0,u.tZ)(d.Z,{canvasParent:t,storeUuid:Z,catalogIndex:v,children:(0,u.BX)(g,{children:[(0,u.BX)(h,{children:[(0,u.BX)(y,{children:[r?(0,u.tZ)(f,{children:r}):"label"===t.title?.type?(0,u.tZ)("div",{children:(0,u.tZ)(n.ZP,{text:t.title?.label?.richText})}):null,o?(0,u.tZ)(S,{children:o}):null]}),x&&T?(0,u.tZ)(b,{children:(0,u.tZ)(c.Z,{backwardEnabled:!D,forwardEnabled:!B,onPageChange:z})}):null]}),(0,u.tZ)(m,{ref:w,$supportsScrollSnapping:P,children:R.map(((e,t,i)=>(0,u.tZ)(p,{$pageMargin:24,$padding:"16px",...A(t,i.length),children:(0,u.tZ)(l.ZP,{$as:"ul",$numColumns:U,$gridColumGap:I,children:e})},t)))})]})})}},65810:(e,t,i)=>{i.d(t,{Z:()=>O});var r=i(36151),o=i(81149),a=i(91931),n=i(29194),l=i(62091),d=i(24217),s=i(89400),c=i(31913),u=i("__fusion__969"),g=i(36278),m=i(57578),p=i(79250),h=i(87444),y=i(32762),f=i(54669),S=i(87763),b=i(56174),C=i(7432),U=i(33990);const Z=158,v=145,x=(0,a.zo)("div",(e=>({display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",overflow:"visible"}))),I=(0,a.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),k=(0,a.zo)("div",(e=>{let{$theme:t,$direction:i,$isStoreOfdRedesignXpEnabled:r}=e;return{display:"flex",flex:1,...r?{padding:`${t.sizing.scale600} ${t.sizing.scale600} ${t.sizing.scale500} ${t.sizing.scale600}`}:{paddingBottom:t.sizing.scale300,..."ltr"===i?{paddingRight:t.sizing.scale300}:{paddingLeft:t.sizing.scale300}},flexDirection:"column",width:"100%"}})),w=(0,a.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:i}=e;return{paddingTop:t.sizing.scale100,display:"-webkit-box",WebkitLineClamp:i?2:4,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word",flex:"none"}})),$=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale100,display:"flex",alignItems:"center",flexWrap:"wrap"}})),A=(0,a.zo)("div",(e=>{let{$isStoreOfdRedesignXpEnabled:t}=e;return{height:`${t?v:Z}px`,...t?{width:`${t?v:Z}px`}:{width:"100%",flex:"0 47%"},overflow:"hidden",position:"relative"}})),P=(0,a.zo)(l.Z,(e=>({opacity:e.$loaded?e.$isAvailable?1:.5:0,height:`${e.$isStoreOfdRedesignXpEnabled?v:Z}px`,width:"100%",objectFit:e.$isGrocery?"contain":"cover",outline:`1px solid ${e.$theme.colors.contentPrimary}08`,...e.$isStoreOfdRedesignXpEnabled?null:{transform:e.$isHovering?"scale(1.1)":"scale(1)",transition:"transform 0.5s ease-in-out"},flexShrink:0}))),z=(0,a.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:i}=e;return{...i?{...t.typography.LabelSmall,color:t.colors.contentPositive,overflow:"hidden"}:{...t.typography.LabelXSmall,background:t.colors.signpost,color:t.colors.onSignpost,padding:"4px 8px",borderRadius:"12px",textOverflow:"ellipsis",maxWidth:"90%",overflow:"auto"},boxSizing:"border-box",width:"fit-content"}})),D=(0,a.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:i}=e;return{boxSizing:"border-box",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",...i?{...t.typography.ParagraphSmall,display:"inline-flex",color:t.colors.contentPrimary}:{...t.typography.LabelXSmall,color:t.colors.buttonSecondaryText,borderRadius:t.sizing.scale500,height:t.sizing.scale800,padding:`${t.sizing.scale100} ${t.sizing.scale300}`,display:"flex",background:t.colors.buttonSecondaryFill},alignItems:"center"}})),B=(0,a.zo)("div",{display:"flex",flex:1,flexDirection:"row"}),R=(0,a.zo)("div",{marginTop:"4px"}),T="LabelMedium",E="ParagraphSmall",O=e=>{let{item:t,children:i,isHovering:a,isGrocery:l,isVirtualized:O}=e;const L=(0,f.Z)(),[X,_]=(0,r.useState)(!1),H=(0,n.gm)(),{itemRatingTreatmentName:G}=(0,p.F)(),M=(0,h.Z)("cpg_ads_storefront_sponsored_items_enabled"),Q=(0,r.useMemo)((()=>(0,m.xZ)(t,G)),[t,G]),q=t.isAvailable??!0,{desktopFeatures:V,isStoreOfdRedesignXpEnabled:F}=(0,y.Z)(),N=!l&&Boolean(O)?1:3;return(0,U.BX)(x,{children:[(0,U.BX)(B,{children:[(0,U.tZ)(k,{$direction:H,$isStoreOfdRedesignXpEnabled:F,children:t.itemThumbnailElements?(0,U.tZ)(b.Z,{elements:t.itemThumbnailElements}):(0,U.BX)(U.HY,{children:[(0,U.tZ)(S.Z,{clamp:N,typographyKey:T,children:t.headingPrimary?(0,U.tZ)(c.ZP,{text:t.headingPrimary}):t.titleBadge?(0,U.tZ)(s.Z,{badge:t.titleBadge,baseFont:T}):null}),t.priceTagline&&!t.labelPrimary?(0,U.tZ)($,{children:(0,U.tZ)(s.Z,{badge:t.priceTagline,baseFont:E})}):null,t.labelPrimary?(0,U.tZ)($,{children:(0,U.tZ)(c.ZP,{text:t.labelPrimary})}):null,t?.labelTertiary&&M?(0,U.tZ)($,{children:(0,U.tZ)(c.ZP,{text:t.labelTertiary})}):null,t.itemDescription?(0,U.tZ)(w,{$isStoreOfdRedesignXpEnabled:F,children:(0,U.tZ)(s.Z,{badge:t.itemDescriptionBadge,baseFont:E})}):null,t.promoInfo?(0,U.tZ)($,{children:(0,U.tZ)(c.ZP,{text:t.promoInfo?.promoInfoLabel})}):null,t.endorsement&&Q?(0,U.tZ)(R,{children:t.endorsement.textBorder?(0,U.tZ)(z,{$isStoreOfdRedesignXpEnabled:F,children:t.endorsement.text}):(0,U.BX)(D,{children:["confidence_builders_eater_endorsed"===t.endorsementAnalyticsTag&&Q?(0,U.BX)(U.HY,{children:[(0,U.tZ)(u.default,{}),(0,U.tZ)(g.Q3,{})]}):null,Q]})}):null]})}),t.imageUrl||F?(0,U.tZ)(A,{$isStoreOfdRedesignXpEnabled:F,children:t.imageUrl?(0,U.BX)(U.HY,{children:[(0,U.tZ)(o.ZP,{height:F?v:Z,offset:1200,once:!0,children:(0,U.tZ)(d.Z,{src:t.imageUrl,children:(0,U.tZ)(P,{$isStoreOfdRedesignXpEnabled:F,$isAvailable:q||!L&&V.hasNewInStoreSearch,src:t.imageUrl||"",alt:t.title||"","aria-hidden":!0,$isHovering:!1,$isGrocery:Boolean(l),$loaded:X,loading:"lazy",decoding:"async",onLoad:()=>_(!0)})})}),t.imageOverlayElements?(0,U.tZ)(C.Z,{elements:t.imageOverlayElements}):(0,U.tZ)(I,{})]}):null}):null]}),i]})}},50912:(e,t,i)=>{i.d(t,{Z:()=>D});var r=i(43193),o=i(91931),a=i(65810),n=i(29217),l=i(47986),d=i(91631),s=i(62149),c=i(47091),u=i(29495),g=i(10400),m=i(32562),p=i(78979),h=i(36278),y=i(77361),f=i(33535),S=i(85907),b=i(16797),C=i(40416),U=i(75514),Z=i(84272),v=i(74031),x=i(4864),I=i(32762),k=i(52246),w=i(55365),$=i(33990);const A=(0,o.w1)(n.bL,(e=>{let{$spanCount:t,$theme:i,$isStoreOfdRedesignXpEnabled:r}=e;return{gridColumn:`span ${Math.min(2,t)}`,position:"relative",...r?{border:`1px solid ${i.colors.borderOpaque}`,borderRadius:i.borders.radius400,overflow:"hidden"}:{":hover":{margin:"-8px",padding:"8px",boxShadow:i.shadows.filterCard,transition:"box-shadow 0.3s ease-in-out"}}}})),P=(0,o.zo)(k.rU,(e=>{let{$isStoreOfdRedesignXpEnabled:t}=e;return{display:"flex",flex:1,textDecoration:"none",cursor:"pointer",...t?{height:"auto",alignItems:"stretch"}:null,[c.k]:{height:"158px"}}})),z=(0,o.zo)("div",(e=>{let{$quickAddPosition:t,$theme:i}=e;return{position:"absolute",right:i.sizing.scale300,display:"flex",alignItems:"center",flexDirection:"row",...t===g.oN.BOTTOM_TRAILING?{bottom:i.sizing.scale300}:{top:i.sizing.scale300}}})),D=e=>{const t=(0,d.UO)(),i=(0,d.k6)(),o=(0,s.TH)(),n=(0,f.ZP)(),{setRestoreScrollPosition:c}=(0,C.Z)(),{primaryBundledStoreUuid:g,primaryDraftOrderUUID:k}=(0,Z.Z)(),{storeCatalogSections:D}=(0,l.RAN)(o,["storeCatalogSections"]),B=(0,S.F)(e.surface),R={storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",endorsementAnalyticsTag:e.item.endorsementAnalyticsTag||"",itemPosition:e.item.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0,itemDisplayType:e.item.displayType||"",catalogSectionType:e.catalogSectionType,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,analyticsLabel:e.item.analyticsLabel||"",...D?{originalCatalogSectionUuid:D}:null}},T=e.itemUrl??(0,l.yz4)({location:o,args:{...(0,l.WxO)(t),sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",...g&&{primaryBundledStoreUuid:g,primaryDraftOrderUUID:k,entryPoint:B}},previousContext:B}),E=e.item.quickAddConfig,O=E?.position,L=(0,p.Z)()&&(E?.shouldShow??!0)&&e.isOpen&&Boolean(e.item.isAvailable),X=e.item.spanCount||1,_=r.useRef(null),H=(0,x.ZP)(e.item.uuid||""),G=e.cartItemCount??H,{isStoreOfdRedesignXpEnabled:M}=(0,I.Z)(),Q=(0,m.Z)(_)&&!M,q=(0,w.Z)(R),V=r.useMemo((()=>({catalogSection:e.catalogSectionAnalyticsData})),[e.catalogSectionAnalyticsData]);return(0,$.tZ)(A,{ref:_,"data-test":`store-item-${e.item.uuid}`,$as:"li",$isStoreOfdRedesignXpEnabled:M,$spanCount:X*e.spanCountMultiplier,children:(0,$.tZ)(P,{tabIndex:0,ref:q,to:T,onClick:t=>{U.Z&&c(U.Z.scrollY),t.metaKey||t.ctrlKey||(t.preventDefault(),n("eats:store_catalog_item_tap",R),e.item.itemAd&&n("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:b.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:null===e.storeUuid?void 0:e.storeUuid}}),e.emitPickedForYouSectionItemEvent?.(R),e.onCatalogItemClickEvent?.({storeUuid:e.storeUuid,itemUuid:e.item.uuid||"",position:e.resultIndex||0}),i.push(T))},$isStoreOfdRedesignXpEnabled:M,children:(0,$.tZ)(a.Z,{item:e.item,isHovering:Q,isGrocery:e.isGrocery,isVirtualized:Boolean(e.isVirtualized),children:(0,$.BX)(z,{$quickAddPosition:O,children:[e.showQuickViewEntryPoint&&e.item.uuid?(0,$.tZ)(y.Z,{isHovering:Q,item:e.item,itemUuid:e.item.uuid,storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,surface:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}):null,L?(0,$.BX)($.HY,{children:[e.showQuickViewEntryPoint?(0,$.tZ)(h.sA,{}):null,(0,$.tZ)(u.Z,{isInteractionEnabled:E?.isInteractionEnabled??!0,storeUUID:e.storeUuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,item:e.item,cartItemCount:e.cartItemCount,syncItemQuantity:e.syncItemQuantity,quickAddCount:e.quickAddCount,disabled:e.quickAddDisabled,quickAddSource:e.quickAddSource,sourceType:e.surface,analytics:V})]}):G?(0,$.BX)($.HY,{children:[e.showQuickViewEntryPoint?(0,$.tZ)(h.sA,{}):null,(0,$.tZ)(v.Z,{count:G})]}):null]})})})},e.item.uuid)}},83403:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(75514);function o(e){if(r.Z)try{r.Z.scrollTo(e)}catch(t){r.Z.scrollTo(0,e.top)}}}}]);