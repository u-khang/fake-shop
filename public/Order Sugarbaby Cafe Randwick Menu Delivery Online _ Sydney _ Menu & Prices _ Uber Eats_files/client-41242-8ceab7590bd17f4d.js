(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[41242,74070],{__fusion__696:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var o=r(36151),n=r(33990);const i=o.forwardRef((function(e,t){let{title:r="Circle i",titleId:o,size:i="1em",...a}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o,...a,children:[void 0===r?(0,n.tZ)("title",{id:o,children:"Circle i"}):r?(0,n.tZ)("title",{id:o,children:r}):null,(0,n.tZ)("path",{d:"M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1Zm1.5 18h-3v-8h3v8ZM12 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z",fill:"currentColor"})]})}))},67848:(e,t,r)=>{"use strict";r.d(t,{j:()=>C});var o=r(32857),n=r(68065),i=r(92300),a=r(79810),l=r(41491);const s=(0,a.zo)("div",(e=>{let{$theme:t,$backgroundColor:r,$color:o,$nested:n}=e;const i=n?t.borders.radius300:t.borders.radius400;return{backgroundColor:r,borderStartStartRadius:i,borderStartEndRadius:i,borderEndStartRadius:i,borderEndEndRadius:i,color:o,display:"grid",gridColumnGap:t.sizing.scale600,gridTemplateColumns:"min-content auto min-content",gridTemplateRows:"auto minmax(0, min-content)",marginTop:t.sizing.scale600,marginRight:t.sizing.scale600,marginBottom:t.sizing.scale600,marginLeft:t.sizing.scale600}}));s.displayName="StyledRoot";const d=(0,a.zo)("div",(e=>{let{$theme:t,$includesArtwork:r}=e;return{alignItems:"center",display:"flex",paddingInlineStart:r?t.sizing.scale600:null}}));d.displayName="StyledLeadingContent";const c=(0,a.zo)("div",(e=>{let{$theme:t,$actionPosition:r}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",paddingBlockStart:t.sizing.scale600,paddingBlockEnd:r===l.LZ.trailing?t.sizing.scale600:null}}));c.displayName="StyledMessageContent";const u=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",gridRowEnd:"span 2",marginInlineStart:"auto"}}));u.displayName="StyledTrailingContent";const h=(0,a.zo)("div",(e=>{let{$theme:t,$actionPosition:r}=e;return{gridColumnStart:2,paddingBlockStart:r===l.LZ.below?t.sizing.scale300:null,paddingBlockEnd:r===l.LZ.below?t.sizing.scale600:null}}));h.displayName="StyledBelowContent";const p=(0,a.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium}));p.displayName="StyledTitle";const g=(0,a.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium}));g.displayName="StyledMessage";const m=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",paddingInlineEnd:t.sizing.scale600}}));m.displayName="StyledTrailingButtonContainer";const Z=(0,a.zo)("button",(e=>{let{$theme:t,$nested:r}=e;const o=r?t.borders.radius300:t.borders.radius400;return{alignItems:"center",background:"none",border:"none",borderStartEndRadius:o,borderEndEndRadius:o,color:"inherit",cursor:"pointer",display:"flex",paddingInlineStart:t.sizing.scale600,paddingInlineEnd:t.sizing.scale600,":hover":{boxShadow:"inset 999px 999px 0px rgba(0, 0, 0, 0.04)"},":active":{boxShadow:"inset 999px 999px 0px rgba(0, 0, 0, 0.08)"}}}));Z.displayName="StyledTrailingIconButton";var f=r(33990);function b(e){let{artwork:t}=e;const[,r]=(0,a.hQ)();if(!t)return null;const o=t.type===l.Tz.badge?r.sizing.scale1000:r.sizing.scale800;return t.icon({size:o})}function y(e){let{action:t,backgroundColor:r,color:i}=e;return t&&t.position===l.LZ.below&&t.label?(0,f.tZ)(o.Z,{colors:{backgroundColor:r,color:i},onClick:t.onClick,size:n.NO.compact,shape:n.X3.pill,children:t.label}):null}function v(e){let{action:t,backgroundColor:r,color:s,overrides:d,nested:c}=e;const[,u]=(0,a.hQ)();if(!t||t.position&&t.position!==l.LZ.trailing)return null;const[h,p]=(0,i.jb)(d.TrailingIconButton,Z);if(t.icon)return(0,f.tZ)(h,{"aria-label":t.label,onClick:t.onClick,$nested:c,...p,children:t.icon({size:u.sizing.scale650})});const[g,b]=(0,i.jb)(d.TrailingButtonContainer,m);return t.label?(0,f.tZ)(g,{...b,children:(0,f.tZ)(o.Z,{colors:{backgroundColor:r,color:s},onClick:t.onClick,size:n.NO.compact,shape:n.X3.pill,overrides:{BaseButton:{style:{whiteSpace:"nowrap"}}},children:t.label})}):null}function C(e){let{action:t,artwork:r,children:o,hierarchy:n=l.T5.low,kind:m=l.TO.info,overrides:Z={},nested:C=!1,title:x}=e;const[,z]=(0,a.hQ)(),k=n===l.T5.high?function(e,t){switch(t){case l.TO.negative:return{actionBackgroundColor:e.colors.bannerActionHighNegative,backgroundColor:e.colors.backgroundNegative,color:e.colors.contentOnColor};case l.TO.positive:return{actionBackgroundColor:e.colors.bannerActionHighPositive,backgroundColor:e.colors.backgroundPositive,color:e.colors.contentOnColor};case l.TO.warning:return{actionBackgroundColor:e.colors.bannerActionHighWarning,backgroundColor:e.colors.backgroundWarning,color:e.colors.contentPrimary};case l.TO.info:default:return{actionBackgroundColor:e.colors.bannerActionHighInfo,backgroundColor:e.colors.backgroundAccent,color:e.colors.contentOnColor}}}(z,m):function(e,t){switch(t){case l.TO.negative:return{actionBackgroundColor:e.colors.bannerActionLowNegative,backgroundColor:e.colors.backgroundNegativeLight,color:e.colors.contentPrimary};case l.TO.positive:return{actionBackgroundColor:e.colors.bannerActionLowPositive,backgroundColor:e.colors.backgroundPositiveLight,color:e.colors.contentPrimary};case l.TO.warning:return{actionBackgroundColor:e.colors.bannerActionLowWarning,backgroundColor:e.colors.backgroundWarningLight,color:e.colors.contentPrimary};case l.TO.info:default:return{actionBackgroundColor:e.colors.bannerActionLowInfo,backgroundColor:e.colors.backgroundAccentLight,color:e.colors.contentPrimary}}}(z,m),$=t&&t.position?t.position:l.LZ.trailing,[B,w]=(0,i.jb)(Z.Root,s),[I,S]=(0,i.jb)(Z.LeadingContent,d),[_,T]=(0,i.jb)(Z.MessageContent,c),[P,O]=(0,i.jb)(Z.TrailingContent,u),[U,M]=(0,i.jb)(Z.BelowContent,h),[L,D]=(0,i.jb)(Z.Title,p),[H,E]=(0,i.jb)(Z.Message,g),X=w.hasOwnProperty("aria-label")?w["aria-label"]:"this is an announcement banner";return(0,f.BX)(B,{$backgroundColor:k.backgroundColor,$color:k.color,$nested:C,...w,role:"complementary","aria-label":X,children:[(0,f.tZ)(I,{$includesArtwork:Boolean(r),...S,children:(0,f.tZ)(b,{artwork:r})}),(0,f.BX)(_,{$actionPosition:$,...T,children:[Boolean(x)&&(0,f.tZ)(L,{...D,children:x}),Boolean(o)&&(0,f.tZ)(H,{...E,children:o})]}),(0,f.tZ)(P,{...O,children:(0,f.tZ)(v,{action:t,backgroundColor:k.actionBackgroundColor,color:k.color,overrides:Z,nested:C})}),(0,f.tZ)(U,{$actionPosition:$,...M,children:(0,f.tZ)(y,{action:t,backgroundColor:k.actionBackgroundColor,color:k.color})})]})}},41491:(e,t,r)=>{"use strict";r.d(t,{LZ:()=>o,T5:()=>i,TO:()=>a,Tz:()=>n});const o=Object.freeze({below:"below",trailing:"trailing"}),n=Object.freeze({icon:"icon",badge:"badge"}),i=Object.freeze({low:"low",high:"high"}),a=Object.freeze({info:"info",negative:"negative",positive:"positive",warning:"warning"})},81984:(e,t,r)=>{"use strict";r.d(t,{a:()=>C,Z:()=>x});var o=r(44126),n=r(83960),i=r(52246),a=r(62149),l=r(46933),s=r(79908),d=r(36278),c=r(47986),u=r(7646),h=r(33990);const p=()=>{const e=(0,a.TH)();return(0,h.BX)(u.Bi,{$as:i.rU,to:(0,c.vN_)(e,"shareGroupOrder"),children:[(0,h.tZ)(s.Z,{type:"People",width:"16px",height:"16px"}),(0,h.tZ)(d.sA,{}),(0,h.tZ)(l.v,{id:"go.add_people"})]})};var g=r(64388),m=r(70247),Z=r(33967),f=r(52298),b=r(50882),y=r(52692),v=r(91793);const C=e=>{let{gutterWidth:t}=e;return(0,h.tZ)(y.Z,{$margin:`0 ${-1*(t||0)}px`,$height:"1px"})},x=e=>{let{showAddGuestsBtn:t=!0,...r}=e;const{isDraftOrderCreator:i}=(0,n.Z)(),{serverCart:l}=(0,m.iQ)(),{store:s}=(0,g.ZP)(l.data?.storeUuid),d=(0,Z.Z)(),u=(0,a.TH)();return(0,h.BX)(h.HY,{children:[t?(0,h.BX)(h.HY,{children:[(0,h.tZ)(f.ZP,{$height:16}),(0,h.tZ)(p,{})]}):null,(0,h.tZ)(o.Z,{storeUuid:s.data?.uuid||"",storeSlug:s.data?.slug||"",gutterWidth:r.gutterWidth||0,updateItemQuantity:d,getItemClickUrl:(e,t)=>i||t?(0,c.lVP)(u,{itemUuid:e.shoppingCartItemUuid}):(0,c.yz4)({location:u,args:{storeUuid:s.data?.uuid||"",storeSlug:s.data?.slug||"",sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.uuid}}),startUserCartExpanded:r.startUserCartExpanded}),(0,h.tZ)(b.Z,{store:s}),(0,h.tZ)(f.ZP,{$height:48}),(0,h.tZ)(v.Z,{})]})}},21685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var o=r(52246),n=r(46933),i=r(91931),a=r(79908),l=r(36151),s=r(71110),d=r(7646),c=r(83118),u=r(26786),h=r(33535),p=r(83960),g=r(72179),m=r(47986),Z=r(49201),f=r(94579),b=r(62149),y=r(33990);const v={1:(0,s.pZ)(r(2643)),2:(0,s.pZ)(r(42881)),3:(0,s.pZ)(r(35781))},C=(0,i.w1)(d.Bi,(e=>{let{$theme:t,$isSelected:r,$inCheckoutDraft:o}=e;return{...(0,u.U)({$theme:t}),...r?{background:t.colors.buttonPrimaryFill,color:t.colors.buttonPrimaryText,":hover":{background:t.colors.buttonPrimaryHover}}:{background:o?t.colors.backgroundSecondary:t.colors.backgroundTertiary}}})),x=(0,i.zo)("div",{position:"relative"}),z=(0,i.zo)("div",{position:"absolute",zIndex:f.I_.foreground,top:"calc(50% - 50px)",left:"calc(50% - 50px)",width:"100px",height:"100px"});const k=function(e){let{userTipSelection:t,tipPayload:r,updateTipOption:i}=e;const a=(0,h.ZP)(),s=(0,b.TH)(),{isEditOrder:d,isDraftOrderParticipant:u}=(0,p.Z)(),{options:f,customTipOption:k}=r,$=new Set(f.map((e=>e.percent))).size>1,B=f.find((e=>t?$?t.percent===e.percent:t.amount?.amountE5&&(0,Z.Xu)(t.amount?.amountE5).low===e.amount:e.isSelectedTip)),w=t&&!B||!t&&Boolean(k?.isSelectedTip),[I,S]=(0,l.useState)(!1),_=(0,l.useCallback)((()=>{S(!1)}),[]),{inCheckoutDraft:T}=(0,g.Z)();return f?(0,y.BX)(y.HY,{children:[(0,y.tZ)(y.HY,{children:f.map(((e,t)=>(0,y.BX)(x,{children:[(0,y.tZ)(C,{"data-testid":"tipping-option","aria-label":e.displayText,$isSelected:B===e,$inCheckoutDraft:T,onClick:()=>{B!==e&&(i(e),S(!0),a("eats:click_tips_module",{option:e.displayText||"",isEditScheduledOrder:d,isGroupOrderParticipant:u}))},children:e.displayText}),I&&v[t]&&B===e?(0,y.tZ)(z,{children:(0,y.tZ)(c.Z,{animationUrl:v[t],onComplete:_})}):null]},t)))}),k?(0,y.tZ)(y.HY,{children:(0,y.tZ)(C,{"data-test":"tip-custom","data-testid":"tip-custom",$as:o.rU,"aria-label":k.displayText,$isSelected:w,$inCheckoutDraft:T,to:(0,m.vN_)(s,"otherTip"),onClick:()=>{a("eats:click_tips_module",{option:"custom",isEditScheduledOrder:d,isGroupOrderParticipant:u})},children:(0,y.tZ)(n.v,{id:"components.checkout.other_tip"})})}):null]}):null};var $=r(64185),B=r(27330),w=r(36278),I=r(40606),S=r(97931),_=r(15070),T=r(27871),P=r(15649),O=r(19912),U=r(1938);const M=(0,i.zo)("div",(()=>({display:"flex",flexDirection:"column"}))),L=(0,i.zo)("div",{display:"flex"}),D=(0,i.zo)("div",{display:"flex",alignItems:"center",flex:1}),H=(0,i.zo)("h2",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),E=(0,i.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),X=(0,i.zo)("div",{display:"flex",whiteSpace:"nowrap",flexWrap:"wrap",gap:"8px",marginTop:"8px"}),R=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary}}));function j(e){const t=(0,b.TH)(),r=(0,P.Z)(),i=(0,T.B0)("upfrontTipping"),l=(0,_.v)((e=>{let{draftOrder:t}=e;return t.userState?.upfrontTipOption})),s=(0,O.Z)({eventName:"eats:tips_details_impression",intersectionObserverProps:{threshold:.75}});return(0,y.BX)(M,{ref:s,children:[(0,y.BX)(L,{children:[(0,y.BX)(D,{children:[(0,y.tZ)(H,{children:(0,y.tZ)(n.v,{id:"components.checkout.add_a_tip"})}),e.tipPayload.infoSheet&&(0,y.BX)(y.HY,{children:[(0,y.tZ)(w.ZP,{$width:"12px"}),(0,y.tZ)(o.rU,{to:(0,m.vN_)(t,"tipInfo"),children:(0,y.tZ)(a.Z,{type:"Information",width:"16px",height:"16px",color:"contentTertiary"})})]})]}),e.isAutoSubmitCheckout?null:(0,y.tZ)(I.Z,{source:i,loaded:e=>(0,y.tZ)(E,{children:(0,U.C)(e,r)}),error:()=>null,loading:()=>(0,y.tZ)(S.zY,{width:"64px"})})]}),e.tipPayload?.educationText?(0,y.tZ)(R,{children:e.tipPayload?.educationText}):null,(0,y.tZ)(B.Z,{children:t=>{let{updateTipOption:r}=t;return(0,y.tZ)(X,{children:(0,y.tZ)(k,{tipPayload:e.tipPayload,userTipSelection:l,updateTipOption:r})})}}),(0,y.tZ)($.Z,{})]})}},64185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var o=r(36151),n=r(14016),i=r(91931),a=r(79908),l=r(40606),s=r(27871),d=r(94579),c=r(33990);const u=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{margin:"16px 0",padding:"16px",minHeight:"48px",display:"flex",zIndex:d.I_.cover,background:t.colors.backgroundSecondary}})),h=(0,i.zo)("div",{height:"100%",display:"flex",flex:1}),p=(0,i.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentPrimary,display:"flex",width:"100%",height:"100%"}})),g=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{color:t.colors.contentPrimary,right:"16px",width:"32px",height:"100%",display:"flex",cursor:"pointer",borderRadius:t.borders.radiusFull}})),m=()=>{const e=(0,n.T)()("shared.close"),[t,r]=(0,o.useState)(!1),i=(0,s.CF)();return t?null:(0,c.tZ)(l.Z,{source:i,error:()=>null,loading:()=>null,loaded:t=>{const o=t?.checkoutPayloads?.upfrontTipping;return o?.inlineTipMessage?.message?(0,c.BX)(u,{children:[(0,c.tZ)(h,{children:(0,c.tZ)(p,{children:o?.inlineTipMessage?.message})}),(0,c.tZ)(g,{onClick:()=>{r(!0)},"aria-label":e,children:(0,c.tZ)(a.Z,{type:"Close"})})]}):null}})}},95444:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var o=r(36151),n=r(73518),i=r(33990);function a(e,t){return(0,i.tZ)(n.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm11 0a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM1 17v6h9V12H6c-2.8 0-5 2.2-5 5zm11 6v-6c0-2.8 2.2-5 5-5h6v11H12z"})})}const l=o.forwardRef(a)},43779:(e,t,r)=>{"use strict";r.d(t,{W:()=>h,Z:()=>p});var o=r(91931),n=r(62851),i=r(79908),a=r(29194),l=r(33990);const s=(0,o.zo)("div",{width:"100%",position:"relative"}),d=(0,o.w1)(n.U,(e=>{const t=e.$hasIcon?"48px":"16px";return{appearance:"none",padding:"ltr"===e.$direction?`12px 32px 12px ${t}`:`12px ${t} 12px 32px`,cursor:"pointer",outline:"none",...e.disabled?{color:e.$theme.colors.contentStateDisabled}:{":focus":{boxShadow:e.$theme.shadows.focusedInput}}}})),c=(0,o.zo)("div",(e=>({position:"absolute",top:"calc(50% - 12px)",pointerEvents:"none",..."ltr"===e.$direction?{left:"16px"}:{right:"16px"}}))),u=(0,o.zo)("div",(e=>({position:"absolute",top:"calc(50% - 12px)",pointerEvents:"none",..."ltr"===e.$direction?{right:"8px"}:{left:"8px"}}))),h=(0,o.zo)("option",(e=>{let{$theme:t}=e;return{background:t.colors.inputFill}})),p=e=>{const t=(0,a.gm)();return(0,l.BX)(s,{children:[e.iconType?(0,l.tZ)(c,{$direction:t,children:(0,l.tZ)(i.Z,{type:e.iconType})}):null,e.customIcon?(0,l.tZ)(c,{$direction:t,children:e.customIcon}):null,(0,l.tZ)(d,{$as:"select",$hasIcon:Boolean(e.iconType)||Boolean(e.customIcon),$direction:t,disabled:Boolean(e.disabled),value:e.value,...e["data-testid"]?{"data-testid":e["data-testid"]}:{},onChange:e.onChange,"aria-label":e.ariaLabel,children:e.children}),(0,l.tZ)(u,{$direction:t,children:(0,l.tZ)(i.Z,{type:"Chevron",rotate:180,...e.disabled?{color:"contentStateDisabled"}:{}})})]})}},27330:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(36151),n=r(15070),i=r(58984),a=r(70605),l=r(27871);const s=e=>{let{children:t}=e,{data:r}=(0,l.B0)("upfrontTipping");const s=(0,n.v)((e=>{let{checkout:t}=e;return t?.tip})),d=(0,i.I0)();void 0===r&&(r=null);return t({tip:o.useMemo((()=>function(e,t){if(null===e)return null;if(null!==t)return{amount:t?.amount,percent:t?.percent,isCustomTip:t?.isCustomTip};const r=(e?.options||[]).find((e=>e.isSelectedTip));return void 0!==r?{amount:r.amount,percent:r.percent,isCustomTip:r.isOther}:null}(r,s)),[r,s]),updateCustomTip:e=>{d((0,a.m0)(e))},updateTipOption:e=>{d((0,a.uW)(e))}})}},81231:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var o=r(79810),n=r(8639),i=r(26740),a=r(89217),l=r(31913),s=r(63036),d=r(91931),c=r(33990);const u=(0,d.zo)("div",(e=>{let{$width:t,$height:r}=e;return{...r?{height:`${r}px`}:{},...t?{width:`${t}px`}:{}}})),h=e=>{let{customArtwork:t}=e;if(t){const{illustration:e}=t.illustration;switch(e.type){case"icon":return(0,c.tZ)(a.SZ,{richIllustration:t.illustration});case"urlImage":{const r={...e.urlImage},o=r?.dimensions?(0,s.xq)(r?.dimensions?.height):r?.size?s.lf[r?.size]:0,n=r?.dimensions?(0,s.xq)(r?.dimensions?.width):r?.size?s.lf[r?.size]:0;return(0,c.tZ)(u,{$height:o,$width:n,children:(0,c.tZ)(a.SZ,{richIllustration:t.illustration})})}default:return null}}return null},p=e=>{switch(e){case"UNKNOWN":return;case"HIGH":return"high";case"LOW":default:return"low"}},g=e=>{switch(e){case"FAILURE":return"negative";case"INFO":return"info";case"SUCCESS":return"positive";case"WARNING":return"warning";case"UNKNOWN":return;default:return"info"}},m=e=>e?e.title?.richTextElements?e.title.richTextElements.map((e=>"text"===e.type&&e.text.text?.text||"")).join(" "):e.title?.accessibilityText?e.title?.accessibilityText:"":"",Z=e=>{let{viewModel:t,onClick:r,noMargin:s,overrides:d}=e;const{message:u,headline:Z,bannerColor:f,customArtwork:b,actionButton:y,hierarchy:v,bannerState:C,contentColor:x}=t,[,z]=(0,o.hQ)(),k=f?.type,$=(0,n.Lq)(f&&k?f[k]:null),B=x?.type,w=(0,n.Lq)(x&&B?x[B]:null);return(0,c.tZ)(i.jL,{hierarchy:p(v),kind:g(C),overrides:{Root:{style:{...$?{backgroundColor:z.colors[$]}:{},...w?{color:z.colors[w]}:{},...s&&{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}}},...d?.messageStyle?{Message:{style:{...d.messageStyle}}}:null},artwork:b?{icon:()=>(0,c.tZ)(h,{customArtwork:b})}:void 0,title:Z?(0,c.tZ)(l.ZP,{text:Z}):null,action:{onClick:r||(()=>{}),label:m(y),...y?.illustration?{icon:()=>(0,c.tZ)(a.SZ,{richIllustration:y?.illustration})}:{}},children:u?(0,c.tZ)(l.ZP,{text:u}):null})}},91793:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(91931),n=r(99863),i=r(27871),a=r(33990);const l=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentSecondary,display:"flex",flexDirection:"column",gap:"8px"}})),s=()=>{const{subTotalFareBreakdown:e}=(0,i.ZP)(["subTotalFareBreakdown"]).checkoutPayloads;return e?.charges?(0,a.tZ)(a.HY,{children:(0,a.tZ)(l,{children:(0,a.tZ)(n.Z1,{charges:e.charges,fareType:"subTotalFareBreakdown"})})}):null}},67135:(e,t,r)=>{"use strict";r.d(t,{J:()=>u});var o=r(59210),n=r(75161),i=r(91086),a=r(33259),l=r(34217),s=r(58679),d=r(5639),c=r(33990);const u=e=>{let{onClose:t,title:r,children:u,isAutoFocus:h}=e;return(0,d.hU)().isMobile?(0,c.BX)(s.R1,{onClose:t,autoFocus:h,children:[(0,c.tZ)(s._g,{children:r}),(0,c.tZ)(s.bd,{children:u})]}):(0,c.BX)(n.u_,{onClose:t,children:[(0,c.tZ)(i.xB,{isExpanded:!0,title:(0,c.tZ)(o.Jf,{margin:0,children:r}),leftButton:(0,c.tZ)(a.hQ,{onClick:t})}),(0,c.tZ)(l.f,{children:u})]})}},99863:(e,t,r)=>{"use strict";r.d(t,{A1:()=>E,Z1:()=>D,jH:()=>H});var o=r(43193),n=r(36151),i=r(52246),a=r("__fusion__696"),l=r("__fusion__1384"),s=r(91931),d=r(62149),c=r(47986),u=r(40606),h=r(52692),p=r(62091),g=r(89400),m=r(51640),Z=r(21685),f=r(97931),b=r(27871),y=r(66125),v=r(83960),C=r(38379),x=r(45474),z=r(5639),k=r(10015),$=r(33023),B=r(72179),w=r(33990);const I=(0,s.zo)("div",(e=>{let{$gap:t,$theme:r}=e;return{display:"flex",flexDirection:"column",gap:"sm"===t?r.sizing.scale300:r.sizing.scale600}})),S=(0,s.zo)("ul",{display:"flex",flexDirection:"column",gap:"8px"}),_=(0,s.zo)("li",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{...t.typography.ParagraphMedium,display:"flex",justifyContent:"space-between",alignItems:"center"}})),T=(0,s.zo)("div",(e=>{let{$theme:t,$isCartDrafting:r}=e;return{...r?{fontWeight:500}:{...t.typography.HeadingXSmall},display:"flex",justifyContent:"space-between"}})),P=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexDirection:"row",gap:t.sizing.scale200}})),O=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,paddingTop:t.sizing.scale300}})),U=(0,s.zo)(p.Z,(e=>{let{$theme:t}=e;return{width:t.sizing.scale800,height:t.sizing.scale800,borderRadius:"50%"}})),M=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",color:t.colors.contentInverseTertiary}})),L=e=>{let{infoBottomSheet:t,id:r}=e;const{isCartDrafting:o}=(0,B.Z)(),n=(0,d.TH)(),{isMobile:s}=(0,z.hU)(),u=o?(0,w.tZ)(l.default,{size:16}):(0,w.tZ)(a.default,{size:14}),h=t.secondaryButtonText&&t.url;return s||h?(0,w.tZ)(i.rU,{to:(0,c.vN_)(n,"orderChargeInfo",r),children:(0,w.tZ)(M,{children:u})}):(0,w.tZ)(x.xE,{content:(0,w.tZ)(C.y,{bottomSheet:t}),children:(0,w.tZ)(M,{children:u})})},D=e=>{let{charges:t,fareType:r}=e;const{isCartDrafting:n}=(0,B.Z)(),i=(0,b.B0)(r);return(0,w.tZ)(w.HY,{children:t.map(((e,t)=>{let{title:a,action:l,value:s,subCharges:d}=e;return a?(0,w.BX)(o.Fragment,{children:[(0,w.BX)(_,{children:[(0,w.BX)(P,{children:[a.iconUrl?(0,w.tZ)(U,{src:a.iconUrl}):null,(0,w.tZ)(g.Z,{baseFont:n?"ParagraphMedium":void 0,baseColor:n?"contentSecondary":void 0,badge:a}),l&&"infoBottomSheet"===l.type?(0,w.tZ)(L,{infoBottomSheet:l.infoBottomSheet,id:`fare_breakdown_charge_${t}`}):null]}),(0,w.tZ)(u.Z,{source:i,loaded:()=>(0,w.tZ)(g.Z,{baseFont:n?"ParagraphMedium":void 0,baseColor:n?"contentSecondary":void 0,badge:s}),error:()=>null,loading:()=>(0,w.tZ)(f.zY,{width:"64px"})})]}),d?(0,w.tZ)(D,{charges:d,fareType:r}):null,a.additionalText?(0,w.tZ)(O,{children:a.additionalText}):null]},a.text):null}))})},H=o.forwardRef(((e,t)=>{let{charges:r}=e;return r?(0,w.tZ)(S,{ref:t,children:(0,w.tZ)(D,{charges:r,fareType:"fareBreakdown"})}):null}));H.displayName="FareBreakdownSection";const E=e=>{let{gap:t="sm",storeLocationType:r}=e;const{diningMode:o}=(0,v.Z)(),{checkoutPayloads:{upfrontTipping:i,fareBreakdown:a}}=(0,b.ZP)(["fareBreakdown","upfrontTipping","total"]),l=(0,b.B0)("fareBreakdown"),s=(0,b.B0)("total"),{isCartDrafting:d}=(0,B.Z)(),c=(0,$.oW)(r),p=(0,n.useMemo)((()=>({isLoading:!l?.data,hasLoaded:Boolean(l?.data),data:"load",error:null})),[l?.data]);return(0,w.BX)(I,{$gap:t,"data-test":"fare-breakdown",children:[(0,w.tZ)(u.Z,{source:p,enableLoadingForRefetch:!1,loading:()=>(0,w.tZ)(f.L8,{rows:4,noMargin:!0}),error:()=>null,loaded:()=>(0,w.tZ)(H,{charges:a?.charges})}),(0,w.tZ)(k.Et,{desktop:(0,w.BX)(I,{$gap:t,children:[(0,w.tZ)(h.Z,{$margin:"0"}),(0,w.tZ)(u.Z,{source:p,enableLoadingForRefetch:!1,loading:()=>(0,w.BX)(w.HY,{children:[(0,w.tZ)(f.L8,{}),(0,w.tZ)(f.mu,{}),(0,w.tZ)(f.TB,{}),(0,w.tZ)(h.Z,{$margin:"0"})]}),error:()=>null,loaded:()=>i?(0,w.BX)(w.HY,{children:[(0,w.tZ)(Z.Z,{tipPayload:i}),(0,w.tZ)(h.Z,{$margin:"0"})]}):null})]})}),(0,w.tZ)(u.Z,{source:p,enableLoadingForRefetch:!1,loading:()=>(0,w.tZ)(f.L8,{}),error:()=>null,loaded:()=>(0,w.BX)(w.HY,{children:[(0,w.tZ)(H,{charges:a?.entityPayments}),(0,w.BX)(T,{$isCartDrafting:d,children:[(0,w.tZ)(P,{children:c}),(0,w.tZ)(u.Z,{source:s,loaded:e=>"DELIVERY"===o&&i?(0,w.tZ)(k.Et,{mobile:(0,w.tZ)(m.Z,{currencyCode:i.currencyCode,value:i.orderAmount}),desktop:e.total.formattedValue}):e.total.formattedValue,error:()=>null,loading:()=>(0,w.tZ)(f.zY,{width:"64px",lg:!0})})]})]})}),(0,w.tZ)(u.Z,{source:p,loading:()=>(0,w.tZ)(f.L8,{rows:2,noMargin:!0}),error:()=>null,loaded:()=>(0,w.tZ)(H,{charges:a?.plannedPayments})}),(0,w.tZ)(y.L,{})]})}},50882:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var o=r(36151),n=r(91931),i=r(14016),a=r(87429),l=r(33535),s=r(15070),d=r(58984),c=r(70605),u=r(33990);const h=(0,n.zo)("div",(e=>{let{$theme:t,$margin:r}=e;return{background:t.colors.backgroundSecondary,padding:"16px",margin:r||"24px 0 0 0"}})),p=(0,n.zo)("div",{flex:1}),g=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),m=e=>{let{margin:t,isSingleUseItemsIncluded:r,onChange:o,label:n}=e;return(0,u.tZ)(h,{$margin:t,children:(0,u.tZ)(a.Z,{name:"utensil",id:"utensil",isChecked:r,onChange:o,reverse:!0,children:(0,u.tZ)(p,{children:(0,u.tZ)(g,{children:n})})})})},Z=e=>{const t=(0,i.T)(),r=(0,l.ZP)(),n=(0,s.v)((e=>{let{checkout:t}=e;return t&&t.isSingleUseItemsIncluded})),[a,h]=(0,o.useState)(Boolean(n)),p=(0,d.I0)(),g=()=>{const e=!a;p((0,c.qx)(e)),h(e),r("eats:click_request_utensils",{option:e?"yes":"no"})};return e.showUtensils?(0,u.tZ)(m,{margin:e.margin,onChange:g,isSingleUseItemsIncluded:a,label:t("shared.request_utensils")}):e.store?.data?.singleUseItemsInfo?(0,u.tZ)(m,{margin:e.margin,onChange:g,isSingleUseItemsIncluded:a,label:e.store?.data?.singleUseItemsInfo?.title??""}):null};var f=r("__fusion__887"),b=r("__fusion__856"),y=r(36746),v=r(34567),C=r(22787),x=r(83960),z=r(70971),k=r(70247),$=r(66316),B=r(67135),w=r(75514),I=r(33023),S=r(47667),_=r(95461);const T=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"none",[t.mediaQuery.medium]:{display:"block",...t.typography.ParagraphSmall}}})),P=(0,n.zo)("div",(e=>{let{$paddingTop:t,$theme:r}=e;return{paddingTop:"undefined"!=typeof t?`${t}px`:r.sizing.scale600}})),O=(0,n.w1)(C.Z,(e=>{let{$theme:t}=e;return{background:t.colors.backgroundSecondary}})),U=(0,n.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",boxSizing:"border-box",textAlign:"left"}),M=(0,n.zo)("div",{flex:"1",maxWidth:"calc(90%)"}),L=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),D=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),H=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{color:t.colors.contentStateDisabled,display:"flex",justifyContent:"center"}})),E=(0,n.zo)("div",(e=>{let{$theme:t,$bottomSheetPaddingBottom:r=0}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300,paddingBottom:`${r}px`}}));function X(e){let{store:t,$paddingTop:r,isMobile:n}=e;const a=(0,i.T)(),l=(0,s.v)((e=>{let{device:t}=e;return t.isIOS})),{draftOrder:d,draftOrderUUID:c}=(0,k.Dz)(),{isBillSplitParticipant:h}=(0,x.Z)(),{updateDraftOrderV2:p}=(0,$.Z)(),[g,m]=(0,o.useState)(!1),[Z,C]=(0,o.useState)(d?.storeInstructions),X=(0,o.useRef)(null),R=void 0===t.data?.disableCheckoutInstruction||Boolean(t.data?.disableCheckoutInstruction),[j,W]=(0,o.useState)(0),N=(0,z.T)(),A=(0,I.qP)(t.data?.location?.locationType),F=(0,S.Z)(),Y=(0,_.Z)(),Q=()=>{if(!l||!w.Z?.visualViewport)return;if(!w.Z.visualViewport)return;const e=w.Z.innerHeight-w.Z.visualViewport.height;W(Math.max(0,e))};(0,o.useEffect)((()=>(w.Z?.visualViewport?.addEventListener("resize",Q),()=>{w.Z?.visualViewport?.removeEventListener("resize",Q)})));return R||h||A?null:(0,u.BX)(u.HY,{children:[(0,u.tZ)(P,{$paddingTop:r,children:(0,u.tZ)(O,{onClick:()=>{m(!0),X.current&&X.current.focus()},children:(0,u.tZ)(U,{children:d?.storeInstructions?(0,u.BX)(u.HY,{children:[(0,u.tZ)(M,{children:(0,u.tZ)(L,{children:d?.storeInstructions})}),(0,u.tZ)(H,{children:(0,u.tZ)(b.default,{size:20})})]}):(0,u.BX)(u.HY,{children:[(0,u.BX)(M,{children:[(0,u.tZ)(L,{children:a("shared.add_an_order_note")}),(0,u.tZ)(D,{children:a("shared.special_instructions")})]}),(0,u.tZ)(H,{children:(0,u.tZ)(f.default,{size:20})})]})})})}),g?(0,u.tZ)(B.J,{title:a("shared.add_an_order_note"),onClose:()=>m(!1),children:(0,u.BX)(E,{$bottomSheetPaddingBottom:j,children:[(0,u.tZ)(y.Z,{value:Z,onBlur:e=>{const t=e.target.value.trim();F&&(d?.storeInstructions??"")===t||p({draftOrderUUID:c,storeInstructions:t,businessDetails:d?.businessDetails})},onChange:e=>C(e.target.value),placeholder:a(N?"shared.single_item_placeholder.non_eats":"shared.single_item_placeholder"),overrides:{Input:{style:e=>{let{$theme:t}=e;return{...Y?t.typography.ParagraphMedium:null,height:"120px"}}}},inputRef:X}),(0,u.tZ)(T,{children:a("shared.you_may_be_charged_for_extras")}),(0,u.tZ)(v.Z,{onClick:()=>m(!1),children:a("shared.save")})]})}):null]})}var R=r(60849),j=r(78982);const W=()=>{const e=(0,R.qp)({...j.J.utensils_checkbox_allowlist,defaultValue:""});return{showOldUtensilsFlow:t=>{if(!t)return!1;return e.split("//").includes(t)}}},N=e=>{let{store:t,instructionsPadding:r,singleUseMargin:o,isRegularOrder:n=!1}=e;const{showOldUtensilsFlow:i}=W(),a=i(t.data?.uuid);return(0,u.BX)(u.HY,{children:[n&&!a?null:(0,u.tZ)(Z,{store:t,margin:o,showUtensils:a}),(0,u.tZ)(X,{store:t,$paddingTop:r})]})}},10015:(e,t,r)=>{"use strict";r.d(t,{xB:()=>S,TG:()=>M,GP:()=>D,Et:()=>y});var o=r(52246),n=r(71110),i=r("__fusion__686"),a=r(59210),l=r(91931),s=r(5639),d=r(62091),c=r(95444),u=r(36151),h=r(73518),p=r(33990);function g(e,t){return(0,p.tZ)(h.Z,{viewBox:"0 0 22 22",ref:t,...e,children:(0,p.tZ)("path",{d:"M15.801 12.5c-4 0-7.2-3.2-7.2-7.2 0-2.1.9-3.9 2.2-5.2-6-.1-10.7 4.7-10.7 10.5s4.7 10.5 10.5 10.5c5.7 0 10.6-4.6 10.5-10.7-1.4 1.2-3.3 2.1-5.3 2.1z"})})}const m=u.forwardRef(g);var Z=r(72275),f=r(70247);(0,l.zo)("div",(e=>{let{$theme:t}=e;return{[t.mediaQuery.medium]:{display:"none"}}})),(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"none",[t.mediaQuery.medium]:{display:"unset"}}}));const b=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold5XSmall}})),y=e=>{let{mobile:t,desktop:r}=e;const{isMobile:o}=(0,s.hU)();return(0,p.tZ)(p.HY,{children:o&&t||!o&&r||null})},v=(0,l.zo)("div",{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .5)",display:"flex",alignItems:"center",justifyContent:"center"}),C=(0,l.zo)("div",(e=>{let{$size:t,$theme:r}=e;return{height:`${t}px`,width:`${t}px`,flexShrink:0,borderRadius:r.borders.radiusFull,overflow:"hidden",position:"relative"}})),x=(0,l.zo)(d.Z,(e=>{let{$size:t}=e;return{height:`${t}px`,width:`${t}px`,objectFit:"cover",flexShrink:0}})),z=e=>{let t,{overlayIcon:r,size:o=24}=e;if("WEATHER_MOON"===r)t=(0,p.tZ)(m,{color:"white",size:o});else{if("PERSON_MULTIPLE"!==r)return null;t=(0,p.tZ)(c.Z,{color:"white",size:o})}return(0,p.tZ)(v,{children:t})},k=e=>{let{size:t,storeImage:r,title:o,overlayIcon:n,overlayIconSize:i}=e;return(0,p.BX)(C,{$size:t,children:[(0,p.tZ)(x,{$size:t,src:r,alt:o}),(0,p.tZ)(z,{overlayIcon:n,size:i})]})},$=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",height:t.sizing.scale1600,width:t.sizing.scale1600,flexShrink:0}})),B=(0,l.zo)("div",(()=>({position:"absolute",top:0,left:0}))),w=(0,l.zo)("div",(()=>({position:"absolute",bottom:0,right:0}))),I=(0,l.zo)("div",(e=>{let{$theme:t,$size:r=0,$isHovering:o,$isMobile:n}=e;return{width:`${r+2}px`,height:`${r+2}px`,borderRadius:t.borders.radiusFull,position:"absolute",bottom:0,right:0,...o?{background:n?t.colors.menuFillHover:t.colors.backgroundSecondary}:{background:t.colors.backgroundPrimary}}})),S=e=>{let{cartView:t,isHovering:o,showBorder:i}=e;const{storeImageUrls:a,title:l,overlayIcon:d}=t||{},{isMobile:c}=(0,s.hU)(),u=(0,n.pZ)(r(44412)),h=a??(i?[u,u]:[u]);return h[0]?h.length>1&&h[1]?(0,p.BX)($,{children:[(0,p.tZ)(B,{children:(0,p.tZ)(k,{storeImage:h[0],title:l,size:40,overlayIcon:d,overlayIconSize:14})}),(0,p.BX)(w,{children:[i?(0,p.tZ)(I,{$size:40,$isHovering:o,$isMobile:c}):null,(0,p.tZ)(k,{storeImage:h[1],title:l,size:40,overlayIcon:d,overlayIconSize:14})]})]}):(0,p.tZ)(k,{storeImage:h[0],title:l,size:64,overlayIcon:d}):null},_=(0,l.zo)("div",{display:"flex"}),T=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",paddingRight:t.sizing.scale600}})),P=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",gap:t.sizing.scale100}})),O=(0,l.zo)("div",(e=>{let{$theme:t,$double:r,$size:o}=e;return{height:`${o}px`,width:`${o}px`,flexShrink:0,borderRadius:"50%",position:"relative",...r&&{border:`${t.sizing.scale0} solid ${t.colors.backgroundPrimary}`,":first-child":{marginRight:`-${t.sizing.scale800}`}}}})),U=(0,n.pZ)(r(44412)),M=e=>{let{iconSize:t,subtitle:r,enabledBundle:o,labelSize:n}=e;const[i,s]=(0,l.hQ)(),{cartView:d,isBundledOrder:c}=(0,f.Dz)(),{storeTitle:u,storeImg:h,storeAddr:g}=(0,Z.Z)(),m=o&&d?.title||u,y="large"===n?(0,p.tZ)(b,{children:m}):(0,p.tZ)(a.Uc,{children:m});return(0,p.BX)(_,{children:[(0,p.tZ)(T,{children:o&&c?(d?.storeImageUrls??[U,U]).map((e=>(0,p.tZ)(O,{$double:!0,$size:t,children:(0,p.tZ)(k,{size:t,storeImage:e})},e))):(0,p.tZ)(k,{size:t,storeImage:h})}),(0,p.BX)(P,{children:[y,(0,p.tZ)(a.aM,{color:s.colors.contentSecondary,children:r||g})]})]})},L=(0,l.zo)(o.rU,(e=>{let{$theme:t,$hasPadding:r}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",...r?{padding:`${t.sizing.scale600} 0`}:{}}})),D=e=>{let{enabledBundle:t,labelSize:r}=e;const{restaurantLink:o,onGoToStore:n}=(0,Z.Z)(),[a,s]=(0,l.hQ)();return(0,p.BX)(L,{to:o,$hasPadding:"large"!==r,onClick:n,children:[(0,p.tZ)(M,{iconSize:48,enabledBundle:t,labelSize:r}),(0,p.tZ)(i.default,{size:20,color:s.colors.contentTertiary})]})}},26740:(e,t,r)=>{"use strict";r.d(t,{jL:()=>i});var o=r(67848),n=r(33990);function i(e){return(0,n.tZ)(o.j,{...e})}i.defaultProps=o.j.defaultProps},10825:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Z});var o=r(43193),n=r(58984),i=r(15070),a=r(7876),l=r(67476),s=r(83960),d=r(24316),c=r(74057),u=r(8057),h=r(69630),p=r(3945),g=r(70247),m=r(86990);function Z(e){const{setActiveDraftOrder:t}=(0,d.Z)(),r=(0,h.Z)(),{deliveryTime:Z,deliveryAddress:f,diningMode:b,storeUuid:y,isDraftOrderParticipant:v}=(0,s.Z)(e),{hasGroupOrderForStore:C}=(0,l.Z)(y),{hasActiveDraftOrderMetadata:x}=(0,c.Z)(e),z=(0,n.I0)(),k=e&&e===y&&C,{draftOrders:$}=(0,i.v)((e=>{let{draftOrders:t}=e;return t})),{draftOrder:B,draftOrderMaybe:w}=(0,g.Dz)(),[I,S]=o.useState(!1),_=k&&v,T=(0,m.Z)({storeId:e,originalCurrencyCode:null});return o.useCallback((()=>{let o;r&&$.data&&Boolean(B)&&w.hasLoaded&&e&&!I&&B?.storeUuid!==e&&(o=(0,p.w)($,e),o&&(t(o),S(!0))),r&&!x&&(e&&!o||(z((0,a.A0)(y,{...Z?{storeScheduledTime:Z}:{},...f?{storeDeliveryLocation:f}:{},...b?{storeDiningMode:b}:{},...T?{storeCurrencyCode:T}:{},isGroupOrderParticipant:_})),o&&z((0,u.hW)())))}),[r,$,B,w.hasLoaded,e,I,x,t,z,y,Z,f,b,T,_])}},44126:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var o=r(43193),n=r(62149),i=r(46933),a=r(70247),l=r(83960),s=r(67476),d=r(70587),c=r(55403),u=r(14016),h=r(59210),p=r(91931),g=r(45106),m=r(49373),Z=r(52298),f=r(35586),b=r(7646),y=r(91028),v=r(93633),C=r(33535),x=r(81984),z=r(33990);const k=(0,p.zo)("div",(e=>e.$isDraftOrderCreator?{}:{padding:"16px 0"})),$=(0,p.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center"}),B=e=>{(0,c.Z)();const{serverCart:t}=(0,a.iQ)(),r=t.data?.groupedItems||[],n=(0,g.Z)(),d=(0,u.T)(),{setIsManagingGroupOrder:p}=(0,v.Z)(),{storeUuid:B,updateItemQuantity:w,getItemClickUrl:I,gutterWidth:S}=e,_=(0,l.Z)(),{canEditGroupOrderCart:T}=(0,s.Z)(B),{cartsWithItems:P,cartsWithoutItems:O,currentUserCart:U}=(0,f.Z)(),M=(0,C.ZP)(),L=t.data?.items||[],D=t.data?.numMembers||1,H=(0,m.dH)(L),E=_.isDraftOrderCreator,X=o.useCallback((e=>{M(e,{hhcoManageOrder:{itemQuantity:H,guestWithItemCount:P.length,guestWithoutItemCount:O.length,guestCount:D}})}),[M,D,H,P,O]);return(0,z.tZ)(z.HY,{children:n?(0,z.BX)(z.HY,{children:[(0,z.tZ)(y.jf,{groupingTitle:d(1===H?"go.num_cart_items_singular":"go.num_cart_items_plural",{numItems:H}),groupingDescription:1===P.length?d("go.num_people.singular",{numPeople:P.length}):d("go.num_people",{numPeople:P.length}),onClick:()=>X("eats:e4b_hhco_group_your_items_tap")}),(0,z.tZ)(x.a,{gutterWidth:S})]}):(0,z.BX)(k,{$isDraftOrderCreator:E,children:[E?(0,z.BX)(z.HY,{children:[(0,z.tZ)(Z.ZP,{$height:16}),(0,z.BX)($,{children:[(0,z.tZ)(h.D9,{children:(0,z.tZ)(i.v,{id:"go.people"})}),(0,z.tZ)(b.Bi,{onClick:()=>{X("eats:e4b_hhco_manage_tap"),p(!0)},children:(0,z.tZ)(i.v,{id:"go.manage"})})]}),(0,z.tZ)(Z.ZP,{$height:16}),(0,z.tZ)(x.a,{gutterWidth:S}),(0,z.tZ)(Z.ZP,{$height:16})]}):null,U?(0,z.BX)(z.HY,{children:[(0,z.tZ)(y.q4,{cartMemberIndex:r.length,cartByMember:U,getItemClickUrl:I,updateItemQuantity:w,draftOrderMetadata:_,canEditGroupOrderCart:T,startExpanded:!0}),_.isDraftOrderCreator?(0,z.tZ)(Z.ZP,{$height:16}):null]}):null,(0,z.tZ)(x.a,{gutterWidth:S}),_.isDraftOrderCreator?(0,z.BX)(z.HY,{children:[(0,z.tZ)(y.jf,{groupingTitle:d("go.manage.guests_with_items_cart_cta"),groupingDescription:1===P.length?d("go.num_people.singular",{numPeople:P.length}):d("go.num_people",{numPeople:P.length}),onClick:()=>X("eats:e4b_hhco_guest_with_items_tap")}),(0,z.tZ)(x.a,{gutterWidth:S}),(0,z.tZ)(y.jf,{groupingTitle:d("go.manage.guests_without_items_cart_cta"),groupingDescription:1===O.length?d("go.num_people.singular",{numPeople:O.length}):d("go.num_people",{numPeople:O.length}),onClick:()=>X("eats:e4b_hhco_guest_without_items_tap")})]}):(0,z.tZ)(y.jf,{groupingTitle:d("go.manage.other_guests_cta"),groupingDescription:d(1===D?"go.num_people.singular":"go.num_people",{numPeople:D}),onClick:()=>X("eats:e4b_hhco_other_guests_tap")}),(0,z.tZ)(x.a,{gutterWidth:S})]})})};var w=r(69630),I=r(33967);function S(e){let{groupedItems:t,isBillSplitOrder:r,isCreator:o}=e;const[,n]=(0,p.hQ)();if(!o)return null;const a=t.length-1,l=t.reduce(((e,t)=>!Boolean(t?.isCreator)&&(r&&t?.confirmed||!r&&t?.items?.length)?++e:e),0);return(0,z.tZ)(h.aM,{color:n.colors.contentSecondary,marginBottom:n.sizing.scale600,children:r?(0,z.tZ)(i.v,{id:"go.creator.participant.completed.gobs.subtext",data:{totalCount:a,completedCount:l}}):(0,z.tZ)(i.v,{id:"go.creator.participant.completed.cpa.subtext",data:{totalCount:a,completedCount:l}})})}const _=e=>{let{startUserCartExpanded:t=!0,...r}=e;const u=(0,n.TH)(),{serverCart:p}=(0,a.iQ)(),g=p.data?.groupedItems||[];(0,c.Z)();const m=(0,l.Z)(),{canEditGroupOrderCart:Z}=(0,s.Z)(r.storeUuid),f=(0,w.Z)(),{isDraftOrderCreator:b}=m,v=m.billSplitOption===d.x.SPLIT_BY_SUBTOTAL,C=(0,I.Z)();if(m.isHandledHighCapacityOrder&&f)return(0,z.tZ)(B,{updateItemQuantity:r.updateItemQuantity,getItemClickUrl:r.getItemClickUrl,storeUuid:r.storeUuid,gutterWidth:r.gutterWidth??void 0});const x=g.find((e=>e.isCurrentUser)),k=Boolean(x?.isCreator);return(0,z.BX)(z.HY,{children:[(0,z.tZ)(h.fH,{marginTop:"scale700",marginBottom:"scale600",children:(0,z.tZ)(i.v,{id:"shared.yourItems"})}),x?(0,z.tZ)(y.pS,{cartByMember:x,showRemoveParticipantButton:!0,cartMemberIndex:0,startExpanded:t,storeUuid:r.storeUuid,storeSlug:r.storeSlug,updateCartItemQuantity:C,location:u,isDraftOrderCreator:b,canEditGroupOrderCart:Z,draftOrderMetadata:m}):null,g.length>1?(0,z.BX)(o.Fragment,{children:[(0,z.tZ)(h.fH,{marginTop:"scale600",marginBottom:k?"0":"scale600",children:(0,z.tZ)(i.v,{id:"go.other.group.memeber.section.heading"})}),(0,z.tZ)(S,{isBillSplitOrder:v,groupedItems:g,isCreator:k}),g.map(((e,t)=>e.isCurrentUser?null:(0,z.tZ)(y.pS,{cartByMember:e,showRemoveParticipantButton:!0,cartMemberIndex:t,startExpanded:!1,storeUuid:r.storeUuid,storeSlug:r.storeSlug,updateCartItemQuantity:C,location:u,isDraftOrderCreator:b,canEditGroupOrderCart:Z,draftOrderMetadata:m},t)))]}):null]})}},35586:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var o=r(70247);function n(){const{serverCart:e}=(0,o.iQ)(),t=e.data?.groupedItems||[],r=[],n=[];let i;return t.forEach((e=>{e.isCurrentUser&&(i=e),e.items&&e.items.length>0?n.push(e):r.push(e)})),{cartsWithItems:n,cartsWithoutItems:r,currentUserCart:i}}},66125:(e,t,r)=>{"use strict";r.d(t,{L:()=>Z});var o=r(36151),n=r(62149),i=r(91631),a=r(47986);var l=r(81231),s=r(27871),d=r(40606),c=r(85341),u=r(58984),h=r(70605),p=r(70247),g=r(33535),m=r(33990);function Z(){const e=(0,n.TH)(),t=(0,i.k6)(),{draftOrder:r}=(0,p.Dz)(),{cmpQuery:Z}=(0,s.ZP)(["splitPaymentMessageBanner"]),f=(0,g.ZP)(),b=Boolean(Z.data?.checkoutPayloads?.splitPaymentMessageBanner?.actionableBanner?.bannerModel),y=(0,u.I0)();return o.useEffect((()=>{b&&(y((0,h.rj)()),y((0,h.Pe)(!1)))}),[y,b]),(0,m.tZ)(d.a,{source:Z,loading:()=>null,error:()=>null,loaded:o=>{const n=o.checkoutPayloads?.splitPaymentMessageBanner?.actionableBanner?.bannerModel,i=()=>{t.push((e=>`/${(0,a.hrl)(e)}checkout/eligibility-breakdown`)(e)),f("eats:eligibility_breakdown_banner_clicked",{draftOrderUuid:r?.uuid})},s=o.checkoutPayloads?.splitPaymentMessageBanner?.actionableBanner?.actionMetadata;return n?(0,m.tZ)(c.Z,{marginTop:"scale600",marginBottom:"scale600",onClick:s?i:void 0,children:(0,m.tZ)(l.Z,{noMargin:!0,viewModel:n})}):null}})}},2643:(e,t,r)=>{e.exports=r.p+"d7c4e10b024b6b9e.json"},42881:(e,t,r)=>{e.exports=r.p+"d4d3eb39747c0f88.json"},35781:(e,t,r)=>{e.exports=r.p+"2967460fa4493714.json"}}]);