"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[16938,58266,95512,78869,84869,10539,18684,5576,48907,69338,20413],{__fusion__1176:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Apartment",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Apartment"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M13.5 1H3v19H1v3h22v-3h-2V7h-7.5V1ZM6 7V4h4.5v3H6Zm7.5 6v-3H18v3h-4.5ZM6 13v-3h4.5v3H6Zm7.5 7v-4H18v4h-4.5ZM6 20v-4h4.5v4H6Z",fill:"currentColor"})]})}))},__fusion__1863:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Apartment",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Apartment"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M13.5 1H3v19H1v3h22v-3h-2V7h-7.5V1ZM6 7V4h4.5v3H6Zm7.5 6v-3H18v3h-4.5ZM6 13v-3h4.5v3H6Zm7.5 7v-4H18v4h-4.5ZM6 20v-4h4.5v4H6Z",fill:"currentColor"})]})}))},__fusion__610:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Bed",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Bed"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM5 5h6v3H5V5Z",fill:"currentColor"})]})}))},__fusion__1298:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Bed",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Bed"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9V8h3v12h-3v-3H4v3H1V4h3v5h16ZM4 12v2h16v-2H4Zm1-7h6v3H5V5Z",fill:"currentColor"})]})}))},__fusion__1324:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Briefcase",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Briefcase"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M18 6V1H6v5H1v16h22V6h-5ZM9 4h6v2H9V4Zm11 15H4V9h16v10Z",fill:"currentColor"})]})}))},__fusion__665:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Center",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Center"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.9 10.5H24v3h-3.1c-.7 3.8-3.6 6.8-7.4 7.4V24h-3v-3.1c-3.8-.7-6.8-3.6-7.4-7.4H0v-3h3.1c.7-3.8 3.6-6.8 7.4-7.4V0h3v3.1c3.8.7 6.8 3.6 7.4 7.4ZM6 12c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6-6 2.7-6 6Zm9 0a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor"})]})}))},__fusion__796:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Home",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Home"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M12 1 2 10.1V23h7v-8h6v8h7V10.1L12 1Z",fill:"currentColor"})]})}))},__fusion__1484:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Home",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Home"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M12 1 2 10.1V23h20V10.1L12 1Zm7 19h-5v-6h-4v6H5v-8.6L12 5l7 6.4V20Z",fill:"currentColor"})]})}))},__fusion__822:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Location marker",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Location marker"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{d:"M18.7 3.8C15 .1 9 .1 5.3 3.8c-3.7 3.7-3.7 9.8 0 13.5L12 24l6.7-6.8c3.7-3.6 3.7-9.7 0-13.4ZM12 12.5c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2Z",fill:"currentColor"})]})}))},__fusion__1547:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});var r=o(36151),n=o(33990);const i=r.forwardRef((function(e,t){let{title:o="Person",titleId:r,size:i="1em",...l}=e;return(0,n.BX)("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...l,children:[void 0===o?(0,n.tZ)("title",{id:r,children:"Person"}):o?(0,n.tZ)("title",{id:r,children:o}):null,(0,n.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 6.5c0 3-2.5 5.5-5.5 5.5S6.5 9.5 6.5 6.5 9 1 12 1s5.5 2.5 5.5 5.5Zm-3 0C14.5 5.1 13.4 4 12 4S9.5 5.1 9.5 6.5 10.6 9 12 9s2.5-1.1 2.5-2.5ZM3 20c0-3.3 2.7-6 6-6h6c3.3 0 6 2.7 6 6v3h-3v-3c0-1.7-1.4-3-3-3H9c-1.6 0-3 1.3-3 3v3H3v-3Z",fill:"currentColor"})]})}))},11362:(e,t,o)=>{o.d(t,{N:()=>r});const r={cell:"cell",section:"section",module:"module"}},22023:(e,t,o)=>{o.d(t,{I:()=>a});var r=o(79810),n=o(11362);const i=(0,r.zo)("hr",(e=>{const{$theme:t,$size:o=n.N.section}=e;return o===n.N.module?{borderTopWidth:t.sizing.scale100,borderTopColor:t.colors.borderOpaque,borderTopStyle:"solid",borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none"}:{borderTopWidth:"1px",borderTopColor:t.colors.borderOpaque,borderTopStyle:"solid",borderRightWidth:0,borderBottomWidth:0,borderLeftWidth:0,borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none"}}));i.displayName="StyledDivider";var l=o(33990);const a=(0,r.Le)(i,(e=>function(t){return(0,l.tZ)(e,{"aria-hidden":"true",role:"separator",...t})}))},37649:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(36151),n=o(33535);function i(e){const t=(0,n.ZP)();return(0,r.useEffect)((()=>{t(e.eventName,e.eventPayload)}),[]),null}},47850:(e,t,o)=>{o.d(t,{Z:()=>d});var r=o(91931),n=o(79908),i=o(36278),l=o(33990);const a=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"flex",alignItems:"flex-start",paddingTop:"12px"}})),d=(0,r.Le)(a,(e=>function(t){return(0,l.BX)(e,{children:[(0,l.tZ)(n.Z,{type:t.iconType}),(0,l.tZ)(i.ZP,{$width:"8px"}),t.children]})}))},8001:(e,t,o)=>{o.d(t,{Z:()=>u});var r=o("__fusion__1340"),n=o("__fusion__652"),i=o("__fusion__1419"),l=o("__fusion__731"),a=o("__fusion__1547"),d=o("__fusion__859"),s=o(72179),c=o(33990);function u(e){let{interactionType:t,size:o}=e;const{inCheckoutDraft:u}=(0,s.Z)(),h={size:o||20};switch(t){case"curbside":return u?(0,c.tZ)(r.default,{...h}):(0,c.tZ)(n.default,{...h});case"leave_at_door":case"leave_inside_building_door":return u?(0,c.tZ)(i.default,{...h}):(0,c.tZ)(l.default,{...h});case"door_to_door":case"leave_in_lobby":case"meet_in_lobby":default:return u?(0,c.tZ)(a.default,{...h}):(0,c.tZ)(d.default,{...h})}}},73057:(e,t,o)=>{o.d(t,{Z:()=>g});var r=o(36151),n=o(62149),i=o(14016),l=o(46933),a=o(67318),d=o(78422),s=o(61799),c=o(45423),u=o(55437),h=o(47885),p=o(69694),v=o(87444),f=o(33535),Z=o(91931),y=o(33990);const g=e=>{const t=(0,n.TH)(),o=(0,i.T)(),g=Boolean(e.storeUuid),{isStorePrecheckoutBundlingEnabled:m}=(0,h.Z)(),{draftOrder:_}=(0,p.Z)(e.storeUuid),b=(0,v.Z)("store_scheduled_delivery_time_cookie_reset_enabled"),[,w]=(0,Z.hQ)(),L=b&&!e.isSchedulable||m&&g&&Boolean(_?.bundleGroupInfo),x=(0,f.ZP)();(0,r.useEffect)((()=>{x("eats:delivery_details_schedule_option_state",{label:L?"disabled":"enabled"})}),[x,L]);const C="scheduled"in e.deliveryTime?(0,y.tZ)(s.Z,{date:e.deliveryTime.date,startTime:e.deliveryTime.startTime,endTime:e.deliveryTime.endTime}):(0,y.tZ)(c.Z,{});return(0,y.tZ)(u.Z,{isDisabled:L,icon:(0,y.tZ)(d.Z,{name:"ClockOutlined",color:w.colors.contentTertiary,title:o("shared.when"),size:24}),title:C,ctaLink:(0,a.t)(t,{entryPoint:"global-delivery-details"}),ctaText:(0,y.tZ)(l.v,{id:"components.CheckoutStepDeliveryTime.schedule"}),hasBorder:!1,dataTestId:"schedule-button"})}},63649:(e,t,o)=>{o.d(t,{Z:()=>d});var r=o(36151),n=o(91931),i=o(62851),l=o(33990);const a=(0,n.w1)(i.U,(e=>({outline:"none",resize:"vertical","::placeholder":{color:e.$theme.colors.contentTertiary},...e.disabled?{color:e.$theme.colors.contentStateDisabled}:{":focus":{boxShadow:e.$hasError?`inset 0px -2px 0px ${e.$theme.colors.negative}`:e.$theme.shadows.focusedInput}}}))),d=r.forwardRef((function(e,t){return(0,l.tZ)(a,{$as:"textarea",ref:t,id:e.id,name:e.name,value:e.value,disabled:Boolean(e.isDisabled),placeholder:e.placeholder,onChange:e.onChange,onBlur:e.onBlur,onFocus:e.onFocus,cols:e.cols?Number(e.cols):void 0,rows:e.rows?Number(e.rows):void 0,"aria-label":e.ariaLabel,maxLength:e.maxLength})}))},55437:(e,t,o)=>{o.d(t,{Z:()=>Z});var r=o(52246),n=o(91931),i=o(36278),l=o(22787),a=o(57444),d=o(33990);const s=(0,n.zo)(r.rU,(e=>{let{$isDisabled:t,$theme:o}=e;return{borderRadius:o.borders.pillButtonBorderRadius,...(0,l.y)({$theme:o}),...o.typography.LabelSmall,display:"flex",padding:"12px",height:"36px",alignItems:"center",boxSizing:"border-box",justifyContent:"center",flexShrink:0,...t?(0,a.Z)(o):{},cursor:t?"not-allowed":"pointer"}})),c=(0,n.zo)("div",{display:"flex",flexDirection:"row",alignItems:"center",boxSizing:"border-box",height:"72px"}),u=(0,n.zo)("div",{width:"64px",height:"64px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),h=(0,n.zo)("div",(e=>{let{$theme:t,$hasBorder:o}=e;return{flexGrow:1,height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden",...o?{borderBottom:`1px solid ${t.colors.borderOpaque}`}:{}}})),p=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",flexDirection:"column",overflow:"hidden",flexGrow:1}})),v=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})),f=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}})),Z=e=>(0,d.BX)(c,{children:[(0,d.tZ)(u,{children:e.icon}),(0,d.BX)(h,{$hasBorder:Boolean(e.hasBorder),children:[(0,d.BX)(p,{children:[(0,d.tZ)(v,{children:e.title}),e.subtitle?(0,d.tZ)(f,{children:e.subtitle}):null]}),(0,d.tZ)(i.ZP,{$width:"8px"}),(0,d.tZ)(s,{$isDisabled:Boolean(e.isDisabled),"data-testid":e.dataTestId,to:e.ctaLink,onClick:t=>{e.isDisabled?t.preventDefault():e.ctaOnClick&&e.ctaOnClick(t)},children:e.ctaText}),(0,d.tZ)(i.ZP,{$width:"16px"})]})]})},31809:(e,t,o)=>{o.d(t,{e:()=>r});const r=(e,t,o)=>(t||[]).map((e=>e?.address?.reference)).includes(e?.reference||"")&&o?.reference!==e?.reference},31704:(e,t,o)=>{o.d(t,{Z:()=>C});var r=o(36151),n=o("__fusion__1510"),i=o("__fusion__822"),l=o(13218),a=o(40832),d=o(40606),s=o(1795),c=o(72238),u=o(21322),h=o(91931),p=o(67780),v=o(940),f=o(14016),Z=o(97130),y=o(33535),g=o(85301),m=o("__fusion__636"),_=o("__fusion__1324"),b=o("__fusion__1484"),w=o("__fusion__796"),L=o(33990);const x=(0,h.w1)(p.c,(e=>{let{$theme:t}=e;return{background:"transparent",marginRight:t.sizing.scale300}})),C=e=>{const{saveChanges:t,updateLocationDraft:o}=(0,a.a8)(),p=(0,y.ZP)(),{deliveryLocationSubtitle:C,getUpsertDeliveryLocationRequestV2:T,isCurrentLocation:S}=(0,Z.X)(),{onAddressSaved:P}=e,z=(0,f.T)(),[,k]=(0,h.hQ)(),B=(0,r.useCallback)((e=>{p("eats:change_address_click_v2");const r=e?.deliveryPayload?.selectedInteractionType||g.lq,n=T({addressInfo:e?.deliveryPayload?.addressInfo,deliveryInstruction:e?.deliveryPayload?.deliveryInstructions?.[r],label:e?.personalPayload?.label,deliveryLocation:e}),i=(0,l._W)(e?.location,e?.personalPayload);i&&(o(i),t((()=>{P(i)}),{overrideLocationDraft:i,skipDraftInstructions:!0,upsertDeliveryLocationRequestPayload:n}))}),[p,T,o,t,P]);return(0,L.tZ)("ul",{children:(0,L.tZ)(d.a,{source:e.deliveryLocations,loaded:t=>t?.deliveryLocations?.SUGGESTED?.map(((t,o)=>(0,L.tZ)(c.Z,{artwork:()=>(e=>{const t=S(e);return"HOME"===e?.personalPayload?.labelType?t?(0,L.tZ)(w.default,{size:24}):(0,L.tZ)(b.default,{size:24,color:k.colors.contentTertiary}):"WORK"===e?.personalPayload?.labelType?t?(0,L.tZ)(m.default,{size:24}):(0,L.tZ)(_.default,{size:24,color:k.colors.contentTertiary}):t?(0,L.tZ)(i.default,{size:24}):(0,L.tZ)(n.default,{size:24,color:k.colors.contentTertiary})})(t),onClick:()=>B(t),endEnhancer:()=>(0,L.tZ)(x,{onClick:o=>{o.stopPropagation(),e.onEditClick(t)},"data-test":"edit-location",children:(0,L.tZ)(v.Z,{size:16,color:"contentTertiary","aria-label":z("shared.edit")})}),overrides:{Content:{style:e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale100} 0`}}},Root:{style:e=>{let{$theme:o}=e;return{...S(t)?{backgroundColor:o.colors.backgroundSecondary}:{}}}}},children:(0,L.tZ)(u.Z,{description:C(t),children:t?.personalPayload?.label||t?.title||""})},o))),loading:()=>(0,L.tZ)(s.Z,{}),error:()=>null})})}},83949:(e,t,o)=>{o.d(t,{Z:()=>d});var r=o(46933),n=o(91931),i=o(34567),l=o(33990);const a=(0,n.w1)(i.Z,{marginTop:"24px"}),d=e=>{let{onDone:t}=e;return(0,l.tZ)(a,{onClick:t,children:(0,l.tZ)(r.v,{id:"shared.done"})})}},75241:(e,t,o)=>{o.d(t,{Z:()=>I});var r=o(36151),n=o(40606),i=o(43193),l=o(14016),a=o(91931),d=o(36278),s=o(79908),c=o(94579),u=o(32562),h=o(67780),p=o(940),v=o(81707),f=o("__fusion__1510"),Z=o("__fusion__822"),y=o(33990);const g=(0,a.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.backgroundSecondary:"transparent",padding:"16px 24px",display:"flex",cursor:"pointer",transition:c.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.backgroundSecondary}}))),m=(0,a.zo)("div",{alignSelf:"center"}),_=(0,a.zo)("div",{minWidth:0,display:"flex",flexDirection:"column",flexGrow:1}),b=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,textOverflow:"ellipsis",overflow:"hidden"}})),w=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),L=(0,a.w1)(h.c,{background:"transparent"}),x=e=>{const t=(0,l.T)(),o=i.useRef(null),[,r]=(0,a.hQ)(),n=(0,u.Z)(o),c=()=>0===e.index?(0,y.tZ)(Z.default,{size:24,color:r.colors.backgroundInversePrimary}):"home"===e.taggedLocation.tag.toLowerCase()?(0,y.tZ)(s.Z,{type:"Home",width:"24",height:"24"}):(0,y.tZ)(f.default,{size:24,color:r.colors.backgroundInversePrimary});return(0,y.BX)(g,{ref:o,$isHighlighted:n,onClick:e.onClick,...e.getItemProps?e.getItemProps({index:e.index}):{},children:[(0,y.BX)(m,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,y.tZ)(v.Z,{}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,y.tZ)(c,{}):null]}),(0,y.tZ)(d.ZP,{$width:"24px"}),(0,y.BX)(_,{children:[(0,y.tZ)(b,{children:e.taggedLocation.address.address.title}),(0,y.tZ)(w,{children:e.taggedLocation.address.address.subtitle})]}),(0,y.tZ)(d.ZP,{$width:"8px"}),(0,y.tZ)(m,{children:(0,y.tZ)(L,{onClick:t=>{t.stopPropagation(),e.onEditClick(e.taggedLocation.address)},"data-test":"edit-location",children:(0,y.tZ)(p.Z,{size:20,color:"contentInverseTertiary","aria-label":t("shared.edit")})})})]})};var C=o(25750),T=o(52692),S=o(40832),P=o(1795),z=o(73472),k=o(62149);const B=()=>(0,y.tZ)(T.Z,{$margin:"0 0 0 64px",$as:"li"}),I=e=>{const{saveChanges:t,updateLocationDraft:o}=(0,S.a8)(),{onAddressSaved:i}=e,{startTiming:l}=(0,z.K3)(),a=(0,k.TH)().pathname.replace(/\//g,""),d=(0,r.useCallback)((e=>{e&&(l(`${a}_delivery_details_select_address`),o(e),t((t=>{i(e)}),{overrideLocationDraft:e,skipDraftInstructions:!0}))}),[t,o,i,l,a]);return(0,y.tZ)("ul",{children:(0,y.tZ)(n.Z,{source:e.taggedLocations,loaded:t=>(0,y.tZ)(C.Z,{separator:B,children:t.map(((t,o)=>(0,y.tZ)(x,{index:o,taggedLocation:t,onClick:()=>d(t.address),onEditClick:e.onEditClick},o)))}),loading:()=>(0,y.tZ)(P.Z,{}),error:()=>null})})}},90200:(e,t,o)=>{o.d(t,{Z:()=>u});var r=o(36151),n=o(46933),i=o(91931),l=o(7646),a=o(36278),d=o(698),s=o(33990);const c=(0,i.w1)(l.Bi,{marginTop:"16px"}),u=e=>{let{selectedDeliveryLocation:t,onRemoveAddress:o}=e;const[i,l]=(0,r.useState)(!1),{reference:u,referenceType:h}=t||{};return u&&h?(0,s.BX)(c,{onClick:async()=>{l(!0),await o(),l(!1)},disabled:i,children:[(0,s.tZ)(d.Z,{color:"negative",size:16}),(0,s.tZ)(a.sA,{}),(0,s.tZ)(n.v,{id:"components.delivery.remove_saved_address"})]}):null}},81282:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(91931),n=o(62851),i=o(36278),l=o(14016),a=o(28929),d=o(33990);const s=(0,r.w1)(n.U,(e=>{let{$theme:t}=e;return{display:"flex",position:"relative",":focus":{boxShadow:t.shadows.focusedInput}}})),c=(0,r.zo)("div",{display:"flex",flexShrink:0,alignItems:"center"}),u=(0,r.zo)("input",(e=>{let{$theme:t}=e;return{flex:1,backgroundColor:t.colors.inputFill,outline:"none","::placeholder":{color:t.colors.contentTertiary}}})),h=e=>{const t=(0,l.T)();return(0,d.BX)(s,{children:[(0,d.tZ)(c,{children:(0,d.tZ)(a.Z,{})}),(0,d.tZ)(i.ZP,{$width:"8px"}),(0,d.tZ)(u,{value:e.address,onChange:t=>{e.setAddress(t.target.value||"")},placeholder:t("components.delivery.add_a_label")})]})}},7708:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(46933),n=o(91931),i=o(34567),l=o(40832),a=o(73472),d=o(62149),s=o(33990);const c=(0,n.w1)(i.Z,{marginTop:"24px"}),u=(e,t)=>t&&e?{...e,address:{...e.address??{},label:t??""}}:e,h=e=>{let{addressLabel:t,selectedDeliveryLocation:o,onAddressSaved:n}=e;const{saveChanges:i,isSaveDisabled:h}=(0,l.a8)(),{startTiming:p}=(0,a.K3)(),v=(0,d.TH)().pathname.replace(/\//g,"");return(0,s.tZ)(c,{"data-test":"save-address",disabled:!o||h,onClick:()=>{p(`${v}_delivery_details_save_address`),i((e=>{o&&n(u(o,t))}),{overrideLocationDraft:u(o,t),addressLabel:t})},children:(0,s.tZ)(r.v,{id:"shared.save"})})}},93685:(e,t,o)=>{o.d(t,{Z:()=>p});var r=o(46933),n=o(91931),i=o(34567),l=o(22787),a=o(52298),d=o(95747),s=o(79851),c=o(33990);const u=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),h=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphLarge}));function p(e){let{onKeepAddress:t,onRemoveAddress:o}=e;const n=(0,s.Z)(),p=(0,d.Z)();return(0,c.BX)(c.HY,{children:[(0,c.tZ)(u,{children:(0,c.tZ)(r.v,{id:"components.address_entry.remove_confirmation"})}),(0,c.tZ)(a.ZP,{$height:24}),(0,c.tZ)(h,{children:(0,c.tZ)(r.v,{id:"shared.action_undone_confirmation"})}),(0,c.tZ)(a.ZP,{$height:24}),(0,c.tZ)(i.Z,{onClick:()=>{p(n),o()},children:(0,c.tZ)(r.v,{id:"shared.remove"})}),(0,c.tZ)(a.ZP,{$height:16}),(0,c.tZ)(l.Z,{onClick:()=>t(),children:(0,c.tZ)(r.v,{id:"components.address_entry.keep_address"})})]})}},77947:(e,t,o)=>{o.d(t,{Z:()=>v});var r=o(31913),n=o(72238),i=o(21322),l=o(89217),a=o(11849),d=o(14016),s=o(32857),c=o(68065),u=o(91931),h=o(33990);const p=(0,u.zo)("div",{display:"flex",flexDirection:"column"}),v=e=>{let{deliveryInteractionViewConfig:t,onClick:o,selectedInteraction:u}=e;const v=(0,d.T)(),f=t?.interactionTypeMap?.[u]?.illustration,Z=t?.interactionTypeMap?.[u]?.title,y=t?.interactionTypeMap?.[u]?.descriptionBadgeViewModel;return(0,h.BX)("div",{children:[t?.header?(0,h.tZ)(r.ZP,{text:t?.header}):null,(0,h.tZ)(n.Z,{overrides:{Content:{style:{borderBottom:"none",paddingRight:0}}},artwork:()=>f?(0,h.tZ)(l.SZ,{richIllustration:f}):null,endEnhancer:()=>(0,h.tZ)(s.Z,{kind:c.TO.secondary,size:c.NO.compact,shape:c.X3.pill,onClick:o,children:v("shared.edit")}),children:(0,h.tZ)(i.Z,{children:(0,h.BX)(p,{children:[Z?(0,h.tZ)(r.ZP,{text:Z}):null,y?(0,h.tZ)(a.Z,{viewModel:y}):null]})})})]})}},36154:(e,t,o)=>{o.d(t,{Z:()=>E});var r=o(43193),n=o(7903),i=o(97130),l=o(31913),a=o(91931),d=o(40832),s=o(33990);const c=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),u=e=>{let{dropDownInputProperty:t,initialResidenceType:o,name:a,setShouldHighlightRequired:u}=e;const{addressInfo:h,setAddressInfo:p}=(0,d.a8)(),{getSelectOptionsFromDropDownInputProperty:v}=(0,i.X)(),[f,Z]=r.useState(!0),{options:y,selectedOption:g,selectLabel:m}=v({dropDownInputProperty:t,initialResidenceType:o});r.useEffect((()=>{f&&(p({[a]:h?.[a]||g?.id||""}),Z(!1))}),[h,f,a,g?.id,p]);const _=y?.find((e=>e.id===h?.[a]))||g;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(c,{children:(0,s.tZ)(l.ZP,{text:m})}),(0,s.tZ)(n.Z,{options:y,value:_?[_]:[],onChange:e=>{p({[a]:e?.value?.[0]?.id||""}),u(!1)},searchable:!1,clearable:!1,overrides:{DropdownListItem:{style:e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale550} ${t.sizing.scale600}`}}},SelectArrow:{props:{overrides:{Svg:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentTertiary}}}}}}}})]})};var h=o(11841),p=o(59210),v=o(14016),f=o("__fusion__1095");const Z=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",color:t.colors.backgroundNegative}})),y=e=>{let{textInputProperty:t,name:o,shouldHighlightRequired:n}=e;const{addressInfo:i,setAddressInfo:l}=(0,d.a8)(),{defaultValue:a,placeholder:c,title:u,allowEmpty:y}=t||{},[g,m]=r.useState(!0),_=(0,v.T)(),b=y?null:_("location_manager.input_field_required");return r.useEffect((()=>{g&&(l((e=>({...e,[o]:i?.[o]??a}))),m(!1))}),[i,a,g,o,l]),(0,s.BX)("div",{children:[(0,s.BX)(p.Uc,{paddingBottom:"scale300",children:[u," ",b]}),(0,s.tZ)(h.Z,{name:o,value:i?.[o]??a,endEnhancer:y||i?.[o]||!n?null:(0,s.tZ)(Z,{children:(0,s.tZ)(f.default,{size:"20px"})}),onChange:e=>l((t=>({...t,[o]:e?.target?.value}))),placeholder:c||""})]})};var g=o(72238),m=o(21322),_=o("__fusion__677"),b=o(58679),w=o("__fusion__681"),L=o("__fusion__1484"),x=o("__fusion__1863"),C=o("__fusion__1324"),T=o("__fusion__1298"),S=o("__fusion__1510"),P=o("__fusion__796"),z=o("__fusion__1176"),k=o("__fusion__636"),B=o("__fusion__610"),I=o("__fusion__822");const D=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),R=(0,a.zo)("div",{display:"flex",flexDirection:"column"}),M=e=>{let{dropDownInputProperty:t,initialResidenceType:o,name:n,setShouldHighlightRequired:c}=e;const{addressInfo:u,setAddressInfo:p}=(0,d.a8)(),{getSelectOptionsFromDropDownInputProperty:v}=(0,i.X)(),[f,Z]=r.useState(!0),[,y]=(0,a.hQ)(),[M,$]=r.useState(!1),{options:H,selectedOption:E,selectLabel:V}=v({dropDownInputProperty:t,initialResidenceType:o}),O="residenceTypePayload"===t?.payload?.type?t?.payload?.residenceTypePayload?.title:null,X="residenceTypePayload"===t?.payload?.type?t?.payload?.residenceTypePayload?.subTitle:null;r.useEffect((()=>{f&&(p({[n]:u?.[n]||E?.id||""}),Z(!1))}),[u,f,n,E?.id,p]);const q=H?.find((e=>e.id===u?.[n]))||E,A={HOUSE:{outlined:()=>(0,s.tZ)(L.default,{color:y.colors.contentTertiary,size:20}),filled:()=>(0,s.tZ)(P.default,{size:20})},APARTMENT_BUILDING:{outlined:()=>(0,s.tZ)(x.default,{color:y.colors.contentTertiary,size:20}),filled:()=>(0,s.tZ)(z.default,{size:20})},BUSINESS:{outlined:()=>(0,s.tZ)(C.default,{color:y.colors.contentTertiary,size:20}),filled:()=>(0,s.tZ)(k.default,{size:20})},HOTEL:{outlined:()=>(0,s.tZ)(T.default,{color:y.colors.contentTertiary,size:20}),filled:()=>(0,s.tZ)(B.default,{size:20})},OTHER:{outlined:()=>(0,s.tZ)(S.default,{color:y.colors.contentTertiary,size:20}),filled:()=>(0,s.tZ)(I.default,{size:20})}};return(0,s.BX)(s.HY,{children:[(0,s.tZ)(D,{children:(0,s.tZ)(l.ZP,{text:V})}),(0,s.tZ)("div",{onClick:()=>$(!0),children:(0,s.tZ)(h.Z,{value:q?.label,readOnly:!0,endEnhancer:(0,s.tZ)(w.default,{size:"18px",color:y.colors.contentTertiary})})}),(0,s.BX)(b.R1,{isOpen:M,onClose:()=>$(!1),closeable:!0,children:[(0,s.tZ)(b._g,{children:(0,s.BX)(R,{children:[O?(0,s.tZ)(l.ZP,{text:O}):null,X?(0,s.tZ)(l.ZP,{text:X}):null]})}),(0,s.tZ)("ul",{children:H?.map((e=>{const t=q?.id===e?.id,o=t?"filled":"outlined";return(0,s.tZ)(g.Z,{onClick:()=>{p({[n]:e?.id||""}),c(!1),$(!1)},artwork:A?.[e?.id]?.[o],endEnhancer:()=>t?(0,s.tZ)(_.default,{size:20}):null,overrides:{Content:{style:{padding:"0"}}},children:(0,s.tZ)(m.Z,{children:e.label})},e.id)}))})]})]})};var $=o(5639);const H=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale300}})),E=e=>{let{getAddressEntryFormPayload:t,shouldHighlightRequired:o,setShouldHighlightRequired:r}=e;const{isMobile:n}=(0,$.hU)(),{residenceTypeFieldsMap:i,initialResidenceType:a}=t?.form||{},{addressInfo:c}=(0,d.a8)();return(i?.[c?.RESIDENCE_TYPE||a||"OTHER"]||{})?.rows?.map((e=>{if("LABEL"===e?.fields?.[0]?.type&&"labelProperty"===e.fields?.[0]?.property?.type)return(0,s.tZ)(H,{children:(0,s.tZ)(l.ZP,{text:e.fields?.[0]?.property?.labelProperty?.titleRichText})});if("DROP_DOWN"===e?.fields?.[0]?.type&&"dropDownInputProperty"===e?.fields?.[0]?.property?.type){const t=e?.fields?.[0]?.property?.dropDownInputProperty,o=e?.fields?.[0]?.key?.addressFieldKey||"";return(0,s.tZ)(H,{children:n?(0,s.tZ)(M,{name:o,dropDownInputProperty:t,initialResidenceType:a,setShouldHighlightRequired:r},o):(0,s.tZ)(u,{name:o,dropDownInputProperty:t,initialResidenceType:a,setShouldHighlightRequired:r},o)})}if("TEXT_INPUT"===e?.fields?.[0]?.type&&"textInputProperty"===e?.fields?.[0]?.property?.type){const t=e?.fields?.[0]?.property?.textInputProperty,r=e?.fields?.[0]?.key?.addressFieldKey||"";return(0,s.tZ)(H,{children:(0,s.tZ)(y,{name:r,textInputProperty:t,shouldHighlightRequired:o},r)})}}))}},52754:(e,t,o)=>{o.d(t,{Z:()=>u});var r=o(46933),n=o(40832),i=o(32857),l=o(68065),a=o(13218),d=o(97130),s=o(33535),c=o(33990);const u=e=>{let{onAddressSaved:t,selectedDeliveryLocationV2:o,label:u,setShouldHighlightRequired:h,getAddressEntryFormPayload:p,isMobile:v}=e;const f=(0,s.ZP)(),{saveChanges:Z,isLoading:y,deliveryInstructionV2:g,addressInfo:m}=(0,n.a8)(),{getUpsertDeliveryLocationRequestV2:_}=(0,d.X)(),b=m?.RESIDENCE_TYPE||"",w=p?.form?.residenceTypeFieldsMap?.[b]?.rows,L=_({addressInfo:m,deliveryLocation:o,deliveryInstruction:g,label:u}),x=(0,a._W)(o?.location,o?.personalPayload);return(0,c.tZ)(i.Z,{"data-test":"save-address",disabled:!o||y,size:v?l.NO.large:l.NO.default,overrides:{BaseButton:{style:{width:v?"100%":"auto"}}},onClick:()=>{f("eats:edit_address_v2_submit_click"),w?.reduce(((e,t)=>{const o=t?.fields?.[0],r=o?.property?.textInputProperty?.allowEmpty;if("TEXT_INPUT"===o?.type&&!r){const e=o?.key?.addressFieldKey;if(e&&!m?.[e])return!0}return e}),!1)?h(!0):Z((()=>{x&&t(x)}),{overrideLocationDraft:x,addressLabel:u,upsertDeliveryLocationRequestPayload:L})},children:(0,c.tZ)(r.v,{id:"shared.save"})})}},46700:(e,t,o)=>{o.d(t,{Z:()=>c});var r=o(1765),n=o(32857),i=o(68065),l=o(14016),a=o(91931),d=o(33990);const s=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{overflow:"hidden",borderRadius:t.sizing.scale300}})),c=e=>{let{coordinates:t,onClick:o}=e;const a=(0,l.T)();return(0,d.tZ)(s,{children:(0,d.tZ)(r.Z,{noZoomOnMouseWheelScroll:!0,coordinates:t,zoom:18,height:"148px",draggable:!1,showZoomButtons:!1,actionButton:(0,d.tZ)(n.Z,{"data-testid":"drop-off-entry-button",onClick:o,kind:i.TO.tertiary,size:i.NO.compact,shape:i.X3.pill,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,marginBottom:t.sizing.scale600}}}},children:a("location_manager.map_entry_point_button_title")})})})}},1765:(e,t,o)=>{o.d(t,{Z:()=>_});var r=o(43193),n=o(67007),i=o(55318),l=o(32909),a=o(91931),d=o(54612),s=o(42463),c=o("__fusion__665"),u=o(70401),h=o(65717),p=o(33990);function v(e){const t=["maps-sdk-map-controls-locate-me","maps-sdk-map-controls-zoom-in","maps-sdk-map-controls-zoom-out"],o=e.target;if(o&&"closest"in o&&"function"==typeof o.closest)for(const e of t)if(o.closest(`[name="${e}"]`))return!0;return!1}const f=(0,a.zo)("div",{alignItems:"center",bottom:"0px",display:"flex",flexDirection:"column",justifyContent:"center",left:"0px",pointerEvents:"none",position:"absolute",right:"0px",top:"0px"}),Z=(0,a.zo)("div",{height:"100%",width:"100%",position:"relative"}),y=(0,a.zo)("div",{top:0,position:"absolute",height:"100%",width:"100%"}),g=(0,a.zo)("div",{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end"}),m=e=>e.stopPropagation(),_=e=>{const t=225+((0,h.Z)()?0:56),[o,_]=(0,a.hQ)(),b=(0,n.q)(),[w,L]=r.useState(!1),[x,C]=r.useState(!1),T=r.useRef(null),[S,P]=r.useState({longitude:e.coordinates?.longitude||0,latitude:e.coordinates?.latitude||0,zoom:e.zoom||15,transitionDuration:300}),z=e.pinConstraints?.maxRadiusMeters||0,k=e.pinConstraints?.centerCoordinate?.longitude||0,B=e.pinConstraints?.centerCoordinate?.latitude||0,I=()=>{if(!T.current)return 0;const e=T.current.getMercatorViewport();if(!e)return 0;const t=e.getDistanceScales().metersPerUnit[0]/Math.pow(2,S.zoom);return z/t},D={coordinates:[k,B],content:(0,p.tZ)("div",{className:o({position:"absolute",transform:"translate(-50%, -50%)",width:2*I()+"px",height:2*I()+"px",borderRadius:"100%",border:`2px solid ${w?_.colors.negative:_.colors.primaryA}`,zIndex:"0"})}),provider:i.a.uber},R=r.useCallback((t=>{v(t)||(M.current.cancel(),e.draggable&&(C(!0),e.setCanSubmit?.(!1)))}),[e]),M=r.useRef((0,u.Z)((()=>{C(!1)}),300)),$=r.useCallback((e=>{v(e)||(M.current.cancel(),M.current())}),[]),H=r.useCallback((()=>{P({longitude:k,latitude:B,zoom:e.zoom||15,transitionDuration:300})}),[B,k,e.zoom]);return r.useEffect((()=>{e.pinConstraints&&((e,t,o,r)=>{const n=e*Math.PI/180,i=o*Math.PI/180,l=(o-e)*Math.PI/180,a=(r-t)*Math.PI/180,d=Math.sin(l/2)*Math.sin(l/2)+Math.cos(n)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))*6371e3})(B,k,S.latitude,S.longitude)>z?(L(!0),e.setCanSubmit?.(!1)):x||(L(!1),e.setCanSubmit?.(!0))}),[B,k,x,w,z,e,S.latitude,S.longitude]),b.data?(0,p.tZ)("div",{className:o({height:e.isMobileFullscreen?`calc(${e.height} - ${t}px)`:e.height,position:e.isMobileFullscreen?"fixed":"static",width:"100%"}),onPointerDown:R,onPointerUp:$,children:(0,p.BX)(Z,{...e.noZoomOnMouseWheelScroll?{onWheelCapture:m}:{},children:[(0,p.tZ)(l.Y,{ref:T,viewState:S,...e.draggable?{onClickLocateMe:H}:null,onViewStateChange:e.draggable?function(){const t=arguments.length<=0?void 0:arguments[0];P(t),e.onChange?.({longitude:t.longitude,latitude:t.latitude})}:null,overrides:{MapControls:{LocateMeButton:{icon:c.default}}},showZoomButtons:e.showZoomButtons,isLoadingLocation:!1,sessionId:b.data||"",theme:_.colors.colorPreference,onWheelCapture:e=>{"number"==typeof e.deltaY&&0!==e.deltaY&&(e.preventDefault(),e.stopPropagation(),P({...S,transitionDuration:300,zoom:S.zoom-e.deltaY/200}))},overlays:[[D]]}),(0,p.tZ)(f,{children:(0,p.tZ)(d.Z,{size:x||!e.draggable?s.x5.xSmallCircle:s.x5.medium,dragging:x,needle:e.draggable?s.dC.tall:s.dC.short,...w?{kind:s.TO.negative}:{},overrides:{Root:{style:{transform:"translate(0%, -70%)"}}},label:x?"":e.markerLabel})}),e.actionButton?(0,p.tZ)(y,{children:(0,p.tZ)(g,{children:e.actionButton})}):null]})}):null}},3899:(e,t,o)=>{o.d(t,{Z:()=>p});var r=o(46933),n=o(79851),i=o(95747),l=o(91931),a=o(32857),d=o(68065),s=o(33990);const c=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:t.sizing.scale600,...t.typography.HeadingXSmall}})),u=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600,...t.typography.ParagraphLarge}})),h=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}}));function p(e){let{onKeepAddress:t,onRemoveAddress:o}=e;const l=(0,n.Z)(),p=(0,i.Z)();return(0,s.BX)(s.HY,{children:[(0,s.tZ)(c,{children:(0,s.tZ)(r.v,{id:"components.address_entry.remove_confirmation"})}),(0,s.tZ)(u,{children:(0,s.tZ)(r.v,{id:"shared.action_undone_confirmation"})}),(0,s.BX)(h,{children:[(0,s.tZ)(a.Z,{onClick:()=>{o(),p(l)},children:(0,s.tZ)(r.v,{id:"shared.remove"})}),(0,s.tZ)(a.Z,{kind:d.TO.secondary,onClick:t,children:(0,s.tZ)(r.v,{id:"components.address_entry.keep_address"})})]})]})}},59696:(e,t,o)=>{o.d(t,{F:()=>i});var r=o(74622),n=o(62459);function i(){const e=(0,n.Z)("clearDeliveryLocationV1"),t=(0,r.useQueryClient)();return(0,r.useMutation)((t=>e.request("clearDeliveryLocationV1",t)),{onSuccess:()=>{t.invalidateQueries("getDeliveryLocationsV2")}})}},896:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(36151),n=o(91631),i=o(62149),l=o(47986),a=o(87444),d=o(54176),s=o(64282),c=o(33535);const u="uev2.venue-popover",h=()=>{const e=(0,n.k6)(),t=(0,i.TH)(),{feed:o}=(0,d.Z)(),h=(0,c.ZP)(),p=(0,s._)(),[v,f]=(0,r.useState)(Boolean(p.get(u).sent)),Z=o.data?.venueInfo?.rootSection?.uuid??"",y=(0,a.Z)("eats_at_venues")&&o.hasLoaded&&o.data?.venueInfo&&!v,g=(0,r.useCallback)((()=>{f(!1),p.remove(u)}),[p]);return{showVenueEntryPopover:(0,r.useCallback)((()=>{h("eats:venues_welcome_automated_popover_impression",{venueUuid:Z}),f(!0),p.set(u,{sent:!0},86400);const o=(0,l.Dc$)(t,Z);e.push(o)}),[h,Z,p,e,t]),shouldShowVenueEntryPopover:y,flushVenuePopoverState:g,sentVenuePopover:v}}},92717:(e,t,o)=>{o.d(t,{z:()=>l});var r=o(74622),n=o(2237),i=o(62459);function l(e,t){const o=(0,i.Z)("getAddressEntryFormV2"),l=(0,n.H)("getAddressEntryFormV2",e);return(0,r.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return o.request("getAddressEntryFormV2",t[1])},...t?.queryObserverOptions})}},79609:(e,t,o)=>{o.d(t,{Z:()=>x});var r=o(36151),n=o(15070),i=o(72843),l=o(17129),a=o(91631),d=o(47986),s=o(53614),c=o(46668),u=o(78284),h=o(20568),p=o(55758),v=o(30403),f=o(70496),Z=o(68094),y=o(896),g=o(62149),m=o(95698),_=o(4865),b=o(74622),w=o(2237),L=o(62459);const x=e=>{const t=(0,p.d)(),o=(0,f.Z)(),x=(0,r.useContext)(s.v),C=(0,g.TH)(),T=(0,a.k6)(),S=(0,Z.Z)(),[P,z]=(0,r.useState)(e.deliveryLocation),[k,B]=(0,r.useState)(e.deliveryLocation),[I,D]=(0,r.useState)(c.E),[R,M]=(0,r.useState)(!1),[$,H]=(0,r.useState)(S),{deliveryInstructions:E}=(0,v.Z)(k),V=(0,n.v)((e=>{let{user:t}=e;return t.data?.isLoggedIn||!1})),[O,X]=(0,r.useState)(Boolean(e.isEditMode)),{resetCoordinates:q}=(0,m.Z)(),{sentVenuePopover:A,flushVenuePopoverState:F}=(0,y.Z)(),N=function(e,t){const o=(0,L.Z)("getDeliveryLocationsV2"),r=(0,w.H)("getDeliveryLocationsV2",e);return(0,b.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return o.request("getDeliveryLocationsV2",t[1])},...t?.queryObserverOptions})}({locationTypes:["SUGGESTED"]},{queryObserverOptions:{enabled:V,staleTime:0}}),[U,W]=(0,r.useState)(null),G=(0,r.useCallback)((e=>{if(!e?.data?.deliveryLocations?.SUGGESTED||e?.isLoading||e?.error)e?.isLoading||D({data:null,hasLoaded:!0,isLoading:!1,error:e?.error||""});else{const t=(0,_.BU)(e?.data?.deliveryLocations.SUGGESTED);D({data:t,hasLoaded:!0,isLoading:!1,error:null})}}),[]),K=(0,r.useCallback)((e=>{B(e),z(e),M(!1)}),[]),Q=(0,r.useCallback)((e=>{z(e)}),[]),Y=(0,r.useCallback)((e=>{H(e)}),[]),j=(0,r.useCallback)((t=>{const o=t||P;if(!o||!o.address)return;if(e.disableRedirectToFeed)return;A&&F(),q();!(0,d.nyP)(C)&&x&&T.goBack(),T.replace(function(e,t,o){const r=(0,d.nyP)(e),n=r&&(0,d.v4Q)(r);if(n){const r=(0,l.Z)(n.search,["pl","lat","lng","d","st","et","next"]);return{pathname:n.path,search:`${i.stringify({...r,...t?{pl:(0,u.aj)((0,u.VN)(t))}:{},..."scheduled"in o?{d:o.date,st:o.startTime,et:o.endTime}:{}})}`,...e.state&&e.state.persistState?{state:e.state}:{}}}return(0,d.dat)(e,{deliveryLocation:t,..."scheduled"in o?{time:o}:{}})}(C,o,$))}),[x,T,C,P,$,e.disableRedirectToFeed,A,F,q]);(0,r.useEffect)((()=>{V&&!N?.isLoading&&G(N)}),[t,V,N?.isLoading,N?.data]);const J=(0,r.useCallback)((e=>{const t=e||P;o(t,$),j(t)}),[o,P,$,j]),ee=(0,h.Z)("clearDeliveryLocationV1",{continueOnUnmount:!0}),te=(0,r.useCallback)((()=>P?ee({placeId:P.reference,provider:P.referenceType}).then((()=>{I.data&&(D({...I,data:I.data.filter((e=>e.address.reference!==P.reference))}),X(!1))})):Promise.resolve()),[P,ee,I,D,X]);return{selectedDeliveryLocation:P,ephemeralLocation:k,ephemeralLocationInstruction:E,isEphemeralLocationTagged:R,taggedLocations:I,onLocationSelected:Q,onTypeaheadLocationSelected:K,selectedTimeOption:$,onTimeOptionSelected:Y,isLoggedIn:V,onDone:j,saveDeliveryDetailsLoggedOut:J,showDeliveryDetails:O,setShowDeliveryDetails:X,removeTaggedLocation:te,deliveryLocationsV2:N,setTaggedLocationsWithDeliveryLocations:G,selectedDeliveryLocationV2:U,setSelectedDeliveryLocationV2:W}}},45142:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(14016);function n(){const e=(0,r.T)();return t=>{switch(t){case"leave_at_door":return e("shared.deliverymethod.leave_at_door");case"curbside":return e("shared.deliverymethod.meet_outside");case"leave_inside_building_door":return e("shared.deliverymethod.leave_inside_building_door");case"leave_in_lobby":return e("shared.deliverymethod.leave_in_lobby");case"meet_in_lobby":return e("shared.deliverymethod.meet_in_lobby");default:return e("shared.deliverymethod.meet_at_door")}}}},43978:(e,t,o)=>{o.d(t,{Z:()=>a});var r=o(36151),n=o(14016),i=o(32711),l=o(41497);const a=e=>{const t=(0,n.T)(),{fetchLocations:o,handleLocationSelected:a,areLocationDetailsLoading:d,placeholder:s}=(0,i.Z)({onLocationSelected:e?.onLocationSelected,onLocationSelectedV2:e?.onLocationSelectedV2,overrideDiningMode:e.overrideDiningMode}),c=e=>a(e),u=(e,t)=>{const o=t?.[0];o&&c(o)},h=r.useCallback((e=>{let{results:o,query:r}=e;return 0===o.length?r?t("components.DeliveryLocationSearch.noResults"):"":r?t("components.MarketplaceSearch.resultsDescription",{numResults:o.length,searchTerm:r}):t("shared.searchResultsCount",{resultsCount:o.length})}),[]),{query:p,results:v,getLabelProps:f,getInputProps:Z,getMenuProps:y,getItemProps:g,reset:m,highlightedIndex:_,isOpen:b,openMenu:w}=(0,l.Z)({id:`location-typeahead-${e.id}`,initialQuery:e.initialQuery,fetchResults:e=>o(e),onResultSelected:c,getQueryFromResult:e=>e&&e?.addressLine1||"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:u,getA11yStatusMessage:h});return{query:p,locations:v,getLabelProps:f,getInputProps:Z,getMenuProps:y,getItemProps:g,reset:m,highlightedIndex:_,placeholder:s,isLoading:d||v.isLoading,showTryAgainMessage:Boolean(p&&v.hasLoaded&&v.data&&0===v.data.length),isOpen:b,openMenu:w,onSubmitWithNoSelectedResult:u}}},17129:(e,t,o)=>{o.d(t,{Z:()=>r});var r=function(e,t){var o={};"string"==typeof t&&(t=[].slice.call(arguments,1));for(var r in e)e.hasOwnProperty&&!e.hasOwnProperty(r)||-1===t.indexOf(r)&&(o[r]=e[r]);return o}}}]);