"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[95021],{36746:(e,t,i)=>{i.d(t,{Z:()=>g});var o=i(36151),r=i(92300),n=i(16782),l=i(28333),s=i(79810),a=i(84036);const d=(0,s.zo)("div",(e=>({...(0,a.d5)({$positive:!1,...e,$hasIconTrailing:!1}),width:e.$resize?"fit-content":"100%"})));d.displayName="StyledTextAreaRoot";const c=(0,s.zo)("div",(e=>(0,a.hB)({$positive:!1,...e})));c.displayName="StyledTextareaContainer";const u=(0,s.zo)("textarea",(e=>({...(0,a.Hx)(e),resize:e.$resize||"none"})));u.displayName="StyledTextarea";var h=i(33990);class p extends o.Component{static defaultProps={autoFocus:!1,disabled:!1,readOnly:!1,error:!1,name:"",onBlur:()=>{},onChange:()=>{},onKeyDown:()=>{},onKeyPress:()=>{},onKeyUp:()=>{},onFocus:()=>{},overrides:{},placeholder:"",required:!1,rows:3,size:n.NO.default};state={isFocused:this.props.autoFocus||!1};onFocus=e=>{this.setState({isFocused:!0}),this.props.onFocus(e)};onBlur=e=>{this.setState({isFocused:!1}),this.props.onBlur(e)};render(){const{overrides:e={}}=this.props,[t,i]=(0,r.jb)(e.Root,d),o=(0,r.aO)({Input:{component:u},InputContainer:{component:c}},e);return(0,h.tZ)(t,{"data-baseweb":"textarea",$isFocused:this.state.isFocused,$isReadOnly:this.props.readOnly,$disabled:this.props.disabled,$error:this.props.error,$positive:this.props.positive,$required:this.props.required,$resize:this.props.resize,...i,children:(0,h.tZ)(l.Z,{...this.props,type:n.iB.textarea,overrides:o,onFocus:this.onFocus,onBlur:this.onBlur,resize:this.props.resize})})}}const g=p},51640:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(15649),r=i(49201);const n=e=>{const t=(0,o.Z)();return(0,r.xG)(t,e.currencyCode,e.value,e.options)}},21491:(e,t,i)=>{i.d(t,{IJ:()=>c,ZP:()=>b,xf:()=>u});var o=i(36151),r=i(36278),n=i(31913),l=i(62091),s=i(91931),a=i(213),d=i(33990);const c="48px",u=c,h=(0,s.zo)("div",(e=>{let{$theme:t,$selected:i}=e;return{boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"16px",border:`3px solid ${i?t.colors.borderSelected:"transparent"}`,borderRadius:"8px",cursor:"pointer"}})),p=(0,s.zo)(l.Z,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:c,width:u,objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:c}})),g=(0,s.zo)("div",{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center"}),m=(0,s.zo)("div",{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),Z=(0,s.zo)("div",{flex:"1 1 auto",textOverflow:"ellipsis",whiteSpace:"nowrap"}),x=(0,s.zo)("div",{flex:"0 0 auto",whiteSpace:"nowrap"}),f=(e,t)=>{const{storeWithProducts:i,selected:o,onClick:l}=e,{storeUuid:s,leadingImageUrl:c,leadingTitle:u,trailingTitle:f,leadingLabel1:b,leadingLabel2:w,leadingLabel3:v,trailingLabel1:z,tags:y}=i;return(0,d.BX)(h,{$selected:o,onClick:()=>l(s||""),ref:t,"data-testid":"canonical-item-store-selector-option",children:[(0,d.tZ)(p,{src:c||""}),(0,d.tZ)(r.IQ,{}),(0,d.BX)(g,{children:[(0,d.BX)(m,{children:[(0,d.tZ)(Z,{children:(0,d.tZ)(n.ZP,{text:u})}),f?(0,d.BX)(d.HY,{children:[(0,d.tZ)(r.sA,{}),(0,d.tZ)(x,{children:(0,d.tZ)(n.ZP,{text:f})})]}):null]}),(0,d.BX)(m,{children:[b?(0,d.tZ)(Z,{children:(0,d.tZ)(n.ZP,{text:b})}):null,z?(0,d.BX)(d.HY,{children:[(0,d.tZ)(r.sA,{}),(0,d.tZ)(x,{children:(0,d.tZ)(n.ZP,{text:z})})]}):null]}),(0,d.tZ)(m,{children:w?(0,d.tZ)(Z,{children:(0,d.tZ)(n.ZP,{text:w})}):null}),(0,d.tZ)(m,{children:v?(0,d.tZ)(Z,{children:(0,d.tZ)(n.ZP,{text:v})}):null}),y?(0,d.tZ)(m,{children:(0,d.tZ)(a.A,{tags:y})}):null]})]})};f.displayName="CanonicalItemStoreSelectorOption";const b=o.forwardRef(f)},13003:(e,t,i)=>{i.d(t,{Z:()=>g});var o=i(36151),r=i(58092),n=i(91931),l=i(36278),s=i(14770),a=i(46933),d=i(48734),c=i(33990);const u=(0,n.zo)("div",{flexDirection:"column",maxWidth:"328px",fontSize:"14px",fontWeight:"500",lineHeight:"16px"}),h=(0,n.zo)("div",{display:"flex",flexDirection:"column",justifyContent:"center"}),p=e=>{let{children:t,isMobile:i,placement:n,shouldShowTooltip:p=!0}=e;const{shouldShowTooltip:g}=(0,d.Z)(),[m,Z]=(0,o.useState)(p);(0,o.useEffect)((()=>{p&&Z(g)}),[p,g]);const x=()=>{Z(!1)};return(0,c.tZ)(r.Z,{isOpen:m,placement:n,returnFocus:!1,autoFocus:!1,onClickOutside:x,ignoreBoundary:!0,overrides:{Body:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInversePrimary,outline:"none",borderTopLeftRadius:t.borders.radius300,borderTopRightRadius:t.borders.radius300,borderBottomRightRadius:t.borders.radius300,borderBottomLeftRadius:t.borders.radius300,maxWidth:i?"270px":"392px"}}},Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInversePrimary}}},Inner:{style:e=>{let{$theme:t}=e;return{outline:"none",backgroundColor:t.colors.backgroundInversePrimary,color:t.colors.contentInversePrimary,borderTopLeftRadius:t.borders.radius300,borderTopRightRadius:t.borders.radius300,borderBottomRightRadius:t.borders.radius300,borderBottomLeftRadius:t.borders.radius300,display:"flex",flexDirection:"row",paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600}}}},showArrow:!0,content:()=>(0,c.BX)(c.HY,{children:[(0,c.tZ)(u,{children:(0,c.tZ)(a.v,{id:"storeSelector.tooltipText"})}),(0,c.tZ)(l.ZP,{$width:"12px"}),(0,c.tZ)(h,{children:(0,c.tZ)(s.Z,{onClick:x,iconSize:"15px"})})]}),children:t})};p.displayName="CanonicalItemStoreSelectorTooltip";const g=p},25905:(e,t,i)=>{i.d(t,{Z:()=>$e});var o=i(36151),r=i(14016),n=i(33535),l=i(31139),s=i(43193),a=i(91931),d=i(36278),c=i(31913),u=i(62091),h=i(213),p=i(33990);const g="48px",m=(0,a.zo)("div",(e=>{let{$theme:t,$selected:i,$width:o,$imagePosition:r}=e;return{height:"120px",boxSizing:"border-box",display:"grid",gridTemplateColumns:"left"===r?"auto 1fr":"1fr auto",columnGap:t.sizing.scale600,...o?{minWidth:`${o}`}:{},...o?{maxWidth:`${o}`}:{},justifyContent:"flex-start",alignItems:"center",padding:i?"16px":"17px",border:`${i?"3px":"2px"} solid ${i?t.colors.borderSelected:t.colors.borderOpaque}`,borderRadius:"8px",cursor:"pointer",overflow:"hidden"}})),Z=(0,a.zo)(u.Z,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:g,width:"48px",objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:g}})),x=(0,a.zo)("div",{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"}),f=(0,a.zo)("div",{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",overflow:"hidden"}),b=(0,a.zo)("div",(e=>{let{$couldHaveTwolines:t=!1}=e;return{flex:"1 1 165px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t?{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"}:{}}})),w=(0,a.zo)("div",{flex:"0 0 auto",whiteSpace:"nowrap"}),v=o.forwardRef(((e,t)=>{let{storeWithProducts:i,selected:o,width:r,onClick:n,showPrice:l=!0}=e;const{storeUuid:s,leadingImageUrl:a,leadingTitle:u,trailingTitle:g,leadingLabel1:v,trailingLabel1:z,leadingLabel2:y,tags:S}=i,$=0===S?.length,P=g?"left":"right";return(0,p.BX)(m,{ref:t,$selected:o,$width:r,$imagePosition:P,onClick:()=>n(s||""),"data-testid":"canonical-item-compact-store-selector-option",children:["left"===P?(0,p.tZ)(Z,{src:a||""}):null,(0,p.BX)(x,{children:[(0,p.BX)(f,{children:[l||o?(0,p.tZ)(b,{$couldHaveTwolines:$,children:(0,p.tZ)(c.ZP,{text:u,whiteSpace:$?"normal":"nowrap"})}):null,g&&(l||o)?(0,p.BX)(p.HY,{children:[(0,p.tZ)(d.sA,{}),(0,p.tZ)(w,{children:(0,p.tZ)(c.ZP,{text:g})})]}):null]}),(0,p.BX)(f,{children:[v?(0,p.tZ)(b,{$couldHaveTwolines:$,children:(0,p.tZ)(c.ZP,{text:v,whiteSpace:$?"normal":"nowrap"})}):null,z?(0,p.BX)(p.HY,{children:[(0,p.tZ)(d.sA,{}),(0,p.tZ)(w,{children:(0,p.tZ)(c.ZP,{text:z})})]}):null]}),(0,p.tZ)(f,{children:y?(0,p.tZ)(b,{children:(0,p.tZ)(c.ZP,{text:y})}):null}),S?(0,p.tZ)(f,{children:(0,p.tZ)(h.A,{tags:S})}):null]}),"right"===P?(0,p.tZ)(Z,{src:a||""}):null]})}));v.displayName="CanonicalItemCompactStoreSelectorOption";const z=v;var y=i("__fusion__580"),S=i(87444),$=i(67848),P=i(41491),C=i(13003),k=i(79406),B=i(69744),_=i("__fusion__568"),L=i(86695),I=i(68065),T=i(94579);const R=e=>{let{shouldShowControllers:t=null,handlePageChange:i,isNextPageDisabled:o,isPreviousPageDisabled:r}=e;const n=s.useCallback(((e,i)=>((e,t,i,o,r)=>{const n="left"===e&&t||"right"===e&&i;return{position:"absolute",[e]:r.sizing.scale400,top:r.sizing.scale1000,backgroundColor:r.colors.backgroundPrimary,boxShadow:r.shadows.floatingButton,zIndex:T.I_.cover,opacity:o?n?0:1:0,...null===o||n?{}:{animationDuration:"0.3s",animationTimingFunction:"ease-in-out",animationName:{"0%":{opacity:o?0:1},"100%":{opacity:o?1:0}}}}})(e,r,o,t,i)),[o,r,t]);return(0,p.BX)(p.HY,{children:[(0,p.tZ)(L.zx,{kind:L.TO.tertiary,shape:I.X3.circle,size:I.NO.compact,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return n("right",t)}}},onClick:()=>i("forward"),children:(0,p.tZ)(y.default,{})}),(0,p.tZ)(L.zx,{kind:L.TO.tertiary,shape:I.X3.circle,size:I.NO.compact,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return n("left",t)}}},onClick:()=>i("back"),children:(0,p.tZ)(_.default,{})})]})};var X=i(96911),D=i(58984),U=i(24484),O=i(70401);const M=(0,a.zo)("div",(()=>({display:"flex",flexDirection:"column"})));(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary,whiteSpace:"pre-wrap"}})).displayName="StoreCountHeading";const H=(0,a.zo)("div",(e=>{let{$theme:t,$hasScrollControllers:i=!1}=e;return{display:"flex",flexDirection:"row",alignItems:"center",gap:"8px",overflowX:"auto",WebkitOverflowScrolling:"touch",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},...i&&{paddingLeft:t.sizing.scale800}}})),N=(0,a.zo)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,textDecoration:"none",textAlign:"center",cursor:"pointer",whiteSpace:"nowrap",display:"flex",flexDirection:"column",alignItems:"center",minWidth:t.sizing.scale2400,aspectRatio:"1:1"}}));N.displayName="ShowMore";const W=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),F=(0,a.zo)("span",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale500}})),E=(0,a.zo)("div",{position:"relative"}),j=e=>{let{defaultSelectedStoreUuid:t,storesWithProducts:i=[],isMobile:r,onSelectStore:l,onExpandList:a,expandListLabel:d,title:u,showHeader:h=!0,tooltip:g,isInCart:m=!1,showPrice:Z=!0}=e;const x=(0,n.ZP)(),[f,b]=s.useState(null),{containerRef:w,getPageProps:v,isPreviousPageDisabled:_,isNextPageDisabled:L,handlePageChange:I}=(0,X.Z)({scrollOffset:-228}),T=(0,D.I0)(),j=i.findIndex((e=>e.storeUuid===t));(0,o.useEffect)((()=>{w?.current&&(w.current.scrollLeft=-228*-j)}),[w,j]);const A=(0,S.Z)("enable_canonical_pdp_split_cart_tooltip");(0,o.useEffect)((()=>{g&&A&&x("eats:split_cart_nudge_prompt_shown")}),[g,A,x]);const Y=(0,O.Z)(b,200);return 0===i.length?null:(0,p.BX)(M,{onMouseEnter:()=>{i.length>1&&Y(!0)},onMouseLeave:()=>{Y(!1)},children:[h?(0,p.tZ)(W,{children:(0,p.tZ)(c.ZP,{text:u})}):null,A&&g?(0,p.tZ)($.j,{kind:P.TO.info,overrides:{Root:{style:e=>{let{$theme:t}=e;return{marginLeft:0,marginRight:0,backgroundColor:t.colors.backgroundSecondary}}}},children:(0,p.tZ)(c.ZP,{text:g})}):null,(0,p.tZ)(C.Z,{isMobile:r,placement:r?k.r4.topLeft:k.r4.left,shouldShowTooltip:!m,children:(0,p.BX)(E,{children:[r?null:(0,p.tZ)(R,{shouldShowControllers:f,handlePageChange:I,isPreviousPageDisabled:_,isNextPageDisabled:L}),(0,p.BX)(H,{ref:w,$hasScrollControllers:!r,children:[i.map(((e,o)=>(0,p.tZ)("div",{onClick:()=>{T((0,U.tK)(w.current?.scrollLeft||0)),l(e,o)},...v(o,i.length),children:(0,p.tZ)(z,{storeWithProducts:e,selected:e.storeUuid===t,onClick:B.Z,width:1===i.length?"100%":"280px",showPrice:Z})},e.storeUuid))),a?(0,p.tZ)(p.HY,{children:(0,p.BX)(N,{onClick:a,role:"button",children:[(0,p.tZ)(y.default,{}),(0,p.tZ)(F,{children:d})]})}):null]})]})})]})};j.displayName="CanonicalItemHorizontalStoreSelector";const A=j;var Y=i(52298),q=i(99527),V=i(48734),K=i(73448);const Q=(0,a.zo)("div",{display:"flex",flexDirection:"column"});(0,a.zo)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,textDecoration:"none",textAlign:"center",cursor:"pointer"}})).displayName="ShowMore";const G=e=>{let{defaultSelectedStoreUuid:t,storesWithProducts:i=[],isMobile:r,onSelectStore:l,onExpandList:a,expandListLabel:d,title:u,showHeader:h=!0,tooltip:g,showPrice:m=!0}=e;const Z=s.useRef(null),x=s.useRef(null),{scrollIntoView:f}=(0,q.Z)({ref:Z,scrollDelay:0,scrollIntoViewOptions:{behavior:"smooth",block:"center",inline:"center"}}),b=(0,n.ZP)(),{shouldShowTooltip:w}=(0,V.Z)(),v=(0,S.Z)("enable_canonical_pdp_split_cart_tooltip");return(0,o.useEffect)((()=>{g&&v&&b("eats:split_cart_nudge_prompt_shown")}),[g,v,b]),s.useEffect((()=>{x.current!==Z.current&&(f(),x.current=Z.current)}),[f]),0===i.length?null:(0,p.BX)(Q,{"data-testid":"canonical-item-compact-store-selector-container",children:[h?(0,p.tZ)(c.ZP,{text:u}):null,(0,p.tZ)(Y.ZP,{$height:8}),v&&g?(0,p.tZ)($.j,{kind:P.TO.info,overrides:{Root:{style:e=>{let{$theme:t}=e;return{marginLeft:0,marginRight:0,backgroundColor:t.colors.backgroundSecondary}}}},children:(0,p.tZ)(c.ZP,{text:g})}):null,i.map(((e,i)=>(0,p.BX)("div",{onClick:()=>l(e,i),children:[0===i?null:(0,p.tZ)(Y.ZP,{$height:8}),(0,p.tZ)(K.Z,{condition:0===i&&w,wrapper:t=>(0,p.tZ)(C.Z,{placement:k.r4.left,isMobile:r,children:t},`store-${e.storeUuid}`),children:(0,p.tZ)(z,{storeWithProducts:e,selected:e.storeUuid===t,onClick:B.Z,ref:e.storeUuid===t?Z:void 0,showPrice:m})},i)]},`store-${e.storeUuid}`))),a?(0,p.BX)(p.HY,{children:[(0,p.tZ)(Y.ZP,{$height:6}),(0,p.tZ)(L.zx,{kind:L.TO.monochromatic,onClick:a,children:d})]}):(0,p.tZ)(Y.ZP,{$height:4})]})};G.displayName="CanonicalItemCompactStoreSelector";const J=G;var ee=i(46933),te=i(75161),ie=i(91086),oe=i(33259),re=i(34217),ne=i(70589),le=i(4909);const se=e=>{let{storesWithProducts:t=[],defaultSelectedStoreUuid:i,onSelectStore:r,onExpandList:n,expandListLabel:l,onClose:s,title:a,showPrice:d=!0}=e;const[u,h]=o.useState(null);null===u&&i&&h(i);const g=o.useCallback((e=>{e.storeUuid&&h(e.storeUuid)}),[]),m=o.useCallback((()=>{const e=t.findIndex((e=>e.storeUuid===u)),i=t[e];i&&r(i,e),s()}),[s,r,u,t]);return(0,p.BX)(te.u_,{onClose:s,children:[(0,p.tZ)(ie.xB,{isExpanded:!0,leftButton:(0,p.tZ)(oe.hQ,{onClick:s}),title:(0,p.tZ)(c.ZP,{text:a})}),(0,p.tZ)(re.f,{$removeMarginTop:!0,children:(0,p.tZ)(J,{isMobile:!1,storesWithProducts:t,maxStoresInitiallyDisplayed:t.length,defaultSelectedStoreUuid:u,showHeader:!1,onSelectStore:g,onExpandList:n,expandListLabel:l,title:a,showPrice:d})}),(0,p.tZ)(ne.m,{children:(0,p.tZ)(le.V,{onClick:m,children:(0,p.tZ)(ee.v,{id:"shared.done"})})})]})};var ae=i(58679),de=i(34567);const ce=(0,a.w1)(ae._g,(e=>{let{$theme:t}=e;return{background:"white",padding:t.sizing.scale600,position:"sticky",top:0}})),ue=(0,a.zo)("footer",(e=>{let{$theme:t}=e;return{background:"white",padding:t.sizing.scale600,position:"sticky",bottom:0,boxShadow:t.lighting.deepBelow}})),he=e=>{let{storesWithProducts:t=[],defaultSelectedStoreUuid:i,onSelectStore:r,onExpandList:n,expandListLabel:l,onClose:s,title:a,showPrice:d=!0}=e;const[u,h]=o.useState(null);null===u&&i&&h(i);const g=o.useCallback((e=>{e.storeUuid&&h(e.storeUuid)}),[]),m=o.useCallback((()=>{const e=t.findIndex((e=>e.storeUuid===u)),i=t[e];i&&r(i,e),s()}),[s,r,u,t]);return(0,p.BX)(ae.R1,{onClose:s,children:[(0,p.tZ)(ce,{children:(0,p.tZ)(c.ZP,{text:a})}),(0,p.tZ)(ae.bd,{children:(0,p.tZ)(J,{isMobile:!0,storesWithProducts:t,maxStoresInitiallyDisplayed:t.length,defaultSelectedStoreUuid:u,onExpandList:n,expandListLabel:l,onSelectStore:g,showHeader:!1,title:a,showPrice:d})}),(0,p.tZ)(ue,{children:(0,p.tZ)(de.Z,{onClick:m,children:(0,p.tZ)(ee.v,{id:"shared.done"})})})]})};var pe=i("__fusion__681");const ge=(0,a.zo)(u.Z,(e=>{let{$theme:t}=e;return{flex:"0 0 auto",height:"40px",width:"40px",objectFit:"cover",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"40px;"}})),me=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",gap:t.sizing.scale600,height:t.sizing.scale1200,justifyContent:"space-between",cursor:"pointer"}})),Ze=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",display:"flex",flexDirection:"column",gap:t.sizing.scale100,overflow:"hidden",...t.typography.LabelMedium}})),xe=(0,a.zo)("p",(e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.ParagraphSmall}})),fe=(0,a.zo)("p",(e=>{let{$theme:t}=e;return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t.typography.LabelMedium}})),be=(0,a.zo)("div",{display:"flex"}),we=(0,a.zo)(pe.default,(e=>{let{$theme:t}=e;return{color:t.colors.contentStateDisabled}})),ve=e=>{let{selectedStore:t,onOpenPopup:i,hiddenStores:o}=e;const n=(0,r.T)(),l=`${o&&o>1?n("canonical_item.store_selector.compare_at_x_store",{count:o}):n("canonical_item.store_selector.compare_at_1_store")}`;return(0,p.BX)(me,{onClick:i,children:[(0,p.tZ)(ge,{src:t.leadingImageUrl||""}),(0,p.BX)(Ze,{children:[(0,p.tZ)(fe,{children:t.merchantName}),(0,p.tZ)(xe,{children:o&&o>0?l:null})]}),(0,p.tZ)(be,{children:(0,p.tZ)(we,{size:24})})]})};var ze=i(13319);const ye=[],Se=(e,t,i)=>{const o=e.findIndex((e=>e.storeUuid===t)),r=o>=0?e[o]:null;return o<i||!r?e.slice(0,i):[r,...e].slice(0,i)},$e=e=>{let{expansionMode:t="show_more",displayType:i="vertical",title:s,...a}=e;const{storesWithProducts:d=ye,maxStoresInitiallyDisplayed:c=3,showMoreIncrement:u=6,isMobile:h,productUuid:g,onSelectStore:m,tooltip:Z,defaultSelectedStoreUuid:x,isInCart:f=!1}=a,b=(0,n.ZP)(),w=(0,r.T)(),{canonicalItemStoreUuid:v,setCanonicalItemStoreUuid:z,menuItem:y}=(0,l.e3)(),[S,$]=o.useState(c),P=d.length-S,C=Math.min(P,u),k=o.useRef(0),[B,_]=o.useState(!1),L="show_more"===t?w("show_x_more",{count:C}):w("canonical_item.store_selector.see_all"),I=o.useMemo((()=>Se(d,v,S)),[v,S,d]),[T,R]=o.useState(I);I!==T&&R(I);const X=d.length===T.length,D=o.useCallback((e=>{const t=Se(d,e.storeUuid,S);R(t)}),[d,S]),U=o.useCallback(((e,t)=>{z(e.storeUuid),b("eats:merchant_selected_in_product_page",{productDetails:{canonicalPDP:{canonicalProductUuid:String(g||""),selectedMerchant:e,selectedMerchantIndex:t}}})}),[b,g,z]),O=o.useCallback(((e,t)=>{U(e,t),D(e)}),[U,D]),M=o.useCallback((()=>{const e=S+C,{title:t,uuid:i}=y?.data||{};k.current=k.current+1,$(e),b("eats:product_details_merchant_selector_see_more_clicked",{productDetails:{itemName:t,itemUuid:i,canonicalPDP:{numberOfMerchantsVisible:e,totalNumberOfMerchants:d.length,totalNumberOfClicks:k.current}}})}),[b,S,y?.data,C,d.length]),H=o.useCallback((()=>_(!0)),[]),N=o.useCallback((()=>_(!1)),[]),W="show_more"===t?M:H,F=o.useMemo((()=>d.find((e=>e.storeUuid===v))??d[0]),[v,d]),E="horizontal"===i?A:J,j=h?he:se,Y=!(0,ze.Z)()||f;return(0,p.BX)(p.HY,{children:["dropdown"===i?F?(0,p.tZ)(ve,{selectedStore:F,hiddenStores:P,onOpenPopup:H}):null:(0,p.tZ)(E,{...a,defaultSelectedStoreUuid:f?x:v,storesWithProducts:T,onSelectStore:m??U,onExpandList:X?null:W,expandListLabel:X?null:L,title:s,tooltip:Z,isInCart:f,showPrice:Y}),B?(0,p.tZ)(j,{...a,defaultSelectedStoreUuid:f?x:v,onSelectStore:m??O,onClose:N,title:s,showPrice:Y}):null]})}},213:(e,t,i)=>{i.d(t,{A:()=>s});var o=i(13041),r=i(91931),n=i(33990);const l=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:t.sizing.scale300,marginTop:t.sizing.scale200}})),s=e=>{let{tags:t}=e;return t?(0,n.tZ)(l,{children:t.map(((e,t)=>(0,n.tZ)(o.Z,{tag:e},`tag-${t}`)))}):null}},48734:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(36151),r=i(68799),n=i(61127),l=i(87444);const s=()=>{const e=(0,l.Z)("canonical_product_store_selector_v2_enabled")?"uev2.store-selector-tooltip-v2":"uev2.store-selector-tooltip",[t,i]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const t=(0,r.Z7)(e),o=(0,n.Z)(t)||t.show;i(o),o&&setTimeout((()=>{(0,r.pc)(e,{show:!1})}),300)}),[e]),{shouldShowTooltip:t}}},34217:(e,t,i)=>{i.d(t,{f:()=>r});var o=i(66041);const r=(0,i(91931).w1)(o.fe,(e=>{let{$theme:t,$removeMarginTop:i,$removeMarginBottom:o}=e;return{marginLeft:t.sizing.scale600,marginRight:t.sizing.scale600,marginTop:i?0:t.sizing.scale600,marginBottom:o?0:t.sizing.scale600,[t.mediaQuery.medium]:{marginLeft:t.sizing.scale800,marginRight:t.sizing.scale800,marginTop:i?0:t.sizing.scale800,marginBottom:o?0:t.sizing.scale800},color:t.colors.contentPrimary,isolation:"isolate"}}))},70589:(e,t,i)=>{i.d(t,{m:()=>d});var o=i(91931),r=i(37771),n=i(33990);const l=(0,o.zo)("div",(e=>{let{$theme:t,$sticky:i,$isStuck:o}=e;return{paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600,[t.mediaQuery.medium]:{paddingLeft:t.sizing.scale800,paddingRight:t.sizing.scale800,paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale800},...i?{background:t.colors.backgroundPrimary,position:"sticky",bottom:0,boxShadow:o?t.lighting.shallowAbove:void 0}:null}})),s=(0,o.zo)("div",{flexGrow:1}),a=(0,o.zo)("div",{height:"0px"}),d=(0,o.Le)(l,(e=>function(t){const{sticky:i=!0,pushToBottom:o=!0,children:l}=t,{sentinelHidden:d,sentinelRef:c}=(0,r.U)({detectionMode:r.P.below});return(0,n.BX)(n.HY,{children:[o?(0,n.tZ)(s,{}):null,i?(0,n.tZ)(a,{ref:c}):null,(0,n.tZ)(e,{$sticky:i,$isStuck:i&&d,children:l})]})}))},74820:(e,t,i)=>{i.d(t,{r:()=>s});var o=i(91931),r=i(12675),n=i(33990);const l=(0,o.zo)("h1",(e=>{let{$theme:t,$overrides:i}=e;return{...t.typography.HeadingLarge,marginBottom:t.sizing.scale600,...i}})),s=(0,o.Le)(l,(e=>function(t){const{modalTitleRef:i}=(0,r.v)();return(0,n.tZ)(e,{ref:i,$overrides:t.overrides??{},children:t.children})}))},52945:(e,t,i)=>{i.d(t,{R:()=>S,T:()=>y});var o=i(34337),r=i(91931),n=i(86695),l=i(68065),s=i(46933),a=i(13319),d=i(21491),c=i(33990);const u=(0,r.zo)("div",{height:"100vh",position:"relative"}),h=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale300} ${t.sizing.scale600} ${t.sizing.scale600} ${t.sizing.scale600}`,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),p=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale800} ${t.sizing.scale600}`,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),g=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",gap:t.sizing.scale300,overflow:"hidden"}})),m=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{border:`3px solid ${t.colors.borderOpaque}`,padding:t.sizing.scale600,borderRadius:t.borders.radius400,display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),Z=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300}})),x=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{border:`3px solid ${t.colors.borderOpaque}`,padding:`${t.sizing.scale600} ${t.sizing.scale700}`,borderRadius:t.borders.radius400,display:"flex",gap:t.sizing.scale600,alignItems:"center"}})),f=(0,r.zo)("div",(e=>{let{$theme:t,$isSticky:i=!0}=e;return{boxShadow:i?t.shadows.floatingButton:"none",position:i?"absolute":"inherit",bottom:0,width:"100%"}})),b=(0,r.zo)("div",{display:"flex",flexDirection:"column",gap:"2px"}),w=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale500} ${t.sizing.scale600}`}})),v=()=>(0,c.BX)(m,{children:[(0,c.tZ)(o.Z,{height:"20px",width:"124px",animation:!0}),(0,c.tZ)(o.Z,{height:"20px",width:"124px",animation:!0})]}),z=()=>(0,c.BX)(x,{children:[(0,c.BX)(b,{children:[(0,c.tZ)(o.Z,{height:"20px",width:"72px",animation:!0}),(0,c.tZ)(o.Z,{height:"20px",width:"184px",animation:!0}),(0,c.tZ)(o.Z,{height:"20px",width:"167px",animation:!0}),(0,c.tZ)(o.Z,{height:"20px",width:"55px",animation:!0})]}),(0,c.tZ)(o.Z,{width:d.IJ,height:d.xf,overrides:{Root:{style:{borderRadius:"50%"}}}})]}),y=e=>{let{showHeader:t=!1}=e;return(0,c.BX)(Z,{children:[t?(0,c.tZ)(o.Z,{height:"28px",animation:!0}):null,(0,c.BX)(g,{children:[(0,c.tZ)(z,{}),(0,c.tZ)(z,{})]})]})},S=()=>{const e=(0,a.Z)();return(0,c.BX)(u,{children:[(0,c.tZ)(o.Z,{height:"211px"}),(0,c.BX)(h,{children:[(0,c.tZ)(o.Z,{height:"24px",animation:!0}),(0,c.tZ)(o.Z,{height:"24px",width:"174px",animation:!0}),(0,c.tZ)(o.Z,{height:"24px",width:"58px",animation:!0})]}),(0,c.BX)(p,{children:[(0,c.tZ)(o.Z,{height:"28px",animation:!0}),(0,c.BX)(g,{children:[(0,c.tZ)(v,{}),(0,c.tZ)(v,{}),(0,c.tZ)(v,{})]})]}),(0,c.tZ)(w,{children:(0,c.tZ)(y,{showHeader:!0})}),(0,c.tZ)(f,{$isSticky:!e,children:(0,c.tZ)(n.zx,{size:l.NO.large,disabled:!0,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{margin:t.sizing.scale600,width:"calc(100% - 32px)"}}}},children:(0,c.tZ)(s.v,{id:"shared.add_to_cart"})})})]})}},99527:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(75514),r=i(36151);const n=e=>{let{ref:t,scrollDelay:i,scrollIntoViewOptions:n={behavior:"smooth",block:"start"}}=e;return{scrollIntoView:(0,r.useCallback)((()=>{let e;const r=t?.current;if(r){if(o.Z&&r){const t=r.getBoundingClientRect().top,l=o.Z.innerHeight;t>=0&&t<=l||(i?e=setTimeout((()=>{r.scrollIntoView(n)}),i):r.scrollIntoView(n))}return()=>clearTimeout(e)}}),[t,i,n])}}}}]);