"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[4661],{67801:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(79810);const a=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{boxSizing:"border-box",display:"flex",flexDirection:"column",gap:t.sizing.scale300,width:"100%",paddingTop:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale600,paddingLeft:t.sizing.scale600,backgroundColor:t.colors.backgroundPrimary,container:"root / inline-size"}}));a.displayName="StyledRoot";const r=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300,"@container root (inline-size > 600px)":{flexDirection:"row",justifyContent:"space-between"}}}));r.displayName="StyledActionContainer";const o=(0,i.zo)("div",(e=>{let{$reverseWhenWide:t,$theme:n}=e;return{display:"flex",flexDirection:"column",gap:n.sizing.scale300,"@container root (inline-size > 600px)":{flexDirection:t?"row-reverse":"row"}}}));o.displayName="StyledActionSubContainer";var E=n(92300),s=n(33990);const l=e=>{const{primaryAction:t,secondaryActions:n,dismissiveAction:i,topAccessory:l,overrides:c={}}=e,[d,u]=(0,E.jb)(c.Root,a),[O,_]=(0,E.jb)(c.ActionContainer,r),[R,S]=(0,E.jb)(c.ActionSubContainer,o);return(0,s.BX)(d,{...u,children:[l,(0,s.BX)(O,{..._,children:[(0,s.tZ)(R,{...S,children:n}),(0,s.BX)(R,{$reverseWhenWide:!0,...S,children:[t,i]})]})]})}},94722:(e,t,n)=>{n.d(t,{Us:()=>i});Object.freeze({NONE:"NONE",PILL:"PILL"}),Object.freeze({PLAIN:"PLAIN",BANNER:"BANNER"});const i=Object.freeze({UNKNOWN:"UNKNOWN",BOTTOM_SHEET:"BOTTOM_SHEET",COMPLETE_ORDER:"COMPLETE_ORDER",CALL_PHONE:"CALL_PHONE",REQUEST_ORDER_UPDATE:"REQUEST_ORDER_UPDATE",NAVIGATE_TO_STORE:"NAVIGATE_TO_STORE",TIP:"TIP",OPEN_MULTI_RESTAURANT_DRAWER:"OPEN_MULTI_RESTAURANT_DRAWER",MEMBERSHIP:"MEMBERSHIP",SHOW_ORDER_DETAILS:"SHOW_ORDER_DETAILS",ORDER_NOT_YET_READY:"ORDER_NOT_YET_READY",RIDE_TO_STORE:"RIDE_TO_STORE",AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE:"AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE",AUTONOMOUS_DELIVERY_FIND_VEHICLE:"AUTONOMOUS_DELIVERY_FIND_VEHICLE",AUTONOMOUS_DELIVERY_CALL_OPERATOR:"AUTONOMOUS_DELIVERY_CALL_OPERATOR",AUTONOMOUS_DELIVERY_CONTACT_SUPPORT:"AUTONOMOUS_DELIVERY_CONTACT_SUPPORT",UPDATE_DELIVERY_INSTRUCTIONS:"UPDATE_DELIVERY_INSTRUCTIONS",BOOK_UBER_RIDE:"BOOK_UBER_RIDE",UPDATE_DELIVERY_ADDRESS:"UPDATE_DELIVERY_ADDRESS",UPDATE_INTERACTION_TYPE:"UPDATE_INTERACTION_TYPE",AUTONOMOUS_DELIVERY_RECEIVE_ORDER:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS",SCHEDULE_ORDER:"SCHEDULE_ORDER",VIEW_STORE:"VIEW_STORE",UPDATE_COMPLIANCE_CONSENTS:"UPDATE_COMPLIANCE_CONSENTS"});Object.freeze({TOP_CENTERED:"TOP_CENTERED",FULL_WIDTH:"FULL_WIDTH",FULL_HEIGHT:"FULL_HEIGHT"}),Object.freeze({UNKNOWN:"UNKNOWN",PRIMARY_STORE:"PRIMARY_STORE",ADD_ON_STORE:"ADD_ON_STORE"}),Object.freeze({UNKNOWN:"UNKNOWN",COPY:"COPY"}),Object.freeze({DYNAMIC_BOOKING_FEE:"DYNAMIC_BOOKING_FEE",BUSY_AREA_FEE:"BUSY_AREA_FEE",MEAL_VOUCHER:"MEAL_VOUCHER",ORDER_HISTORY:"ORDER_HISTORY",BANDWAGON:"BANDWAGON",ALLERGEN_DISCLAIMER:"ALLERGEN_DISCLAIMER",AGGREGATOR_STOREFRONT:"AGGREGATOR_STOREFRONT",UNKNOWN:"UNKNOWN",OTHER_FEES:"OTHER_FEES",SERVICE_FEES:"SERVICE_FEES",FEE_DISCLAIMER:"FEE_DISCLAIMER",BASKET_SIZE:"BASKET_SIZE",RESERVED_12:"RESERVED_12",RESERVED_13:"RESERVED_13",RESERVED_14:"RESERVED_14",RESERVED_15:"RESERVED_15",RESERVED_16:"RESERVED_16",RESERVED_17:"RESERVED_17"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED",REQUIRED_SINGLE_OPTION:"REQUIRED_SINGLE_OPTION",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({ANY_STORE:"ANY_STORE",IS_BASKET_FROM_SAME_STORE:"IS_BASKET_FROM_SAME_STORE",IS_BASKET_NOT_FROM_SAME_STORE:"IS_BASKET_NOT_FROM_SAME_STORE",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",TOP_EATS_PROMISE:"TOP_EATS_PROMISE",EATS_PROMISE:"EATS_PROMISE"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING"}),Object.freeze({NONE:"NONE",LINE:"LINE",SPACE:"SPACE"}),Object.freeze({UNKNOWN:"UNKNOWN",NO_RUSH_DELIVERY:"NO_RUSH_DELIVERY",STANDARD_DELIVERY:"STANDARD_DELIVERY",PREMIUM_DELIVERY:"PREMIUM_DELIVERY",ETD_SURGE_DELIVERY:"ETD_SURGE_DELIVERY",OPT_IN_TYPE_RESERVED_5:"OPT_IN_TYPE_RESERVED_5",OPT_IN_TYPE_RESERVED_6:"OPT_IN_TYPE_RESERVED_6",OPT_IN_TYPE_RESERVED_7:"OPT_IN_TYPE_RESERVED_7"})},4661:(e,t,n)=>{n.d(t,{P:()=>A,Z:()=>N});var i=n(52298),a=n(192),r=n(34567),o=n(22787),E=n(39010),s=n(36925),l=n(89400),c=n(52692),d=n(91931),u=n(62091),O=n(58679),_=n(67801),R=n(94292),S=n(31913),I=n(33990);const T=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600}})),m=(0,d.zo)("div",(e=>{let{$theme:t,$hasCenteredTitle:n=!0}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary,textAlign:n?"center":"left"}})),p=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),D=(0,d.zo)(u.Z,{objectFit:"cover",height:"200px",width:"100%"});function N(e){let{bottomSheet:t,onClose:n}=e;return(0,I.tZ)(s.ZP,{handleClick:n,children:(0,I.BX)(T,{children:[t.title?(0,I.tZ)(m,{children:t.title}):null,(0,I.tZ)(c.Z,{$margin:"16px -16px 0",$height:"2px"}),t.body?(0,I.BX)(p,{children:[(0,I.tZ)(i.ZP,{$height:16}),(0,I.tZ)(a.Z,{lines:t.body})]}):null,(0,I.tZ)(E.U,{paragraphs:t.paragraphs}),t.buttonText||t.secondaryButton?(0,I.tZ)(i.ZP,{$height:16}):null,t.buttonText?(0,I.BX)(I.HY,{children:[(0,I.tZ)(i.ZP,{$height:8}),(0,I.tZ)(r.Z,{onClick:n,children:t.buttonText})]}):null,t.secondaryButton?(0,I.BX)(I.HY,{children:[(0,I.tZ)(i.ZP,{$height:8}),(0,I.tZ)(o.Z,{$as:"a",href:t.secondaryButton.url,target:"_blank",children:t.secondaryButton.text})]}):null]})})}function A(e){let{metadata:t,bottomSheet:n,onClose:a,isOpen:r=!0,__invertIconColorOnDarkMode:o,closable:s=!0}=e;const d=n.secondaryButtonText&&n.url,{primaryButton:u,secondaryButton:N}=(0,R.Z)({metadata:t,bottomSheet:n,onClose:a}),A=()=>n?.title?.text?(0,I.tZ)(I.HY,{children:n.title.text}):n?.title?.richtext?(0,I.tZ)(S.ZP,{text:n?.title?.richtext}):null;return(0,I.BX)(O.R1,{onClose:a,isOpen:r,closeable:s,children:[n.heroImgUrl?(0,I.tZ)(D,{src:n.heroImgUrl}):null,(0,I.BX)(T,{children:[n.title?(0,I.tZ)(m,{$hasCenteredTitle:!n.heroImgUrl,children:(0,I.tZ)(A,{})}):null,n.heroImgUrl?null:(0,I.tZ)(c.Z,{$margin:"16px -16px 0",$height:"2px"}),n.body?(0,I.BX)(p,{children:[(0,I.tZ)(i.ZP,{$height:16}),(0,I.tZ)(l.Z,{badge:n.body})]}):null,(0,I.tZ)(E.U,{paragraphs:n.paragraphs,__invertIconColorOnDarkMode:o}),n.buttonText||d?(0,I.tZ)(i.ZP,{$height:16}):null]}),(0,I.tZ)(_.Z,{primaryAction:u,dismissiveAction:N})]})}},39010:(e,t,n)=>{n.d(t,{U:()=>I});var i=n(91931),a=n(62091),r=n(52909),o=n(33990);const E=(0,i.zo)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",width:"100%",marginBottom:t.sizing.scale600}})),s=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale700,paddingRight:t.sizing.scale700,paddingBottom:t.sizing.scale700}})),l=(0,i.zo)(a.Z,(e=>{let{$theme:t,$invertColor:n}=e;return{width:t.sizing.scale800,minWidth:t.sizing.scale800,height:"auto",minHeight:t.sizing.scale800,...n?{filter:"invert(100%)"}:{}}})),c=(0,i.zo)("div",{width:"100%"}),d=(0,i.zo)("div",(e=>({...e.$isBold?e.$theme.typography.LabelMedium:e.$theme.typography.ParagraphMedium,display:"flex",justifyContent:"space-between",alignItems:"center"}))),u=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:t.sizing.scale100,marginRight:t.sizing.scale300,marginLeft:t.sizing.scale300}})),O=(0,i.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),_=(0,i.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginBottom:t.sizing.scale100}})),R=(0,i.zo)("ul",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600}}));function S(e){return(0,o.BX)(u,{children:[e.endTitleIconUrl?(0,o.tZ)(a.Z,{src:e.endTitleIconUrl,width:"16",height:"16"}):null,e.endTitle]})}const I=e=>{const{themeId:t}=(0,r.aG)(),n="dark"===t;return(0,o.tZ)(R,{children:e.paragraphs?e.paragraphs.map((t=>(0,o.BX)(E,{children:[t.iconUrl?(0,o.tZ)(s,{children:(0,o.tZ)(l,{src:t.iconUrl,$invertColor:Boolean(e.__invertIconColorOnDarkMode&&n)})}):null,(0,o.BX)(c,{children:[(0,o.BX)(d,{$isBold:t.isTitleBold||!1,children:[(0,o.tZ)(_,{children:t.title}),t.endTitle?(0,o.tZ)(S,{endTitle:t.endTitle,endTitleIconUrl:t.endTitleIconUrl}):null]}),(0,o.tZ)(O,{children:t.subtitle})]})]},t.title))):null})}},94292:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(32857),a=n(68065),r=n(43193),o=n(94722);const E=(e,t)=>t[e||o.Us.UNKNOWN];var s=n(58984),l=n(74622),c=n(62459);var d=n(33535),u=n(34626),O=n(80886),_=n(31139),R=n(99990),S=n(49398),I=function(e){return e[e.COMPLIANT=1]="COMPLIANT",e[e.DEFERRED=2]="DEFERRED",e[e.NONCOMPLIANT=0]="NONCOMPLIANT",e}(I||{});function T(e){let{metadata:t}=e;const n=function(e){const t=(0,c.Z)("updateComplianceV1");return(0,l.useMutation)((e=>t.request("updateComplianceV1",e)),e)}(),i=t?.DisclosureVersionUUID||"",a=I.COMPLIANT,{store:r}=(0,R.QT)(),o=(0,d.ZP)(),{store:E}=(0,_.e3)(),T=(0,s.I0)(),m=Array.isArray(r)?r[0].data:r.data,p=Array.isArray(E)?E[0].data:E.data,{user:D}=(0,u.Z)(),N=D.data?.isLoggedIn;return N?async()=>{o("eats:age_gate_user_has_a_valid_age"),T((0,O.C5)({isOpen:!1})),i&&await n.mutateAsync({compliance:a,disclosureVersionUuid:i})}:()=>{o("eats:age_gate_user_has_a_valid_age"),(0,S.bs)(m||p),T((0,O.C5)({isOpen:!1}))}}var m=n(69744);var p=n(33990),D=function(e){return e.SUCCESS="success",e.ERROR="error",e.LOADING="loading",e.IDLE="idle",e}(D||{});function N(e){let{metadata:t,bottomSheet:n,onClose:s}=e;const l=function(e){let{metadata:t}=e;const n=T({metadata:t});return{[o.Us.UPDATE_COMPLIANCE_CONSENTS]:n,[o.Us.BOTTOM_SHEET]:m.Z,[o.Us.UNKNOWN]:m.Z}}({metadata:t}),[c,d]=r.useState(D.IDLE),u=c===D.LOADING,O=n.secondaryButtonText?(0,p.tZ)(i.Z,{kind:a.TO.tertiary,size:a.NO.large,onClick:async()=>{const e=E(n.secondaryActionType,l);e&&await e(),s()},disabled:u,children:n.secondaryButtonText}):null,_=n.url?(0,p.tZ)(i.Z,{kind:a.TO.tertiary,size:a.NO.large,$as:"a",href:n.url,target:"_blank",disabled:u,children:n.secondaryButtonText}):O;return{primaryButton:n.buttonText?(0,p.tZ)(i.Z,{size:a.NO.large,onClick:async()=>{const e=E(n.primaryActionType,l);if(e)try{d(D.LOADING),await e(),d(D.SUCCESS),s()}catch(e){s()}},isLoading:u,disabled:u,children:n.buttonText}):null,secondaryButton:_}}},49398:(e,t,n)=>{n.d(t,{bs:()=>r,m4:()=>o});var i=n(61127),a=n(68799);const r=e=>{const t=(0,a.Z7)("uev2.age-gating.dateOfConsent"),n=e?.cityId,r=e.storeMerchantTypeInfo?.uberMerchantType?.type,o=`${n}|${r}`;(0,i.Z)(t)?(0,a.pc)("uev2.age-gating.dateOfConsent",{[o]:Date.now()}):(t[o]=Date.now(),(0,a.pc)("uev2.age-gating.dateOfConsent",t))},o=e=>{const t=(e=>{const t=(0,a.Z7)("uev2.age-gating.dateOfConsent");if((0,i.Z)(t))return null;const n=e?.cityId,r=e.storeMerchantTypeInfo?.uberMerchantType?.type;return t[`${n}|${r}`]||null})(e);if(!t)return!0;const n=new Date(t).getTime();return(new Date).getTime()-n>2592e6}},31139:(e,t,n)=>{n.d(t,{ZP:()=>C,e3:()=>h});var i=n(36151),a=n(91631),r=n(47986),o=n(69744),E=n(54510),s=n(46668),l=n(76594),c=n(79517),d=n(62155),u=n(43193),O=n(87444);const _=e=>{const t=(0,O.Z)("item_variants"),{menuItem:n}=e,[i,a]=u.useState(e),r=i.menuItem.data||n.data,o=null!==(0,d.Ju)(r?.productDetailsItems??[]);t&&n.hasLoaded&&n.data?.uuid!==i.menuItem.data?.uuid&&o&&a(e);const E=!n.hasLoaded&&i?.menuItem.hasLoaded&&o;return t?{hasVariantOptions:o,isSwitchingVariantOptions:E,values:E?i:e}:{hasVariantOptions:!1,isSwitchingVariantOptions:!1,values:e}};var R=n(54669),S=n(62149),I=n(60849),T=n(41063),m=n(33967),p=n(33990);const D={...s.E},N={...s.E},A=i.createContext({isCanonicalProduct:!1,isSwitchingStores:!1,isSwitchingVariantOptions:!1,canonicalItemStoreUuid:null,setCanonicalItemStoreUuid:o.Z,isUnavailableNearby:!1,productUuid:null,menuItem:D,hasVariantOptions:!1,quantity:1,partialMenuItem:null,store:N,updateQuantity:(e,t)=>{},specialInstructions:"",updateSpecialInstructions:e=>{},updateCustomizations:e=>{},selectedCustomizations:{},hasErrors:!1,isOnSale:!0,totalPrice:0,discountedPrice:0,addToCart:e=>{let{isStartingNewOrder:t,eventSource:n}=e},isDeliveryLocationSet:!0,setDeliveryLocation:e=>{},firstIncompleteGroup:"",incompleteSubmissionState:"",setIncompleteSubmissionState:e=>{},outOfItemAction:null,updateOutOfItemAction:e=>{},updateUpsellItemQuantity:(e,t)=>{},itemsUpsell:l.E,spendingLimitError:null,canEditGroupOrderCart:!1,showClosedRestaurantUX:!1,storeUnavailableMessage:"",backupProduct:null,updateBackupProduct:e=>{},decimalQuantity:c.Tf.from(1).toBaseDecimal(),didAddItem:!1,isDraftOrderParticipantForStore:!1,itemParams:void 0,selectedSavedCustomizationIndex:-1,setSelectedSavedCustomizationIndex:e=>{},numClicks:0,editItemParams:null,updateItemQuantity:()=>{}});function h(){const e=i.useContext(A);if(null!==e)return e;throw Error("You should use useProductDetailsContext only in a descendant of ProductDetailsProvider")}const C=function(e){let{children:t,navigateBackOnItemAdd:n=!1,itemParams:o,editItemParams:s,shoppingCartItemUuid:l}=e;const c=(0,R.Z)(),[u,D]=i.useState(null),[N,h]=i.useState(null),C=(0,a.UO)(),{productUuid:U}=(0,r.hNc)(C),g=(0,S.TH)(),P=(0,I.ip)({...T.v.eats_web_store_shopping_list,defaultValue:!1}),{entryPoint:L}=(0,r.RAN)(g,["entryPoint"]),y=Boolean(U),V=i.useRef(0),M=i.useCallback((()=>{V.current=V.current+1}),[]),b=(0,E.Z)({shouldNavigateBackToStoreOnItemAdd:P&&"shoppingList"===L||n,canonicalItemStoreUuid:u,productUuid:U,itemParams:o,editItemParams:s,preparedId:"store-product-details-provider"}),f=(0,O.Z)("pdp_click_tracking_enabled");i.useEffect((()=>(f&&document.addEventListener("mousedown",M),()=>{f&&document.removeEventListener("mousedown",M)})),[f,M]);const{hasVariantOptions:Z,isSwitchingVariantOptions:v,values:{partialMenuItem:B,store:z,menuItem:Y,quantity:x,updateQuantity:$,specialInstructions:w,updateSpecialInstructions:H,updateCustomizations:F,selectedCustomizations:k,hasErrors:G,isOnSale:W,totalPrice:K,discountedPrice:j,addToCart:X,isDeliveryLocationSet:Q,setDeliveryLocation:q,firstIncompleteGroup:J,incompleteSubmissionState:ee,setIncompleteSubmissionState:te,outOfItemAction:ne,updateOutOfItemAction:ie,updateUpsellItemQuantity:ae,itemsUpsell:re,spendingLimitError:oe,canEditGroupOrderCart:Ee,showClosedRestaurantUX:se,storeUnavailableMessage:le,backupProduct:ce,updateBackupProduct:de,decimalQuantity:ue,didAddItem:Oe,isDraftOrderParticipantForStore:_e,selectedSavedCustomizationIndex:Re,setSelectedSavedCustomizationIndex:Se}}=_(b);if(y&&Y.hasLoaded&&Y.data){const e=(0,d.vu)(Y.data.productDetailsItems)?.defaultSelectedStoreUuid;N!==c&&e!==u&&(D(e),h(c)),u||!e||v||D(e)}const Ie=y&&Q&&!u&&!v,Te=(0,m.Z)(!1,!0,!0),me=i.useCallback((()=>{l&&Te(l,x)}),[l,x,Te]);return(0,p.tZ)(A.Provider,{value:{isCanonicalProduct:y,isSwitchingStores:!z.hasLoaded,canonicalItemStoreUuid:u,setCanonicalItemStoreUuid:D,isSwitchingVariantOptions:v,isUnavailableNearby:Ie,productUuid:U,menuItem:Y,hasVariantOptions:Z,quantity:x,partialMenuItem:B,store:z,updateQuantity:$,specialInstructions:w,updateSpecialInstructions:H,updateCustomizations:F,selectedCustomizations:k,hasErrors:G,isOnSale:W,totalPrice:K,discountedPrice:j,addToCart:X,isDeliveryLocationSet:Q,setDeliveryLocation:q,firstIncompleteGroup:J,incompleteSubmissionState:ee,setIncompleteSubmissionState:te,outOfItemAction:ne,updateOutOfItemAction:ie,updateUpsellItemQuantity:ae,itemsUpsell:re,spendingLimitError:oe,canEditGroupOrderCart:Ee,showClosedRestaurantUX:se,storeUnavailableMessage:le,backupProduct:ce,updateBackupProduct:de,decimalQuantity:ue,didAddItem:Oe,isDraftOrderParticipantForStore:_e,itemParams:o,selectedSavedCustomizationIndex:Re,setSelectedSavedCustomizationIndex:Se,numClicks:V.current,editItemParams:s,updateItemQuantity:me},children:t})}}}]);